diff --git a/diagrams/cpp.dia b/diagrams/cpp.dia
index 0a5b718..a6e3e75 100644
--- a/diagrams/cpp.dia
+++ b/diagrams/cpp.dia
@@ -4268,7 +4268,7 @@ Does not use characters which are not valid for C++ identifiers.#</dia:string>
         <dia:point val="112,47"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="12.620000000000001"/>
+        <dia:real val="12.619999999999999"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -4936,7 +4936,7 @@ Does not use characters which are not valid for C++ identifiers.#</dia:string>
         <dia:point val="92,47"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="8.5849999999999991"/>
+        <dia:real val="8.5850000000000009"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="15.600000000000003"/>
@@ -6776,7 +6776,7 @@ These are expected to use quotes and be on the user path.#</dia:string>
         <dia:point val="-28,26"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="30.545000000000002"/>
+        <dia:real val="30.544999999999998"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="42.5"/>
@@ -7457,7 +7457,7 @@ variables.#</dia:string>
         <dia:point val="375,105"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="16.685000000000002"/>
+        <dia:real val="16.684999999999999"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3.3000000000000003"/>
@@ -7502,7 +7502,7 @@ factories.#</dia:string>
         <dia:point val="383.342,108.3"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="381.968,108.239;383.404,112.15"/>
+        <dia:rectangle val="381.968,108.239;383.403,112.15"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -7730,7 +7730,7 @@ factories.#</dia:string>
         <dia:point val="135.667,123"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="39.385000000000005"/>
+        <dia:real val="39.384999999999998"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="6.8000000000000007"/>
@@ -8502,7 +8502,7 @@ factories.#</dia:string>
         <dia:point val="238.667,168"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="24.755000000000003"/>
+        <dia:real val="24.754999999999999"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="4.4000000000000004"/>
@@ -11517,7 +11517,7 @@ descend from it. Names are in identifiable name format.#</dia:string>
         <dia:point val="119,95"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="6.7924999999999995"/>
+        <dia:real val="6.7925000000000004"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -11819,7 +11819,7 @@ descend from it. Names are in identifiable name format.#</dia:string>
         <dia:point val="72.6667,168.083"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="13.254999999999999"/>
+        <dia:real val="13.255000000000001"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -12152,7 +12152,7 @@ descend from it. Names are in identifiable name format.#</dia:string>
         <dia:point val="93.6667,174.083"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="18.580000000000002"/>
+        <dia:real val="18.579999999999998"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -12263,7 +12263,7 @@ descend from it. Names are in identifiable name format.#</dia:string>
         <dia:point val="72.6667,180.083"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="13.919999999999998"/>
+        <dia:real val="13.92"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -12485,7 +12485,7 @@ descend from it. Names are in identifiable name format.#</dia:string>
         <dia:point val="93.6667,180.083"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="15.684999999999999"/>
+        <dia:real val="15.685"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -13283,7 +13283,7 @@ descend from it. Names are in identifiable name format.#</dia:string>
         <dia:point val="138.667,168"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="18.580000000000002"/>
+        <dia:real val="18.579999999999998"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -13877,7 +13877,7 @@ descend from it. Names are in identifiable name format.#</dia:string>
         <dia:point val="185.667,168"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="18.580000000000002"/>
+        <dia:real val="18.579999999999998"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -14471,7 +14471,7 @@ descend from it. Names are in identifiable name format.#</dia:string>
         <dia:point val="233.667,194"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="18.580000000000002"/>
+        <dia:real val="18.579999999999998"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -14687,7 +14687,7 @@ descend from it. Names are in identifiable name format.#</dia:string>
         <dia:point val="156.667,147"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="156.617,146.95;166.134,150.05"/>
+        <dia:rectangle val="156.617,146.95;166.135,150.05"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
         <dia:point val="156.667,147"/>
@@ -15371,7 +15371,7 @@ descend from it. Names are in identifiable name format.#</dia:string>
         <dia:point val="138.667,195"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="18.580000000000002"/>
+        <dia:real val="18.579999999999998"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -15737,7 +15737,7 @@ descend from it. Names are in identifiable name format.#</dia:string>
         <dia:point val="184.667,188"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="184.617,187.95;195.454,191.05"/>
+        <dia:rectangle val="184.617,187.95;195.455,191.05"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
         <dia:point val="184.667,188"/>
@@ -15854,7 +15854,7 @@ descend from it. Names are in identifiable name format.#</dia:string>
         <dia:point val="209,135"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="22.830000000000002"/>
+        <dia:real val="22.829999999999998"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3.6000000000000001"/>
@@ -16739,7 +16739,7 @@ descend from it. Names are in identifiable name format.#</dia:string>
         <dia:point val="71,121.333"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="19.380000000000003"/>
+        <dia:real val="19.379999999999999"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="6.5"/>
@@ -16800,7 +16800,7 @@ grammar of the C++-11 programming language.
         <dia:real val="15.145"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
-        <dia:real val="4.0999999999999996"/>
+        <dia:real val="4.1000000000000005"/>
       </dia:attribute>
       <dia:attribute name="line_width">
         <dia:real val="0.10000000000000001"/>
@@ -16855,7 +16855,7 @@ C++ language.
         <dia:real val="14.76"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
-        <dia:real val="4.0999999999999996"/>
+        <dia:real val="4.1000000000000005"/>
       </dia:attribute>
       <dia:attribute name="line_width">
         <dia:real val="0.10000000000000001"/>
@@ -16910,7 +16910,7 @@ C++ language.
         <dia:real val="13.99"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
-        <dia:real val="4.0999999999999996"/>
+        <dia:real val="4.1000000000000005"/>
       </dia:attribute>
       <dia:attribute name="line_width">
         <dia:real val="0.10000000000000001"/>
@@ -16965,7 +16965,7 @@ of the C++ language.
         <dia:real val="13.99"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
-        <dia:real val="4.0999999999999996"/>
+        <dia:real val="4.1000000000000005"/>
       </dia:attribute>
       <dia:attribute name="line_width">
         <dia:real val="0.10000000000000001"/>
@@ -17020,7 +17020,7 @@ C++ language.
         <dia:real val="14.375"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
-        <dia:real val="4.0999999999999996"/>
+        <dia:real val="4.1000000000000005"/>
       </dia:attribute>
       <dia:attribute name="line_width">
         <dia:real val="0.10000000000000001"/>
@@ -17075,7 +17075,7 @@ C++ language.
         <dia:real val="15.530000000000001"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
-        <dia:real val="4.0999999999999996"/>
+        <dia:real val="4.1000000000000005"/>
       </dia:attribute>
       <dia:attribute name="line_width">
         <dia:real val="0.10000000000000001"/>
@@ -18486,7 +18486,7 @@ to the grammar of the C++ language.#</dia:string>
         <dia:point val="184.667,194"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="184.617,193.95;192.504,197.05"/>
+        <dia:rectangle val="184.617,193.95;192.505,197.05"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
         <dia:point val="184.667,194"/>
@@ -18708,7 +18708,7 @@ to the grammar of the C++ language.#</dia:string>
         <dia:point val="255.667,188"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="255.617,187.95;263.504,191.05"/>
+        <dia:rectangle val="255.617,187.95;263.505,191.05"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
         <dia:point val="255.667,188"/>
@@ -19528,7 +19528,7 @@ main.#</dia:string>
         <dia:point val="363,112"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="9.807500000000001"/>
+        <dia:real val="9.8074999999999992"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -19750,7 +19750,7 @@ main.#</dia:string>
         <dia:point val="227,77"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="32.839999999999996"/>
+        <dia:real val="32.840000000000003"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="15.400000000000002"/>
@@ -20548,16 +20548,16 @@ main.#</dia:string>
         <dia:point val="326,57"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="325.95,56.95;356.965,66.85"/>
+        <dia:rectangle val="325.95,56.95;361.585,67.65"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
         <dia:point val="326,57"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="30.914999999999999"/>
+        <dia:real val="35.534999999999997"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
-        <dia:real val="9.8000000000000007"/>
+        <dia:real val="10.6"/>
       </dia:attribute>
       <dia:attribute name="name">
         <dia:string>#transformer#</dia:string>
@@ -20672,10 +20672,10 @@ main.#</dia:string>
         </dia:composite>
         <dia:composite type="umlattribute">
           <dia:attribute name="name">
-            <dia:string>#path_spec_details_by_key_#</dia:string>
+            <dia:string>#details_#</dia:string>
           </dia:attribute>
           <dia:attribute name="type">
-            <dia:string>#std::unordered_map&lt;path_spec_key,path_spec_details&gt;#</dia:string>
+            <dia:string>#std::unordered_map&lt;sml::qname,std::unordered_map&lt;std::string,path_spec_details&gt;&gt;#</dia:string>
           </dia:attribute>
           <dia:attribute name="value">
             <dia:string>##</dia:string>
@@ -20729,7 +20729,7 @@ main.#</dia:string>
                 <dia:string>#ps#</dia:string>
               </dia:attribute>
               <dia:attribute name="type">
-                <dia:string>#const std::unordered_map&lt;path_spec_key,path_spec_details&gt;&amp;#</dia:string>
+                <dia:string>#const std::unordered_map&lt;sml::qname,std::unordered_map&lt;std::string,path_spec_details&gt;&gt;&amp;#</dia:string>
               </dia:attribute>
               <dia:attribute name="value">
                 <dia:string>##</dia:string>
@@ -21030,7 +21030,7 @@ main.#</dia:string>
         <dia:point val="340.765,77"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="325.95,66.75;341.515,77.8"/>
+        <dia:rectangle val="325.95,67.55;341.515,77.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -21039,7 +21039,7 @@ main.#</dia:string>
         <dia:point val="340.765,77"/>
         <dia:point val="340.765,72"/>
         <dia:point val="326,72"/>
-        <dia:point val="326,66.8"/>
+        <dia:point val="326,67.6"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -21098,17 +21098,17 @@ main.#</dia:string>
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="341.457,57"/>
+        <dia:point val="343.767,57"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="340.707,45.55;354.198,57.8"/>
+        <dia:rectangle val="343.017,45.55;354.198,57.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="341.457,57"/>
-        <dia:point val="341.457,52"/>
+        <dia:point val="343.767,57"/>
+        <dia:point val="343.767,52"/>
         <dia:point val="353.998,52"/>
         <dia:point val="353.998,45.6"/>
       </dia:attribute>
@@ -21886,7 +21886,7 @@ main.#</dia:string>
       </dia:attribute>
       <dia:connections>
         <dia:connection handle="0" to="O67" connection="8"/>
-        <dia:connection handle="1" to="O215" connection="1"/>
+        <dia:connection handle="1" to="O212" connection="1"/>
       </dia:connections>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O173">
@@ -21900,7 +21900,7 @@ main.#</dia:string>
         <dia:point val="93.6667,186.083"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="4.7700000000000005"/>
+        <dia:real val="4.7699999999999996"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -22011,7 +22011,7 @@ main.#</dia:string>
         <dia:point val="118.667,173"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="4.7700000000000005"/>
+        <dia:real val="4.7699999999999996"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -22122,7 +22122,7 @@ main.#</dia:string>
         <dia:point val="118.667,200"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="4.7700000000000005"/>
+        <dia:real val="4.7699999999999996"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -22233,7 +22233,7 @@ main.#</dia:string>
         <dia:point val="163.667,199"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="4.7700000000000005"/>
+        <dia:real val="4.7699999999999996"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -22344,7 +22344,7 @@ main.#</dia:string>
         <dia:point val="164.667,173"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="4.7700000000000005"/>
+        <dia:real val="4.7699999999999996"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -22455,7 +22455,7 @@ main.#</dia:string>
         <dia:point val="212.667,199"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="4.7700000000000005"/>
+        <dia:real val="4.7699999999999996"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -22566,7 +22566,7 @@ main.#</dia:string>
         <dia:point val="287,199"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="4.7700000000000005"/>
+        <dia:real val="4.7699999999999996"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -22677,7 +22677,7 @@ main.#</dia:string>
         <dia:point val="305,63"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="7.2775000000000007"/>
+        <dia:real val="7.2774999999999999"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="3"/>
@@ -23030,13 +23030,13 @@ main.#</dia:string>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O184">
       <dia:attribute name="obj_pos">
-        <dia:point val="369,64"/>
+        <dia:point val="368,57"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="368.95,63.95;384.565,67.65"/>
+        <dia:rectangle val="367.95,56.95;383.565,60.65"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="369,64"/>
+        <dia:point val="368,57"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="15.515000000000001"/>
@@ -23310,17 +23310,17 @@ C++ model type.#</dia:string>
     </dia:object>
     <dia:object type="UML - Message" version="0" id="O187">
       <dia:attribute name="obj_pos">
-        <dia:point val="347.353,71.9509"/>
+        <dia:point val="347.673,71.9499"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="341.156,66.4659;347.423,72.0214"/>
+        <dia:rectangle val="343.436,67.2956;347.743,72.0205"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="conn_endpoints">
-        <dia:point val="347.353,71.9509"/>
-        <dia:point val="341.457,66.8"/>
+        <dia:point val="347.673,71.9499"/>
+        <dia:point val="343.767,67.6"/>
       </dia:attribute>
       <dia:attribute name="text_colour">
         <dia:color val="#000000"/>
@@ -23335,7 +23335,7 @@ C++ model type.#</dia:string>
         <dia:enum val="0"/>
       </dia:attribute>
       <dia:attribute name="text_pos">
-        <dia:point val="344.405,69.8754"/>
+        <dia:point val="345.72,70.2749"/>
       </dia:attribute>
       <dia:connections>
         <dia:connection handle="0" to="O186" connection="8"/>
@@ -23393,7 +23393,7 @@ C++ model type.#</dia:string>
         <dia:real val="13.220000000000001"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
-        <dia:real val="4.0999999999999996"/>
+        <dia:real val="4.1000000000000005"/>
       </dia:attribute>
       <dia:attribute name="line_width">
         <dia:real val="0.10000000000000001"/>
@@ -23543,7 +23543,7 @@ data such as the facet settings.#</dia:string>
             <dia:string>##</dia:string>
           </dia:attribute>
           <dia:attribute name="type">
-            <dia:string>#std::unordered_map&lt;path_spec_key,path_spec_details&gt;#</dia:string>
+            <dia:string>#std::unordered_map&lt;sml::qname,std::unordered_map&lt;std::string,path_spec_details&gt;&gt;#</dia:string>
           </dia:attribute>
           <dia:attribute name="visibility">
             <dia:enum val="0"/>
@@ -23606,164 +23606,7 @@ data such as the facet settings.#</dia:string>
       </dia:attribute>
       <dia:attribute name="templates"/>
     </dia:object>
-    <dia:object type="UML - Class" version="0" id="O191">
-      <dia:attribute name="obj_pos">
-        <dia:point val="371,57"/>
-      </dia:attribute>
-      <dia:attribute name="obj_bb">
-        <dia:rectangle val="370.95,56.95;381.56,60.65"/>
-      </dia:attribute>
-      <dia:attribute name="elem_corner">
-        <dia:point val="371,57"/>
-      </dia:attribute>
-      <dia:attribute name="elem_width">
-        <dia:real val="10.51"/>
-      </dia:attribute>
-      <dia:attribute name="elem_height">
-        <dia:real val="3.6000000000000001"/>
-      </dia:attribute>
-      <dia:attribute name="name">
-        <dia:string>#path_spec_key#</dia:string>
-      </dia:attribute>
-      <dia:attribute name="stereotype">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="comment">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="abstract">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="suppress_attributes">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="suppress_operations">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="visible_attributes">
-        <dia:boolean val="true"/>
-      </dia:attribute>
-      <dia:attribute name="visible_operations">
-        <dia:boolean val="true"/>
-      </dia:attribute>
-      <dia:attribute name="visible_comments">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="wrap_operations">
-        <dia:boolean val="true"/>
-      </dia:attribute>
-      <dia:attribute name="wrap_after_char">
-        <dia:int val="40"/>
-      </dia:attribute>
-      <dia:attribute name="comment_line_length">
-        <dia:int val="17"/>
-      </dia:attribute>
-      <dia:attribute name="comment_tagging">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="line_width">
-        <dia:real val="0.10000000000000001"/>
-      </dia:attribute>
-      <dia:attribute name="line_color">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:attribute name="fill_color">
-        <dia:color val="#ffffff"/>
-      </dia:attribute>
-      <dia:attribute name="text_color">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:attribute name="normal_font">
-        <dia:font family="monospace" style="0" name="Courier"/>
-      </dia:attribute>
-      <dia:attribute name="abstract_font">
-        <dia:font family="monospace" style="88" name="Courier-BoldOblique"/>
-      </dia:attribute>
-      <dia:attribute name="polymorphic_font">
-        <dia:font family="monospace" style="8" name="Courier-Oblique"/>
-      </dia:attribute>
-      <dia:attribute name="classname_font">
-        <dia:font family="sans" style="80" name="Helvetica-Bold"/>
-      </dia:attribute>
-      <dia:attribute name="abstract_classname_font">
-        <dia:font family="sans" style="88" name="Helvetica-BoldOblique"/>
-      </dia:attribute>
-      <dia:attribute name="comment_font">
-        <dia:font family="sans" style="8" name="Helvetica-Oblique"/>
-      </dia:attribute>
-      <dia:attribute name="normal_font_height">
-        <dia:real val="0.80000000000000004"/>
-      </dia:attribute>
-      <dia:attribute name="polymorphic_font_height">
-        <dia:real val="0.80000000000000004"/>
-      </dia:attribute>
-      <dia:attribute name="abstract_font_height">
-        <dia:real val="0.80000000000000004"/>
-      </dia:attribute>
-      <dia:attribute name="classname_font_height">
-        <dia:real val="1"/>
-      </dia:attribute>
-      <dia:attribute name="abstract_classname_font_height">
-        <dia:real val="1"/>
-      </dia:attribute>
-      <dia:attribute name="comment_font_height">
-        <dia:real val="0.69999999999999996"/>
-      </dia:attribute>
-      <dia:attribute name="attributes">
-        <dia:composite type="umlattribute">
-          <dia:attribute name="name">
-            <dia:string>#formatter_id#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="type">
-            <dia:string>#std::string#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="value">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="comment">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="visibility">
-            <dia:enum val="0"/>
-          </dia:attribute>
-          <dia:attribute name="abstract">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="class_scope">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-        </dia:composite>
-        <dia:composite type="umlattribute">
-          <dia:attribute name="name">
-            <dia:string>#qname#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="type">
-            <dia:string>#sml::qname#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="value">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="comment">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="visibility">
-            <dia:enum val="0"/>
-          </dia:attribute>
-          <dia:attribute name="abstract">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="class_scope">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-        </dia:composite>
-      </dia:attribute>
-      <dia:attribute name="operations"/>
-      <dia:attribute name="template">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="templates"/>
-    </dia:object>
-    <dia:object type="UML - Association" version="2" id="O192">
+    <dia:object type="UML - Association" version="2" id="O191">
       <dia:attribute name="name">
         <dia:string>#&lt; builds path spec details for#</dia:string>
       </dia:attribute>
@@ -23804,7 +23647,7 @@ data such as the facet settings.#</dia:string>
         <dia:point val="340.765,80.7"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="340.015,62.15;426.58,82.3"/>
+        <dia:rectangle val="340.015,62.15;409.39,82.3"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -23812,8 +23655,8 @@ data such as the facet settings.#</dia:string>
       <dia:attribute name="orth_points">
         <dia:point val="340.765,80.7"/>
         <dia:point val="340.765,81"/>
-        <dia:point val="426.38,81"/>
-        <dia:point val="426.38,62.2"/>
+        <dia:point val="409.19,81"/>
+        <dia:point val="409.19,62.2"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -23831,81 +23674,10 @@ data such as the facet settings.#</dia:string>
       </dia:attribute>
       <dia:connections>
         <dia:connection handle="0" to="O67" connection="11"/>
-        <dia:connection handle="1" to="O190" connection="7"/>
+        <dia:connection handle="1" to="O190" connection="6"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O193">
-      <dia:attribute name="name">
-        <dia:string>#accesses path specs using &gt;#</dia:string>
-      </dia:attribute>
-      <dia:attribute name="direction">
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="show_direction">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="assoc_type">
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="role_a">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="multipicity_a">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="visibility_a">
-        <dia:enum val="3"/>
-      </dia:attribute>
-      <dia:attribute name="show_arrow_a">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="role_b">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="multipicity_b">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="visibility_b">
-        <dia:enum val="3"/>
-      </dia:attribute>
-      <dia:attribute name="show_arrow_b">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="obj_pos">
-        <dia:point val="356.915,57"/>
-      </dia:attribute>
-      <dia:attribute name="obj_bb">
-        <dia:rectangle val="356.165,51.25;371.2,57.8"/>
-      </dia:attribute>
-      <dia:attribute name="meta">
-        <dia:composite type="dict"/>
-      </dia:attribute>
-      <dia:attribute name="orth_points">
-        <dia:point val="356.915,57"/>
-        <dia:point val="356.915,52"/>
-        <dia:point val="371,52"/>
-        <dia:point val="371,57"/>
-      </dia:attribute>
-      <dia:attribute name="orth_orient">
-        <dia:enum val="1"/>
-        <dia:enum val="0"/>
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="orth_autoroute">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="text_colour">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:attribute name="line_colour">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:connections>
-        <dia:connection handle="0" to="O162" connection="2"/>
-        <dia:connection handle="1" to="O191" connection="0"/>
-      </dia:connections>
-    </dia:object>
-    <dia:object type="UML - Association" version="2" id="O194">
+    <dia:object type="UML - Association" version="2" id="O192">
       <dia:attribute name="name">
         <dia:string>#builds settings using &gt;#</dia:string>
       </dia:attribute>
@@ -23976,7 +23748,7 @@ data such as the facet settings.#</dia:string>
         <dia:connection handle="1" to="O159" connection="0"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O195">
+    <dia:object type="UML - Association" version="2" id="O193">
       <dia:attribute name="name">
         <dia:string>#builds settings using &gt;#</dia:string>
       </dia:attribute>
@@ -24017,7 +23789,7 @@ data such as the facet settings.#</dia:string>
         <dia:point val="340.765,82.8"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="340.015,82.05;373.007,112.8"/>
+        <dia:rectangle val="340.015,82.05;373.008,112.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -24047,7 +23819,7 @@ data such as the facet settings.#</dia:string>
         <dia:connection handle="1" to="O158" connection="2"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O196">
+    <dia:object type="UML - Association" version="2" id="O194">
       <dia:attribute name="name">
         <dia:string>#&lt; throws#</dia:string>
       </dia:attribute>
@@ -24119,7 +23891,7 @@ data such as the facet settings.#</dia:string>
       </dia:connections>
       <dia:childnode parent="O49"/>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O197">
+    <dia:object type="UML - Association" version="2" id="O195">
       <dia:attribute name="name">
         <dia:string>#throws &gt;#</dia:string>
       </dia:attribute>
@@ -24191,7 +23963,7 @@ data such as the facet settings.#</dia:string>
       </dia:connections>
       <dia:childnode parent="O49"/>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O198">
+    <dia:object type="UML - Association" version="2" id="O196">
       <dia:attribute name="name">
         <dia:string>##</dia:string>
       </dia:attribute>
@@ -24262,7 +24034,7 @@ data such as the facet settings.#</dia:string>
         <dia:connection handle="1" to="O157" connection="1"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O199">
+    <dia:object type="UML - Association" version="2" id="O197">
       <dia:attribute name="name">
         <dia:string>##</dia:string>
       </dia:attribute>
@@ -24333,7 +24105,7 @@ data such as the facet settings.#</dia:string>
         <dia:connection handle="1" to="O156" connection="1"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O200">
+    <dia:object type="UML - Association" version="2" id="O198">
       <dia:attribute name="name">
         <dia:string>##</dia:string>
       </dia:attribute>
@@ -24404,7 +24176,7 @@ data such as the facet settings.#</dia:string>
         <dia:connection handle="1" to="O156" connection="6"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O201">
+    <dia:object type="UML - Association" version="2" id="O199">
       <dia:attribute name="name">
         <dia:string>##</dia:string>
       </dia:attribute>
@@ -24475,7 +24247,7 @@ data such as the facet settings.#</dia:string>
         <dia:connection handle="1" to="O157" connection="6"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Note" version="0" id="O202">
+    <dia:object type="UML - Note" version="0" id="O200">
       <dia:attribute name="obj_pos">
         <dia:point val="379,120"/>
       </dia:attribute>
@@ -24492,7 +24264,7 @@ data such as the facet settings.#</dia:string>
         <dia:real val="16.300000000000001"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
-        <dia:real val="4.0999999999999996"/>
+        <dia:real val="4.1000000000000005"/>
       </dia:attribute>
       <dia:attribute name="line_width">
         <dia:real val="0.10000000000000001"/>
@@ -24530,7 +24302,7 @@ the meta-data.
       </dia:attribute>
       <dia:childnode parent="O49"/>
     </dia:object>
-    <dia:object type="UML - Class" version="0" id="O203">
+    <dia:object type="UML - Class" version="0" id="O201">
       <dia:attribute name="obj_pos">
         <dia:point val="70.6667,135"/>
       </dia:attribute>
@@ -24707,7 +24479,7 @@ the meta-data.
       <dia:attribute name="templates"/>
       <dia:childnode parent="O54"/>
     </dia:object>
-    <dia:object type="UML - Class" version="0" id="O204">
+    <dia:object type="UML - Class" version="0" id="O202">
       <dia:attribute name="obj_pos">
         <dia:point val="287,181"/>
       </dia:attribute>
@@ -24818,7 +24590,7 @@ the meta-data.
       <dia:attribute name="templates"/>
       <dia:childnode parent="O54"/>
     </dia:object>
-    <dia:object type="UML - Class" version="0" id="O205">
+    <dia:object type="UML - Class" version="0" id="O203">
       <dia:attribute name="obj_pos">
         <dia:point val="270,181"/>
       </dia:attribute>
@@ -24829,7 +24601,7 @@ the meta-data.
         <dia:point val="270,181"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="12.434999999999999"/>
+        <dia:real val="12.435"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="10.799999999999999"/>
@@ -25160,7 +24932,7 @@ the meta-data.
       <dia:attribute name="templates"/>
       <dia:childnode parent="O54"/>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O206">
+    <dia:object type="UML - Association" version="2" id="O204">
       <dia:attribute name="name">
         <dia:string>#&lt; builds#</dia:string>
       </dia:attribute>
@@ -25198,19 +24970,19 @@ the meta-data.
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="392,62.2"/>
+        <dia:point val="409.19,57"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="384.465,61.45;392.75,68.4"/>
+        <dia:rectangle val="375.707,51.25;409.94,57.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="392,62.2"/>
-        <dia:point val="392,66"/>
-        <dia:point val="384.515,66"/>
-        <dia:point val="384.515,67.6"/>
+        <dia:point val="409.19,57"/>
+        <dia:point val="409.19,52"/>
+        <dia:point val="375.757,52"/>
+        <dia:point val="375.757,57"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -25227,11 +24999,11 @@ the meta-data.
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O190" connection="5"/>
-        <dia:connection handle="1" to="O184" connection="7"/>
+        <dia:connection handle="0" to="O190" connection="1"/>
+        <dia:connection handle="1" to="O184" connection="1"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O207">
+    <dia:object type="UML - Association" version="2" id="O205">
       <dia:attribute name="name">
         <dia:string>#updates entity properties using &gt;#</dia:string>
       </dia:attribute>
@@ -25269,19 +25041,19 @@ the meta-data.
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="356.915,66.8"/>
+        <dia:point val="361.535,67.6"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="356.165,66.05;376.957,72.05"/>
+        <dia:rectangle val="360.785,60.55;375.957,72.05"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="356.915,66.8"/>
-        <dia:point val="356.915,72"/>
-        <dia:point val="376.757,72"/>
-        <dia:point val="376.757,67.6"/>
+        <dia:point val="361.535,67.6"/>
+        <dia:point val="361.535,72"/>
+        <dia:point val="375.757,72"/>
+        <dia:point val="375.757,60.6"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -25302,78 +25074,7 @@ the meta-data.
         <dia:connection handle="1" to="O184" connection="6"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O208">
-      <dia:attribute name="name">
-        <dia:string>#&lt; indexes path specs details by#</dia:string>
-      </dia:attribute>
-      <dia:attribute name="direction">
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="show_direction">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="assoc_type">
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="role_a">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="multipicity_a">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="visibility_a">
-        <dia:enum val="3"/>
-      </dia:attribute>
-      <dia:attribute name="show_arrow_a">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="role_b">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="multipicity_b">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="visibility_b">
-        <dia:enum val="3"/>
-      </dia:attribute>
-      <dia:attribute name="show_arrow_b">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="obj_pos">
-        <dia:point val="426.38,57"/>
-      </dia:attribute>
-      <dia:attribute name="obj_bb">
-        <dia:rectangle val="381.46,51.25;427.13,57.8"/>
-      </dia:attribute>
-      <dia:attribute name="meta">
-        <dia:composite type="dict"/>
-      </dia:attribute>
-      <dia:attribute name="orth_points">
-        <dia:point val="426.38,57"/>
-        <dia:point val="426.38,52"/>
-        <dia:point val="381.51,52"/>
-        <dia:point val="381.51,57"/>
-      </dia:attribute>
-      <dia:attribute name="orth_orient">
-        <dia:enum val="1"/>
-        <dia:enum val="0"/>
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="orth_autoroute">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="text_colour">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:attribute name="line_colour">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:connections>
-        <dia:connection handle="0" to="O190" connection="2"/>
-        <dia:connection handle="1" to="O191" connection="2"/>
-      </dia:connections>
-    </dia:object>
-    <dia:object type="UML - Class" version="0" id="O209">
+    <dia:object type="UML - Class" version="0" id="O206">
       <dia:attribute name="obj_pos">
         <dia:point val="284,98"/>
       </dia:attribute>
@@ -25679,7 +25380,7 @@ the meta-data.
       </dia:attribute>
       <dia:attribute name="templates"/>
     </dia:object>
-    <dia:object type="UML - Class" version="0" id="O210">
+    <dia:object type="UML - Class" version="0" id="O207">
       <dia:attribute name="obj_pos">
         <dia:point val="210,120"/>
       </dia:attribute>
@@ -26021,7 +25722,7 @@ the meta-data.
       <dia:attribute name="templates"/>
       <dia:childnode parent="O54"/>
     </dia:object>
-    <dia:object type="UML - Class" version="0" id="O211">
+    <dia:object type="UML - Class" version="0" id="O208">
       <dia:attribute name="obj_pos">
         <dia:point val="248,143"/>
       </dia:attribute>
@@ -26181,7 +25882,7 @@ the meta-data.
       <dia:attribute name="templates"/>
       <dia:childnode parent="O54"/>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O212">
+    <dia:object type="UML - Association" version="2" id="O209">
       <dia:attribute name="name">
         <dia:string>##</dia:string>
       </dia:attribute>
@@ -26249,10 +25950,10 @@ the meta-data.
       </dia:attribute>
       <dia:connections>
         <dia:connection handle="0" to="O160" connection="6"/>
-        <dia:connection handle="1" to="O210" connection="1"/>
+        <dia:connection handle="1" to="O207" connection="1"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O213">
+    <dia:object type="UML - Association" version="2" id="O210">
       <dia:attribute name="name">
         <dia:string>#splits &gt;#</dia:string>
       </dia:attribute>
@@ -26319,11 +26020,11 @@ the meta-data.
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O210" connection="6"/>
-        <dia:connection handle="1" to="O211" connection="1"/>
+        <dia:connection handle="0" to="O207" connection="6"/>
+        <dia:connection handle="1" to="O208" connection="1"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O214">
+    <dia:object type="UML - Association" version="2" id="O211">
       <dia:attribute name="name">
         <dia:string>##</dia:string>
       </dia:attribute>
@@ -26364,7 +26065,7 @@ the meta-data.
         <dia:point val="306,82.8"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="302.488,82.05;306.75,99.6"/>
+        <dia:rectangle val="302.488,82.05;306.75,98.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -26391,10 +26092,10 @@ the meta-data.
       </dia:attribute>
       <dia:connections>
         <dia:connection handle="0" to="O67" connection="5"/>
-        <dia:connection handle="1" to="O209" connection="1"/>
+        <dia:connection handle="1" to="O206" connection="1"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Class" version="0" id="O215">
+    <dia:object type="UML - Class" version="0" id="O212">
       <dia:attribute name="obj_pos">
         <dia:point val="265,125"/>
       </dia:attribute>
@@ -26405,7 +26106,7 @@ the meta-data.
         <dia:point val="265,125"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="32.839999999999996"/>
+        <dia:real val="32.840000000000003"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="6"/>
@@ -26619,7 +26320,7 @@ the meta-data.
       <dia:attribute name="templates"/>
       <dia:childnode parent="O54"/>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O216">
+    <dia:object type="UML - Association" version="2" id="O213">
       <dia:attribute name="name">
         <dia:string>##</dia:string>
       </dia:attribute>
@@ -26660,7 +26361,7 @@ the meta-data.
         <dia:point val="264.95,128"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="257.42,125.05;265.7,129.6"/>
+        <dia:rectangle val="257.42,124.35;265.7,128.85"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -26686,12 +26387,12 @@ the meta-data.
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O215" connection="12"/>
-        <dia:connection handle="1" to="O210" connection="15"/>
+        <dia:connection handle="0" to="O212" connection="12"/>
+        <dia:connection handle="1" to="O207" connection="15"/>
       </dia:connections>
       <dia:childnode parent="O54"/>
     </dia:object>
-    <dia:object type="UML - Note" version="0" id="O217">
+    <dia:object type="UML - Note" version="0" id="O214">
       <dia:attribute name="obj_pos">
         <dia:point val="265,136"/>
       </dia:attribute>
@@ -26744,12 +26445,12 @@ for a given C++ entity.#</dia:string>
       </dia:attribute>
       <dia:childnode parent="O54"/>
     </dia:object>
-    <dia:object type="UML - Message" version="0" id="O218">
+    <dia:object type="UML - Message" version="0" id="O215">
       <dia:attribute name="obj_pos">
         <dia:point val="271.803,136"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="264.723,130.648;271.872,136.07"/>
+        <dia:rectangle val="264.723,130.648;271.873,136.07"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -26774,12 +26475,12 @@ for a given C++ entity.#</dia:string>
         <dia:point val="268.401,134"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O217" connection="1"/>
-        <dia:connection handle="1" to="O215" connection="5"/>
+        <dia:connection handle="0" to="O214" connection="1"/>
+        <dia:connection handle="1" to="O212" connection="5"/>
       </dia:connections>
       <dia:childnode parent="O54"/>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O219">
+    <dia:object type="UML - Association" version="2" id="O216">
       <dia:attribute name="name">
         <dia:string>#creates &gt;#</dia:string>
       </dia:attribute>
@@ -26820,7 +26521,7 @@ for a given C++ entity.#</dia:string>
         <dia:point val="302.538,108"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="301.788,107.25;315.498,118.6"/>
+        <dia:rectangle val="301.788,107.25;315.498,117.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -26846,11 +26547,11 @@ for a given C++ entity.#</dia:string>
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O209" connection="6"/>
+        <dia:connection handle="0" to="O206" connection="6"/>
         <dia:connection handle="1" to="O165" connection="1"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Class" version="0" id="O220">
+    <dia:object type="UML - Class" version="0" id="O217">
       <dia:attribute name="obj_pos">
         <dia:point val="287,136"/>
       </dia:attribute>
@@ -27031,7 +26732,7 @@ for a given C++ entity.#</dia:string>
       <dia:attribute name="templates"/>
       <dia:childnode parent="O54"/>
     </dia:object>
-    <dia:object type="UML - Class" version="0" id="O221">
+    <dia:object type="UML - Class" version="0" id="O218">
       <dia:attribute name="obj_pos">
         <dia:point val="261,153"/>
       </dia:attribute>
@@ -27208,7 +26909,7 @@ for a given C++ entity.#</dia:string>
       <dia:attribute name="templates"/>
       <dia:childnode parent="O54"/>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O222">
+    <dia:object type="UML - Association" version="2" id="O219">
       <dia:attribute name="name">
         <dia:string>#produces &gt;#</dia:string>
       </dia:attribute>
@@ -27249,7 +26950,7 @@ for a given C++ entity.#</dia:string>
         <dia:point val="293.603,141.2"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="276.285,141.15;293.803,154.6"/>
+        <dia:rectangle val="276.285,141.15;293.803,153.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -27275,12 +26976,12 @@ for a given C++ entity.#</dia:string>
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O220" connection="6"/>
-        <dia:connection handle="1" to="O221" connection="1"/>
+        <dia:connection handle="0" to="O217" connection="6"/>
+        <dia:connection handle="1" to="O218" connection="1"/>
       </dia:connections>
       <dia:childnode parent="O54"/>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O223">
+    <dia:object type="UML - Association" version="2" id="O220">
       <dia:attribute name="name">
         <dia:string>##</dia:string>
       </dia:attribute>
@@ -27321,7 +27022,7 @@ for a given C++ entity.#</dia:string>
         <dia:point val="293.603,136"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="280.67,130.25;293.803,137.6"/>
+        <dia:rectangle val="280.67,130.25;293.803,136.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -27347,8 +27048,8 @@ for a given C++ entity.#</dia:string>
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O220" connection="1"/>
-        <dia:connection handle="1" to="O215" connection="6"/>
+        <dia:connection handle="0" to="O217" connection="1"/>
+        <dia:connection handle="1" to="O212" connection="6"/>
       </dia:connections>
       <dia:childnode parent="O54"/>
     </dia:object>
diff --git a/doc/agile/sprint_backlog_56.org b/doc/agile/sprint_backlog_56.org
index 0804e4d..fd93aef 100644
--- a/doc/agile/sprint_backlog_56.org
+++ b/doc/agile/sprint_backlog_56.org
@@ -37,6 +37,7 @@ Updates to sprint and product backlog.
 Use downtime to update the manual and / or readme file.
 
 *** IMPLEMENTATION Implement path spec details builder for class header :task:
+    CLOCK: [2014-11-17 Mon 17:54]
     CLOCK: [2014-11-17 Mon 07:53]--[2014-11-17 Mon 08:13] =>  0:20
 
 We need to implement the interface for path spec details builder.
diff --git a/projects/cpp/include/dogen/cpp/hash/all_hash.hpp b/projects/cpp/include/dogen/cpp/hash/all_hash.hpp
index 5d76e01..5834507 100644
--- a/projects/cpp/include/dogen/cpp/hash/all_hash.hpp
+++ b/projects/cpp/include/dogen/cpp/hash/all_hash.hpp
@@ -46,7 +46,6 @@
 #include "dogen/cpp/hash/odb_options_info_hash.hpp"
 #include "dogen/cpp/hash/parent_info_hash.hpp"
 #include "dogen/cpp/hash/path_spec_details_hash.hpp"
-#include "dogen/cpp/hash/path_spec_key_hash.hpp"
 #include "dogen/cpp/hash/primitive_info_hash.hpp"
 #include "dogen/cpp/hash/project_hash.hpp"
 #include "dogen/cpp/hash/property_info_hash.hpp"
diff --git a/projects/cpp/include/dogen/cpp/hash/path_spec_key_hash.hpp b/projects/cpp/include/dogen/cpp/hash/path_spec_key_hash.hpp
deleted file mode 100644
index 8c5533c..0000000
--- a/projects/cpp/include/dogen/cpp/hash/path_spec_key_hash.hpp
+++ /dev/null
@@ -1,52 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#ifndef DOGEN_CPP_HASH_PATH_SPEC_KEY_HASH_HPP
-#define DOGEN_CPP_HASH_PATH_SPEC_KEY_HASH_HPP
-
-#if defined(_MSC_VER) && (_MSC_VER >= 1200)
-#pragma once
-#endif
-
-#include <functional>
-#include "dogen/cpp/types/path_spec_key.hpp"
-
-namespace dogen {
-namespace cpp {
-
-struct path_spec_key_hasher {
-public:
-    static std::size_t hash(const path_spec_key& v);
-};
-
-} }
-
-namespace std {
-
-template<>
-struct hash<dogen::cpp::path_spec_key> {
-public:
-    size_t operator()(const dogen::cpp::path_spec_key& v) const {
-        return dogen::cpp::path_spec_key_hasher::hash(v);
-    }
-};
-
-}
-#endif
diff --git a/projects/cpp/include/dogen/cpp/io/all_io.hpp b/projects/cpp/include/dogen/cpp/io/all_io.hpp
index ae45694..45f52bd 100644
--- a/projects/cpp/include/dogen/cpp/io/all_io.hpp
+++ b/projects/cpp/include/dogen/cpp/io/all_io.hpp
@@ -46,7 +46,6 @@
 #include "dogen/cpp/io/odb_options_info_io.hpp"
 #include "dogen/cpp/io/parent_info_io.hpp"
 #include "dogen/cpp/io/path_spec_details_io.hpp"
-#include "dogen/cpp/io/path_spec_key_io.hpp"
 #include "dogen/cpp/io/primitive_info_io.hpp"
 #include "dogen/cpp/io/project_io.hpp"
 #include "dogen/cpp/io/property_info_io.hpp"
diff --git a/projects/cpp/include/dogen/cpp/io/path_spec_key_io.hpp b/projects/cpp/include/dogen/cpp/io/path_spec_key_io.hpp
deleted file mode 100644
index dfc4217..0000000
--- a/projects/cpp/include/dogen/cpp/io/path_spec_key_io.hpp
+++ /dev/null
@@ -1,40 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#ifndef DOGEN_CPP_IO_PATH_SPEC_KEY_IO_HPP
-#define DOGEN_CPP_IO_PATH_SPEC_KEY_IO_HPP
-
-#if defined(_MSC_VER) && (_MSC_VER >= 1200)
-#pragma once
-#endif
-
-#include <iosfwd>
-#include "dogen/cpp/types/path_spec_key.hpp"
-
-namespace dogen {
-namespace cpp {
-
-std::ostream&
-operator<<(std::ostream& s,
-     const dogen::cpp::path_spec_key& v);
-
-} }
-
-#endif
diff --git a/projects/cpp/include/dogen/cpp/serialization/all_ser.hpp b/projects/cpp/include/dogen/cpp/serialization/all_ser.hpp
index 505c5c0..a7946b3 100644
--- a/projects/cpp/include/dogen/cpp/serialization/all_ser.hpp
+++ b/projects/cpp/include/dogen/cpp/serialization/all_ser.hpp
@@ -46,7 +46,6 @@
 #include "dogen/cpp/serialization/odb_options_info_ser.hpp"
 #include "dogen/cpp/serialization/parent_info_ser.hpp"
 #include "dogen/cpp/serialization/path_spec_details_ser.hpp"
-#include "dogen/cpp/serialization/path_spec_key_ser.hpp"
 #include "dogen/cpp/serialization/primitive_info_ser.hpp"
 #include "dogen/cpp/serialization/project_ser.hpp"
 #include "dogen/cpp/serialization/property_info_ser.hpp"
diff --git a/projects/cpp/include/dogen/cpp/serialization/path_spec_key_fwd_ser.hpp b/projects/cpp/include/dogen/cpp/serialization/path_spec_key_fwd_ser.hpp
deleted file mode 100644
index 6069311..0000000
--- a/projects/cpp/include/dogen/cpp/serialization/path_spec_key_fwd_ser.hpp
+++ /dev/null
@@ -1,41 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#ifndef DOGEN_CPP_SERIALIZATION_PATH_SPEC_KEY_FWD_SER_HPP
-#define DOGEN_CPP_SERIALIZATION_PATH_SPEC_KEY_FWD_SER_HPP
-
-#if defined(_MSC_VER) && (_MSC_VER >= 1200)
-#pragma once
-#endif
-
-#include "dogen/cpp/types/path_spec_key_fwd.hpp"
-
-namespace boost {
-namespace serialization {
-
-template<class Archive>
-void save(Archive& ar, const dogen::cpp::path_spec_key& v, unsigned int version);
-
-template<class Archive>
-void load(Archive& ar, dogen::cpp::path_spec_key& v, unsigned int version);
-
-} }
-
-#endif
diff --git a/projects/cpp/include/dogen/cpp/serialization/path_spec_key_ser.hpp b/projects/cpp/include/dogen/cpp/serialization/path_spec_key_ser.hpp
deleted file mode 100644
index bc7e274..0000000
--- a/projects/cpp/include/dogen/cpp/serialization/path_spec_key_ser.hpp
+++ /dev/null
@@ -1,43 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#ifndef DOGEN_CPP_SERIALIZATION_PATH_SPEC_KEY_SER_HPP
-#define DOGEN_CPP_SERIALIZATION_PATH_SPEC_KEY_SER_HPP
-
-#if defined(_MSC_VER) && (_MSC_VER >= 1200)
-#pragma once
-#endif
-
-#include <boost/serialization/split_free.hpp>
-#include "dogen/cpp/types/path_spec_key.hpp"
-
-BOOST_SERIALIZATION_SPLIT_FREE(dogen::cpp::path_spec_key)
-namespace boost {
-namespace serialization {
-
-template<typename Archive>
-void save(Archive& ar, const dogen::cpp::path_spec_key& v, unsigned int version);
-
-template<typename Archive>
-void load(Archive& ar, dogen::cpp::path_spec_key& v, unsigned int version);
-
-} }
-
-#endif
diff --git a/projects/cpp/include/dogen/cpp/test_data/all_td.hpp b/projects/cpp/include/dogen/cpp/test_data/all_td.hpp
index b3e19f4..5663c54 100644
--- a/projects/cpp/include/dogen/cpp/test_data/all_td.hpp
+++ b/projects/cpp/include/dogen/cpp/test_data/all_td.hpp
@@ -46,7 +46,6 @@
 #include "dogen/cpp/test_data/odb_options_info_td.hpp"
 #include "dogen/cpp/test_data/parent_info_td.hpp"
 #include "dogen/cpp/test_data/path_spec_details_td.hpp"
-#include "dogen/cpp/test_data/path_spec_key_td.hpp"
 #include "dogen/cpp/test_data/primitive_info_td.hpp"
 #include "dogen/cpp/test_data/project_td.hpp"
 #include "dogen/cpp/test_data/property_info_td.hpp"
diff --git a/projects/cpp/include/dogen/cpp/test_data/path_spec_key_td.hpp b/projects/cpp/include/dogen/cpp/test_data/path_spec_key_td.hpp
deleted file mode 100644
index 45d6db9..0000000
--- a/projects/cpp/include/dogen/cpp/test_data/path_spec_key_td.hpp
+++ /dev/null
@@ -1,53 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#ifndef DOGEN_CPP_TEST_DATA_PATH_SPEC_KEY_TD_HPP
-#define DOGEN_CPP_TEST_DATA_PATH_SPEC_KEY_TD_HPP
-
-#if defined(_MSC_VER) && (_MSC_VER >= 1200)
-#pragma once
-#endif
-
-#include "dogen/cpp/types/path_spec_key.hpp"
-
-namespace dogen {
-namespace cpp {
-
-class path_spec_key_generator {
-public:
-    path_spec_key_generator();
-
-public:
-    typedef dogen::cpp::path_spec_key result_type;
-
-public:
-    static void populate(const unsigned int position, result_type& v);
-    static result_type create(const unsigned int position);
-    result_type operator()();
-
-private:
-    unsigned int position_;
-public:
-    static result_type* create_ptr(const unsigned int position);
-};
-
-} }
-
-#endif
diff --git a/projects/cpp/include/dogen/cpp/types/all.hpp b/projects/cpp/include/dogen/cpp/types/all.hpp
index 185f646..1686803 100644
--- a/projects/cpp/include/dogen/cpp/types/all.hpp
+++ b/projects/cpp/include/dogen/cpp/types/all.hpp
@@ -142,7 +142,6 @@
 #include "dogen/cpp/types/parent_info.hpp"
 #include "dogen/cpp/types/path_spec_details.hpp"
 #include "dogen/cpp/types/path_spec_details_builder_interface.hpp"
-#include "dogen/cpp/types/path_spec_key.hpp"
 #include "dogen/cpp/types/primitive_info.hpp"
 #include "dogen/cpp/types/project.hpp"
 #include "dogen/cpp/types/property_info.hpp"
diff --git a/projects/cpp/include/dogen/cpp/types/path_spec_details_builder_interface.hpp b/projects/cpp/include/dogen/cpp/types/path_spec_details_builder_interface.hpp
index 6316d4c..36f4bf5 100644
--- a/projects/cpp/include/dogen/cpp/types/path_spec_details_builder_interface.hpp
+++ b/projects/cpp/include/dogen/cpp/types/path_spec_details_builder_interface.hpp
@@ -27,10 +27,10 @@
 
 #include <unordered_map>
 #include <boost/filesystem/path.hpp>
+#include "dogen/sml/types/qname.hpp"
+#include "dogen/sml/hash/qname_hash.hpp"
 #include "dogen/sml/types/model.hpp"
 #include "dogen/cpp/types/includes.hpp"
-#include "dogen/cpp/types/path_spec_key.hpp"
-#include "dogen/cpp/hash/path_spec_key_hash.hpp"
 #include "dogen/cpp/types/path_spec_details.hpp"
 
 namespace dogen {
@@ -41,6 +41,10 @@ namespace cpp {
  */
 class path_spec_details_builder_interface  {
 public:
+    typedef std::unordered_map<std::string, path_spec_details>
+    path_spec_details_by_formatter_type;
+
+public:
     path_spec_details_builder_interface() = default;
     path_spec_details_builder_interface(
         const path_spec_details_builder_interface &) = delete;
@@ -57,8 +61,9 @@ public:
      * @param relative_paths relative paths the system knows of, keyed
      * by qualified name and formatter id.
      */
-    virtual std::unordered_map<path_spec_key, path_spec_details> build(
-        const sml::model& m,
+    virtual std::unordered_map<sml::qname,
+                               path_spec_details_by_formatter_type>
+    build(const sml::model& m,
         const std::unordered_map<path_spec_key, boost::filesystem::path>&
         relative_file_names_for_key) const = 0;
 };
diff --git a/projects/cpp/include/dogen/cpp/types/path_spec_key.hpp b/projects/cpp/include/dogen/cpp/types/path_spec_key.hpp
deleted file mode 100644
index aef0e64..0000000
--- a/projects/cpp/include/dogen/cpp/types/path_spec_key.hpp
+++ /dev/null
@@ -1,94 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#ifndef DOGEN_CPP_TYPES_PATH_SPEC_KEY_HPP
-#define DOGEN_CPP_TYPES_PATH_SPEC_KEY_HPP
-
-#if defined(_MSC_VER) && (_MSC_VER >= 1200)
-#pragma once
-#endif
-
-#include <algorithm>
-#include <string>
-#include "dogen/cpp/serialization/path_spec_key_fwd_ser.hpp"
-#include "dogen/sml/types/qname.hpp"
-
-namespace dogen {
-namespace cpp {
-
-class path_spec_key final {
-public:
-    path_spec_key() = default;
-    path_spec_key(const path_spec_key&) = default;
-    path_spec_key(path_spec_key&&) = default;
-    ~path_spec_key() = default;
-
-public:
-    path_spec_key(
-        const std::string& formatter_id,
-        const dogen::sml::qname& qname);
-
-private:
-    template<typename Archive>
-    friend void boost::serialization::save(Archive& ar, const path_spec_key& v, unsigned int version);
-
-    template<typename Archive>
-    friend void boost::serialization::load(Archive& ar, path_spec_key& v, unsigned int version);
-
-public:
-    const std::string& formatter_id() const;
-    std::string& formatter_id();
-    void formatter_id(const std::string& v);
-    void formatter_id(const std::string&& v);
-
-    const dogen::sml::qname& qname() const;
-    dogen::sml::qname& qname();
-    void qname(const dogen::sml::qname& v);
-    void qname(const dogen::sml::qname&& v);
-
-public:
-    bool operator==(const path_spec_key& rhs) const;
-    bool operator!=(const path_spec_key& rhs) const {
-        return !this->operator==(rhs);
-    }
-
-public:
-    void swap(path_spec_key& other) noexcept;
-    path_spec_key& operator=(path_spec_key other);
-
-private:
-    std::string formatter_id_;
-    dogen::sml::qname qname_;
-};
-
-} }
-
-namespace std {
-
-template<>
-inline void swap(
-    dogen::cpp::path_spec_key& lhs,
-    dogen::cpp::path_spec_key& rhs) {
-    lhs.swap(rhs);
-}
-
-}
-
-#endif
diff --git a/projects/cpp/include/dogen/cpp/types/path_spec_key_fwd.hpp b/projects/cpp/include/dogen/cpp/types/path_spec_key_fwd.hpp
deleted file mode 100644
index ab15813..0000000
--- a/projects/cpp/include/dogen/cpp/types/path_spec_key_fwd.hpp
+++ /dev/null
@@ -1,35 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#ifndef DOGEN_CPP_TYPES_PATH_SPEC_KEY_FWD_HPP
-#define DOGEN_CPP_TYPES_PATH_SPEC_KEY_FWD_HPP
-
-#if defined(_MSC_VER) && (_MSC_VER >= 1200)
-#pragma once
-#endif
-
-namespace dogen {
-namespace cpp {
-
-class path_spec_key;
-
-} }
-
-#endif
diff --git a/projects/cpp/include/dogen/cpp/types/transformer.hpp b/projects/cpp/include/dogen/cpp/types/transformer.hpp
index 36ee0c2..838b47c 100644
--- a/projects/cpp/include/dogen/cpp/types/transformer.hpp
+++ b/projects/cpp/include/dogen/cpp/types/transformer.hpp
@@ -29,6 +29,7 @@
 #include <memory>
 #include <unordered_map>
 #include "dogen/sml/types/qname.hpp"
+#include "dogen/sml/hash/qname_hash.hpp"
 #include "dogen/sml/types/model.hpp"
 #include "dogen/sml/types/module.hpp"
 #include "dogen/sml/types/concept.hpp"
@@ -45,8 +46,6 @@
 #include "dogen/cpp/types/namespace_info.hpp"
 #include "dogen/cpp/types/primitive_info.hpp"
 #include "dogen/cpp/types/class_info.hpp"
-#include "dogen/cpp/types/path_spec_key.hpp"
-#include "dogen/cpp/hash/path_spec_key_hash.hpp"
 #include "dogen/cpp/types/path_spec_details.hpp"
 
 namespace dogen {
@@ -57,9 +56,14 @@ namespace cpp {
  */
 class transformer {
 public:
+    typedef std::unordered_map<std::string, path_spec_details>
+    path_spec_details_by_formatter_type;
+
+public:
     transformer(
-        const std::unordered_map<path_spec_key, path_spec_details>&
-        path_spec_details_for_key, const sml::model& m);
+        const std::unordered_map<sml::qname,
+                                 path_spec_details_by_formatter_type>& details,
+        const sml::model& m);
 
 private:
     /**
@@ -164,8 +168,8 @@ public:
     std::shared_ptr<entity> transform(const sml::object& o) const;
 
 private:
-    const std::unordered_map<path_spec_key, path_spec_details>&
-    path_spec_details_for_key_;
+    const std::unordered_map<sml::qname,
+                             path_spec_details_by_formatter_type>& details_;
     const sml::model& model_;
 };
 
diff --git a/projects/cpp/include/dogen/cpp/types/workflow.hpp b/projects/cpp/include/dogen/cpp/types/workflow.hpp
index 3412d77..3c6cf0d 100644
--- a/projects/cpp/include/dogen/cpp/types/workflow.hpp
+++ b/projects/cpp/include/dogen/cpp/types/workflow.hpp
@@ -41,7 +41,6 @@
 #include "dogen/cpp/types/path_spec_details.hpp"
 #include "dogen/cpp/types/formatters/container.hpp"
 #include "dogen/cpp/types/formatters/formatter_types.hpp"
-#include "dogen/cpp/types/formatters/class_formatter_interface.hpp"
 
 namespace dogen {
 namespace cpp {
@@ -51,6 +50,10 @@ namespace cpp {
  */
 class workflow : public backend::backend_interface {
 public:
+    typedef std::unordered_map<std::string, path_spec_details>
+    path_spec_details_by_formatter_type;
+
+public:
     workflow() = default;
     workflow(const workflow&) = delete;
     workflow(workflow&&) = default;
@@ -79,7 +82,8 @@ private:
     template<typename AssociativeContainerOfElement>
     std::forward_list<std::shared_ptr<entity>>
     transform_sml_elements(
-        const std::unordered_map<path_spec_key, path_spec_details>& details,
+        const std::unordered_map<sml::qname,
+                                 path_spec_details_by_formatter_type>& details,
         const sml::model& m,
         const AssociativeContainerOfElement& c) const {
         std::forward_list<std::shared_ptr<entity> > r;
@@ -144,7 +148,8 @@ private:
     /**
      * @brief Creates all path spec details for a model.
      */
-    std::unordered_map<path_spec_key, path_spec_details>
+    std::unordered_map<sml::qname,
+                       path_spec_details_by_formatter_type>
     obtain_path_spec_details_for_key_activity(
         const std::forward_list<formatters::facet>& facets, const sml::model& m,
         const std::unordered_map<path_spec_key, boost::filesystem::path>&
@@ -157,7 +162,8 @@ private:
     template<typename AssociativeContainerOfElement>
     std::forward_list<dogen::formatters::file>
     create_files_from_sml_container_activity(
-        const std::unordered_map<path_spec_key, path_spec_details>& details,
+        const std::unordered_map<sml::qname,
+                                 path_spec_details_by_formatter_type>& details,
         const sml::model& m,
         const formatters::workflow& fw,
         const AssociativeContainerOfElement& c) const {
diff --git a/projects/cpp/src/hash/path_spec_key_hash.cpp b/projects/cpp/src/hash/path_spec_key_hash.cpp
deleted file mode 100644
index 7120cf1..0000000
--- a/projects/cpp/src/hash/path_spec_key_hash.cpp
+++ /dev/null
@@ -1,47 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#include "dogen/cpp/hash/path_spec_key_hash.hpp"
-#include "dogen/sml/hash/qname_hash.hpp"
-
-namespace {
-
-template <typename HashableType>
-inline void combine(std::size_t& seed, const HashableType& value)
-{
-    std::hash<HashableType> hasher;
-    seed ^= hasher(value) + 0x9e3779b9 + (seed << 6) + (seed >> 2);
-}
-
-}
-
-namespace dogen {
-namespace cpp {
-
-std::size_t path_spec_key_hasher::hash(const path_spec_key&v) {
-    std::size_t seed(0);
-
-    combine(seed, v.formatter_id());
-    combine(seed, v.qname());
-
-    return seed;
-}
-
-} }
diff --git a/projects/cpp/src/io/path_spec_key_io.cpp b/projects/cpp/src/io/path_spec_key_io.cpp
deleted file mode 100644
index f8d70e9..0000000
--- a/projects/cpp/src/io/path_spec_key_io.cpp
+++ /dev/null
@@ -1,46 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#include <boost/algorithm/string.hpp>
-#include <ostream>
-#include "dogen/cpp/io/path_spec_key_io.hpp"
-#include "dogen/sml/io/qname_io.hpp"
-
-
-inline std::string tidy_up_string(std::string s) {
-    boost::replace_all(s, "\r\n", "<new_line>");
-    boost::replace_all(s, "\n", "<new_line>");
-    boost::replace_all(s, "\"", "<quote>");
-    return s;
-}
-
-namespace dogen {
-namespace cpp {
-
-std::ostream& operator<<(std::ostream& s, const path_spec_key& v) {
-    s << " { "
-      << "\"__type__\": " << "\"dogen::cpp::path_spec_key\"" << ", "
-      << "\"formatter_id\": " << "\"" << tidy_up_string(v.formatter_id()) << "\"" << ", "
-      << "\"qname\": " << v.qname()
-      << " }";
-    return(s);
-}
-
-} }
\ No newline at end of file
diff --git a/projects/cpp/src/serialization/path_spec_key_ser.cpp b/projects/cpp/src/serialization/path_spec_key_ser.cpp
deleted file mode 100644
index ef58360..0000000
--- a/projects/cpp/src/serialization/path_spec_key_ser.cpp
+++ /dev/null
@@ -1,71 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#include <boost/archive/binary_iarchive.hpp>
-#include <boost/archive/binary_oarchive.hpp>
-#include <boost/archive/polymorphic_iarchive.hpp>
-#include <boost/archive/polymorphic_oarchive.hpp>
-#include <boost/archive/text_iarchive.hpp>
-#include <boost/archive/text_oarchive.hpp>
-#include <boost/archive/xml_iarchive.hpp>
-#include <boost/archive/xml_oarchive.hpp>
-#include <boost/serialization/nvp.hpp>
-#include <boost/serialization/string.hpp>
-#include "dogen/cpp/serialization/path_spec_key_ser.hpp"
-#include "dogen/sml/serialization/qname_ser.hpp"
-
-
-namespace boost {
-namespace serialization {
-
-template<typename Archive>
-void save(Archive& ar,
-    const dogen::cpp::path_spec_key& v,
-    const unsigned int /*version*/) {
-    ar << make_nvp("formatter_id", v.formatter_id_);
-    ar << make_nvp("qname", v.qname_);
-}
-
-template<typename Archive>
-void load(Archive& ar,
-    dogen::cpp::path_spec_key& v,
-    const unsigned int /*version*/) {
-    ar >> make_nvp("formatter_id", v.formatter_id_);
-    ar >> make_nvp("qname", v.qname_);
-}
-
-} }
-
-namespace boost {
-namespace serialization {
-
-template void save(archive::polymorphic_oarchive& ar, const dogen::cpp::path_spec_key& v, unsigned int version);
-template void load(archive::polymorphic_iarchive& ar, dogen::cpp::path_spec_key& v, unsigned int version);
-
-template void save(archive::text_oarchive& ar, const dogen::cpp::path_spec_key& v, unsigned int version);
-template void load(archive::text_iarchive& ar, dogen::cpp::path_spec_key& v, unsigned int version);
-
-template void save(archive::binary_oarchive& ar, const dogen::cpp::path_spec_key& v, unsigned int version);
-template void load(archive::binary_iarchive& ar, dogen::cpp::path_spec_key& v, unsigned int version);
-
-template void save(archive::xml_oarchive& ar, const dogen::cpp::path_spec_key& v, unsigned int version);
-template void load(archive::xml_iarchive& ar, dogen::cpp::path_spec_key& v, unsigned int version);
-
-} }
\ No newline at end of file
diff --git a/projects/cpp/src/test_data/path_spec_key_td.cpp b/projects/cpp/src/test_data/path_spec_key_td.cpp
deleted file mode 100644
index 69d295e..0000000
--- a/projects/cpp/src/test_data/path_spec_key_td.cpp
+++ /dev/null
@@ -1,69 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#include <sstream>
-#include "dogen/cpp/test_data/path_spec_key_td.hpp"
-#include "dogen/sml/test_data/qname_td.hpp"
-
-namespace {
-
-std::string create_std_string(const unsigned int position) {
-    std::ostringstream s;
-    s << "a_string_" << position;
-    return s.str();
-}
-
-dogen::sml::qname
-create_dogen_sml_qname(const unsigned int position) {
-    return dogen::sml::qname_generator::create(position);
-}
-
-}
-
-namespace dogen {
-namespace cpp {
-
-path_spec_key_generator::path_spec_key_generator() : position_(0) { }
-
-void path_spec_key_generator::
-populate(const unsigned int position, result_type& v) {
-    v.formatter_id(create_std_string(position + 0));
-    v.qname(create_dogen_sml_qname(position + 1));
-}
-
-path_spec_key_generator::result_type
-path_spec_key_generator::create(const unsigned int position) {
-    path_spec_key r;
-    path_spec_key_generator::populate(position, r);
-    return r;
-}
-path_spec_key_generator::result_type*
-path_spec_key_generator::create_ptr(const unsigned int position) {
-    path_spec_key* p = new path_spec_key();
-    path_spec_key_generator::populate(position, *p);
-    return p;
-}
-
-path_spec_key_generator::result_type
-path_spec_key_generator::operator()() {
-    return create(position_++);
-}
-
-} }
diff --git a/projects/cpp/src/types/formatters/types/class_header_formatter.cpp b/projects/cpp/src/types/formatters/types/class_header_formatter.cpp
index db7e027..2342111 100644
--- a/projects/cpp/src/types/formatters/types/class_header_formatter.cpp
+++ b/projects/cpp/src/types/formatters/types/class_header_formatter.cpp
@@ -49,17 +49,24 @@ namespace types {
 
 class path_spec_details_builder : public path_spec_details_builder_interface {
 public:
-    std::unordered_map<path_spec_key, path_spec_details> build(
-        const sml::model& m,
+    std::unordered_map<sml::qname,
+                       path_spec_details_builder_interface::
+                       path_spec_details_by_formatter_type>
+    build(const sml::model& m,
         const std::unordered_map<path_spec_key, boost::filesystem::path>&
         relative_file_names_for_key) const override;
 };
 
-std::unordered_map<path_spec_key, path_spec_details> path_spec_details_builder::
+std::unordered_map<sml::qname,
+                   path_spec_details_builder_interface::
+                   path_spec_details_by_formatter_type>
+path_spec_details_builder::
 build(const sml::model& /*m*/,
     const std::unordered_map<path_spec_key, boost::filesystem::path>&
     /*relative_file_names_for_key*/) const {
-    std::unordered_map<path_spec_key, path_spec_details> r;
+    std::unordered_map<sml::qname,
+                       path_spec_details_builder_interface::
+                       path_spec_details_by_formatter_type> r;
     return r;
 }
 
diff --git a/projects/cpp/src/types/path_spec_key.cpp b/projects/cpp/src/types/path_spec_key.cpp
deleted file mode 100644
index 96c7d6e..0000000
--- a/projects/cpp/src/types/path_spec_key.cpp
+++ /dev/null
@@ -1,81 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#include "dogen/cpp/types/path_spec_key.hpp"
-
-namespace dogen {
-namespace cpp {
-
-path_spec_key::path_spec_key(
-    const std::string& formatter_id,
-    const dogen::sml::qname& qname)
-    : formatter_id_(formatter_id),
-      qname_(qname) { }
-
-void path_spec_key::swap(path_spec_key& other) noexcept {
-    using std::swap;
-    swap(formatter_id_, other.formatter_id_);
-    swap(qname_, other.qname_);
-}
-
-bool path_spec_key::operator==(const path_spec_key& rhs) const {
-    return formatter_id_ == rhs.formatter_id_ &&
-        qname_ == rhs.qname_;
-}
-
-path_spec_key& path_spec_key::operator=(path_spec_key other) {
-    using std::swap;
-    swap(*this, other);
-    return *this;
-}
-
-const std::string& path_spec_key::formatter_id() const {
-    return formatter_id_;
-}
-
-std::string& path_spec_key::formatter_id() {
-    return formatter_id_;
-}
-
-void path_spec_key::formatter_id(const std::string& v) {
-    formatter_id_ = v;
-}
-
-void path_spec_key::formatter_id(const std::string&& v) {
-    formatter_id_ = std::move(v);
-}
-
-const dogen::sml::qname& path_spec_key::qname() const {
-    return qname_;
-}
-
-dogen::sml::qname& path_spec_key::qname() {
-    return qname_;
-}
-
-void path_spec_key::qname(const dogen::sml::qname& v) {
-    qname_ = v;
-}
-
-void path_spec_key::qname(const dogen::sml::qname&& v) {
-    qname_ = std::move(v);
-}
-
-} }
\ No newline at end of file
diff --git a/projects/cpp/src/types/transformer.cpp b/projects/cpp/src/types/transformer.cpp
index 2698895..a2a0819 100644
--- a/projects/cpp/src/types/transformer.cpp
+++ b/projects/cpp/src/types/transformer.cpp
@@ -171,9 +171,9 @@ namespace dogen {
 namespace cpp {
 
 transformer::transformer(
-    const std::unordered_map<path_spec_key, path_spec_details>&
-    path_spec_details_for_key, const sml::model& m)
-    : path_spec_details_for_key_(path_spec_details_for_key), model_(m) { }
+    const std::unordered_map<sml::qname,
+                             path_spec_details_by_formatter_type>&
+    details, const sml::model& m) : details_(details), model_(m) { }
 
 void transformer::populate_entity_properties(const sml::qname& qn,
     const std::string& documentation, entity& e) const {
@@ -185,7 +185,7 @@ void transformer::populate_entity_properties(const sml::qname& qn,
     e.namespaces(b.namespace_list(model_, qn));
 
     // FIXME
-    path_spec_details_for_key_.begin();
+    details_.begin();
 }
 
 void transformer::to_nested_type_info(const sml::nested_qname& nqn,
diff --git a/projects/cpp/src/types/workflow.cpp b/projects/cpp/src/types/workflow.cpp
index c611f55..c11ebce 100644
--- a/projects/cpp/src/types/workflow.cpp
+++ b/projects/cpp/src/types/workflow.cpp
@@ -191,13 +191,16 @@ workflow::obtain_relative_file_names_for_key_activity(
     return r;
 }
 
-std::unordered_map<path_spec_key, path_spec_details> workflow::
+std::unordered_map<sml::qname,
+                   workflow::path_spec_details_by_formatter_type> workflow::
 obtain_path_spec_details_for_key_activity(
     const std::forward_list<formatters::facet>& facets, const sml::model& m,
     const std::unordered_map<path_spec_key, boost::filesystem::path>&
     relative_file_names_for_key) const {
 
-    std::unordered_map<path_spec_key, path_spec_details> r;
+    std::unordered_map<sml::qname,
+                       workflow::path_spec_details_by_formatter_type> r;
+
     for (const auto fct : facets) {
         for (const auto fmt : fct.container().class_formatters()) {
             auto b(fmt->make_path_spec_details_builder());
