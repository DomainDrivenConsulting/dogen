diff --git a/diagrams/cpp.dia b/diagrams/cpp.dia
index 8ed85f6..28f977c 100644
--- a/diagrams/cpp.dia
+++ b/diagrams/cpp.dia
@@ -106,7 +106,7 @@
         <dia:point val="313.917,117"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="313.867,115.95;577.05,222.383"/>
+        <dia:rectangle val="313.867,115.95;589.05,222.383"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -115,7 +115,7 @@
         <dia:point val="313.917,117"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="263.08300000000003"/>
+        <dia:real val="275.08300000000003"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="105.33333333333323"/>
@@ -16499,16 +16499,16 @@ main, or from another initialiser.#</dia:string>
         <dia:point val="442,170"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="441.95,169.95;458.335,175.25"/>
+        <dia:rectangle val="441.95,169.95;452.098,174.45"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
         <dia:point val="442,170"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="16.285"/>
+        <dia:real val="10.047499999999999"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
-        <dia:real val="5.2000000000000011"/>
+        <dia:real val="4.4000000000000004"/>
       </dia:attribute>
       <dia:attribute name="name">
         <dia:string>#global_facet_settings#</dia:string>
@@ -16667,29 +16667,6 @@ main, or from another initialiser.#</dia:string>
             <dia:boolean val="false"/>
           </dia:attribute>
         </dia:composite>
-        <dia:composite type="umlattribute">
-          <dia:attribute name="name">
-            <dia:string>#integrated_facets#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="type">
-            <dia:string>#std::set&lt;std::string&gt;#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="value">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="comment">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="visibility">
-            <dia:enum val="0"/>
-          </dia:attribute>
-          <dia:attribute name="abstract">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="class_scope">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-        </dia:composite>
       </dia:attribute>
       <dia:attribute name="operations"/>
       <dia:attribute name="template">
@@ -21253,19 +21230,19 @@ for a given C++ entity.#</dia:string>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O147">
       <dia:attribute name="obj_pos">
-        <dia:point val="462,170"/>
+        <dia:point val="456,170"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="461.95,169.95;474.178,173.65"/>
+        <dia:rectangle val="455.95,169.95;485.425,174.45"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="462,170"/>
+        <dia:point val="456,170"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="12.127500000000001"/>
+        <dia:real val="29.375"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
-        <dia:real val="3.6000000000000001"/>
+        <dia:real val="4.4000000000000004"/>
       </dia:attribute>
       <dia:attribute name="name">
         <dia:string>#global_formatter_settings#</dia:string>
@@ -21401,6 +21378,29 @@ for a given C++ entity.#</dia:string>
             <dia:boolean val="false"/>
           </dia:attribute>
         </dia:composite>
+        <dia:composite type="umlattribute">
+          <dia:attribute name="name">
+            <dia:string>#aspect_settings#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::unordered_map&lt;std::string,settings::aspect_settings&gt;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="value">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+        </dia:composite>
       </dia:attribute>
       <dia:attribute name="operations"/>
       <dia:attribute name="template">
@@ -23763,7 +23763,7 @@ for a given C++ entity.#</dia:string>
         <dia:point val="453.19,160.2"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="450.092,159.45;453.94,170.75"/>
+        <dia:rectangle val="446.974,159.45;453.94,170.75"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -23771,8 +23771,8 @@ for a given C++ entity.#</dia:string>
       <dia:attribute name="orth_points">
         <dia:point val="453.19,160.2"/>
         <dia:point val="453.19,166"/>
-        <dia:point val="450.142,166"/>
-        <dia:point val="450.142,169.95"/>
+        <dia:point val="447.024,166"/>
+        <dia:point val="447.024,169.95"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -23790,7 +23790,7 @@ for a given C++ entity.#</dia:string>
       </dia:attribute>
       <dia:connections>
         <dia:connection handle="0" to="O124" connection="6"/>
-        <dia:connection handle="1" to="O120" connection="16"/>
+        <dia:connection handle="1" to="O120" connection="14"/>
       </dia:connections>
       <dia:childnode parent="O1"/>
     </dia:object>
@@ -23835,7 +23835,7 @@ for a given C++ entity.#</dia:string>
         <dia:point val="470.38,160.2"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="468.014,159.45;471.13,170.8"/>
+        <dia:rectangle val="469.63,159.45;471.13,170.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -23843,8 +23843,8 @@ for a given C++ entity.#</dia:string>
       <dia:attribute name="orth_points">
         <dia:point val="470.38,160.2"/>
         <dia:point val="470.38,166"/>
-        <dia:point val="468.064,166"/>
-        <dia:point val="468.064,170"/>
+        <dia:point val="470.688,166"/>
+        <dia:point val="470.688,170"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -24098,13 +24098,13 @@ for a given C++ entity.#</dia:string>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O167">
       <dia:attribute name="obj_pos">
-        <dia:point val="484,155"/>
+        <dia:point val="499,155"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="483.95,154.95;518.045,160.25"/>
+        <dia:rectangle val="498.95,154.95;533.045,160.25"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="484,155"/>
+        <dia:point val="499,155"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="33.994999999999997"/>
@@ -24341,7 +24341,7 @@ for a given C++ entity.#</dia:string>
         <dia:point val="464.605,141.6"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="463.855,140.85;484.2,155.8"/>
+        <dia:rectangle val="463.855,140.85;499.2,155.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -24349,8 +24349,8 @@ for a given C++ entity.#</dia:string>
       <dia:attribute name="orth_points">
         <dia:point val="464.605,141.6"/>
         <dia:point val="464.605,150"/>
-        <dia:point val="484,150"/>
-        <dia:point val="484,155"/>
+        <dia:point val="499,150"/>
+        <dia:point val="499,155"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -28412,7 +28412,7 @@ registry of all available formatters.#</dia:string>
         <dia:point val="358,161"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="357.25,160.25;450.342,186.05"/>
+        <dia:rectangle val="357.25,160.25;447.224,186.05"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -28420,8 +28420,8 @@ registry of all available formatters.#</dia:string>
       <dia:attribute name="orth_points">
         <dia:point val="358,161"/>
         <dia:point val="358,186"/>
-        <dia:point val="450.142,186"/>
-        <dia:point val="450.142,175.2"/>
+        <dia:point val="447.024,186"/>
+        <dia:point val="447.024,174.4"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -28484,7 +28484,7 @@ registry of all available formatters.#</dia:string>
         <dia:point val="353.15,161"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="352.4,160.25;468.264,190.05"/>
+        <dia:rectangle val="352.4,160.25;470.887,190.05"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -28492,8 +28492,8 @@ registry of all available formatters.#</dia:string>
       <dia:attribute name="orth_points">
         <dia:point val="353.15,161"/>
         <dia:point val="353.15,190"/>
-        <dia:point val="468.064,190"/>
-        <dia:point val="468.064,173.6"/>
+        <dia:point val="470.688,190"/>
+        <dia:point val="470.688,174.4"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -28661,13 +28661,13 @@ registry of all available formatters.#</dia:string>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O230">
       <dia:attribute name="obj_pos">
-        <dia:point val="479,138"/>
+        <dia:point val="501,138"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="478.95,137.95;519.59,148.65"/>
+        <dia:rectangle val="500.95,137.95;541.59,148.65"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="479,138"/>
+        <dia:point val="501,138"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="40.539999999999999"/>
@@ -29219,7 +29219,7 @@ registry of all available formatters.#</dia:string>
         <dia:point val="464.605,138"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="463.855,132.25;479.2,138.8"/>
+        <dia:rectangle val="463.855,132.25;501.2,138.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -29227,8 +29227,8 @@ registry of all available formatters.#</dia:string>
       <dia:attribute name="orth_points">
         <dia:point val="464.605,138"/>
         <dia:point val="464.605,133"/>
-        <dia:point val="479,133"/>
-        <dia:point val="479,138"/>
+        <dia:point val="501,133"/>
+        <dia:point val="501,138"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -29288,19 +29288,19 @@ registry of all available formatters.#</dia:string>
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="484,160.2"/>
+        <dia:point val="499,160.2"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="483.25,159.45;490.155,170.8"/>
+        <dia:rectangle val="498.25,159.45;502.155,170.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="484,160.2"/>
-        <dia:point val="484,166"/>
-        <dia:point val="489.955,166"/>
-        <dia:point val="489.955,170"/>
+        <dia:point val="499,160.2"/>
+        <dia:point val="499,166"/>
+        <dia:point val="501.955,166"/>
+        <dia:point val="501.955,170"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -30348,13 +30348,13 @@ registry of all available formatters.#</dia:string>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O244">
       <dia:attribute name="obj_pos">
-        <dia:point val="530,138"/>
+        <dia:point val="552,138"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="529.95,137.95;537.315,141.05"/>
+        <dia:rectangle val="551.95,137.95;559.315,141.05"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="530,138"/>
+        <dia:point val="552,138"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="7.2650000000000006"/>
@@ -30495,19 +30495,19 @@ registry of all available formatters.#</dia:string>
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="519.54,138"/>
+        <dia:point val="541.54,138"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="518.79,133.25;533.833,138.8"/>
+        <dia:rectangle val="540.79,133.25;555.833,138.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="519.54,138"/>
-        <dia:point val="519.54,134"/>
-        <dia:point val="533.633,134"/>
-        <dia:point val="533.633,138"/>
+        <dia:point val="541.54,138"/>
+        <dia:point val="541.54,134"/>
+        <dia:point val="555.633,134"/>
+        <dia:point val="555.633,138"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -34082,13 +34082,13 @@ interface in formattables.#</dia:string>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O278">
       <dia:attribute name="obj_pos">
-        <dia:point val="477,170"/>
+        <dia:point val="489,170"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="476.95,169.95;502.96,174.45"/>
+        <dia:rectangle val="488.95,169.95;514.96,174.45"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="477,170"/>
+        <dia:point val="489,170"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="25.91"/>
@@ -34302,7 +34302,7 @@ interface in formattables.#</dia:string>
         <dia:point val="335.575,161"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="334.825,160.25;490.155,194.05"/>
+        <dia:rectangle val="334.825,160.25;502.155,194.05"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -34310,8 +34310,8 @@ interface in formattables.#</dia:string>
       <dia:attribute name="orth_points">
         <dia:point val="335.575,161"/>
         <dia:point val="335.575,194"/>
-        <dia:point val="489.955,194"/>
-        <dia:point val="489.955,174.4"/>
+        <dia:point val="501.955,194"/>
+        <dia:point val="501.955,174.4"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -34335,13 +34335,13 @@ interface in formattables.#</dia:string>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O280">
       <dia:attribute name="obj_pos">
-        <dia:point val="519,170"/>
+        <dia:point val="533,170"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="518.95,169.95;535.72,175.25"/>
+        <dia:rectangle val="532.95,169.95;549.72,175.25"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="519,170"/>
+        <dia:point val="533,170"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="16.669999999999998"/>
@@ -34539,13 +34539,13 @@ interface in formattables.#</dia:string>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O281">
       <dia:attribute name="obj_pos">
-        <dia:point val="540,170"/>
+        <dia:point val="553,170"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="539.95,169.95;569.425,173.65"/>
+        <dia:rectangle val="552.95,169.95;582.425,173.65"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="540,170"/>
+        <dia:point val="553,170"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="29.375"/>
@@ -34735,19 +34735,19 @@ interface in formattables.#</dia:string>
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="554.688,173.6"/>
+        <dia:point val="567.688,173.6"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="527.285,172.85;555.438,180.05"/>
+        <dia:rectangle val="541.285,172.85;568.438,180.05"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="554.688,173.6"/>
-        <dia:point val="554.688,180"/>
-        <dia:point val="527.335,180"/>
-        <dia:point val="527.335,175.2"/>
+        <dia:point val="567.688,173.6"/>
+        <dia:point val="567.688,180"/>
+        <dia:point val="541.335,180"/>
+        <dia:point val="541.335,175.2"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -34810,7 +34810,7 @@ interface in formattables.#</dia:string>
         <dia:point val="373.457,138"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="372.707,127.25;573.195,155.8"/>
+        <dia:rectangle val="372.707,127.25;585.195,155.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
@@ -34818,8 +34818,8 @@ interface in formattables.#</dia:string>
       <dia:attribute name="orth_points">
         <dia:point val="373.457,138"/>
         <dia:point val="373.457,128"/>
-        <dia:point val="572.995,128"/>
-        <dia:point val="572.995,155"/>
+        <dia:point val="584.995,128"/>
+        <dia:point val="584.995,155"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -34879,19 +34879,19 @@ interface in formattables.#</dia:string>
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="517.995,160.2"/>
+        <dia:point val="532.995,160.2"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="517.245,159.45;527.535,170.8"/>
+        <dia:rectangle val="532.245,159.45;541.535,170.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="517.995,160.2"/>
-        <dia:point val="517.995,166"/>
-        <dia:point val="527.335,166"/>
-        <dia:point val="527.335,170"/>
+        <dia:point val="532.995,160.2"/>
+        <dia:point val="532.995,166"/>
+        <dia:point val="541.335,166"/>
+        <dia:point val="541.335,170"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -35329,13 +35329,13 @@ interface in formattables.#</dia:string>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O287">
       <dia:attribute name="obj_pos">
-        <dia:point val="539,155"/>
+        <dia:point val="551,155"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="538.95,154.95;573.045,159.45"/>
+        <dia:rectangle val="550.95,154.95;585.045,159.45"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="539,155"/>
+        <dia:point val="551,155"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="33.994999999999997"/>
@@ -35542,19 +35542,19 @@ interface in formattables.#</dia:string>
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="517.995,155"/>
+        <dia:point val="532.995,155"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="517.245,149.25;539.2,155.8"/>
+        <dia:rectangle val="532.245,149.25;551.2,155.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="517.995,155"/>
-        <dia:point val="517.995,150"/>
-        <dia:point val="539,150"/>
-        <dia:point val="539,155"/>
+        <dia:point val="532.995,155"/>
+        <dia:point val="532.995,150"/>
+        <dia:point val="551,150"/>
+        <dia:point val="551,155"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -35614,19 +35614,19 @@ interface in formattables.#</dia:string>
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="539,159.4"/>
+        <dia:point val="551,159.4"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="538.25,158.65;554.888,170.8"/>
+        <dia:rectangle val="550.25,158.65;567.888,170.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="539,159.4"/>
-        <dia:point val="539,166"/>
-        <dia:point val="554.688,166"/>
-        <dia:point val="554.688,170"/>
+        <dia:point val="551,159.4"/>
+        <dia:point val="551,166"/>
+        <dia:point val="567.688,166"/>
+        <dia:point val="567.688,170"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -35686,17 +35686,17 @@ interface in formattables.#</dia:string>
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="572.995,159.4"/>
+        <dia:point val="584.995,159.4"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="317.25,159.35;573.195,198.05"/>
+        <dia:rectangle val="317.25,159.35;585.195,198.05"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="572.995,159.4"/>
-        <dia:point val="572.995,198"/>
+        <dia:point val="584.995,159.4"/>
+        <dia:point val="584.995,198"/>
         <dia:point val="318,198"/>
         <dia:point val="318,161"/>
       </dia:attribute>
@@ -35722,13 +35722,13 @@ interface in formattables.#</dia:string>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O291">
       <dia:attribute name="obj_pos">
-        <dia:point val="506,170"/>
+        <dia:point val="519,170"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="505.95,169.95;515.428,173.65"/>
+        <dia:rectangle val="518.95,169.95;528.428,173.65"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="506,170"/>
+        <dia:point val="519,170"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="9.3775000000000013"/>
@@ -35916,19 +35916,19 @@ interface in formattables.#</dia:string>
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="500.998,160.2"/>
+        <dia:point val="515.997,160.2"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="500.248,159.45;510.889,170.8"/>
+        <dia:rectangle val="515.247,159.45;523.889,170.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="500.998,160.2"/>
-        <dia:point val="500.998,166"/>
-        <dia:point val="510.689,166"/>
-        <dia:point val="510.689,170"/>
+        <dia:point val="515.997,160.2"/>
+        <dia:point val="515.997,166"/>
+        <dia:point val="523.689,166"/>
+        <dia:point val="523.689,170"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -36061,5 +36061,140 @@ interface in formattables.#</dia:string>
       <dia:attribute name="templates"/>
       <dia:childnode parent="O27"/>
     </dia:object>
+    <dia:object type="UML - Class" version="0" id="O294">
+      <dia:attribute name="obj_pos">
+        <dia:point val="459,181"/>
+      </dia:attribute>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="458.95,180.95;466.613,183.85"/>
+      </dia:attribute>
+      <dia:attribute name="elem_corner">
+        <dia:point val="459,181"/>
+      </dia:attribute>
+      <dia:attribute name="elem_width">
+        <dia:real val="7.5625"/>
+      </dia:attribute>
+      <dia:attribute name="elem_height">
+        <dia:real val="2.7999999999999998"/>
+      </dia:attribute>
+      <dia:attribute name="name">
+        <dia:string>#aspect_settings#</dia:string>
+      </dia:attribute>
+      <dia:attribute name="stereotype">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="comment">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="abstract">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="suppress_attributes">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="suppress_operations">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="visible_attributes">
+        <dia:boolean val="true"/>
+      </dia:attribute>
+      <dia:attribute name="visible_operations">
+        <dia:boolean val="true"/>
+      </dia:attribute>
+      <dia:attribute name="visible_comments">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="wrap_operations">
+        <dia:boolean val="true"/>
+      </dia:attribute>
+      <dia:attribute name="wrap_after_char">
+        <dia:int val="40"/>
+      </dia:attribute>
+      <dia:attribute name="comment_line_length">
+        <dia:int val="17"/>
+      </dia:attribute>
+      <dia:attribute name="comment_tagging">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="line_width">
+        <dia:real val="0.10000000000000001"/>
+      </dia:attribute>
+      <dia:attribute name="line_color">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="fill_color">
+        <dia:color val="#ffffff"/>
+      </dia:attribute>
+      <dia:attribute name="text_color">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="normal_font">
+        <dia:font family="monospace" style="0" name="Courier"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_font">
+        <dia:font family="monospace" style="88" name="Courier-BoldOblique"/>
+      </dia:attribute>
+      <dia:attribute name="polymorphic_font">
+        <dia:font family="monospace" style="8" name="Courier-Oblique"/>
+      </dia:attribute>
+      <dia:attribute name="classname_font">
+        <dia:font family="sans" style="80" name="Helvetica-Bold"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_classname_font">
+        <dia:font family="sans" style="88" name="Helvetica-BoldOblique"/>
+      </dia:attribute>
+      <dia:attribute name="comment_font">
+        <dia:font family="sans" style="8" name="Helvetica-Oblique"/>
+      </dia:attribute>
+      <dia:attribute name="normal_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="polymorphic_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="classname_font_height">
+        <dia:real val="1"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_classname_font_height">
+        <dia:real val="1"/>
+      </dia:attribute>
+      <dia:attribute name="comment_font_height">
+        <dia:real val="0.69999999999999996"/>
+      </dia:attribute>
+      <dia:attribute name="attributes">
+        <dia:composite type="umlattribute">
+          <dia:attribute name="name">
+            <dia:string>#enabled#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#bool#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="value">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+        </dia:composite>
+      </dia:attribute>
+      <dia:attribute name="operations"/>
+      <dia:attribute name="template">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="templates"/>
+      <dia:childnode parent="O1"/>
+    </dia:object>
   </dia:layer>
 </dia:diagram>
diff --git a/diagrams/dynamic.dia b/diagrams/dynamic.dia
index 7b39bd3..2c78037 100644
--- a/diagrams/dynamic.dia
+++ b/diagrams/dynamic.dia
@@ -65,16 +65,16 @@
   <dia:layer name="Background" visible="true" active="true">
     <dia:object type="UML - Note" version="0" id="O0">
       <dia:attribute name="obj_pos">
-        <dia:point val="-2,-17"/>
+        <dia:point val="-26,-47"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="-2.05,-17.05;28.595,-10.45"/>
+        <dia:rectangle val="-26.05,-47.05;4.595,-40.45"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="-2,-17"/>
+        <dia:point val="-26,-47"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="30.545000000000002"/>
@@ -109,7 +109,7 @@ shape of this data.
             <dia:real val="0.80000000000000004"/>
           </dia:attribute>
           <dia:attribute name="pos">
-            <dia:point val="-1.65,-15.755"/>
+            <dia:point val="-25.65,-45.755"/>
           </dia:attribute>
           <dia:attribute name="color">
             <dia:color val="#000000"/>
@@ -122,13 +122,13 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O1">
       <dia:attribute name="obj_pos">
-        <dia:point val="49,17"/>
+        <dia:point val="49,18"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="48.95,16.95;54.555,20.05"/>
+        <dia:rectangle val="48.95,17.95;54.555,21.05"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="49,17"/>
+        <dia:point val="49,18"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="5.5049999999999999"/>
@@ -232,13 +232,13 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O2">
       <dia:attribute name="obj_pos">
-        <dia:point val="35,28"/>
+        <dia:point val="35,31"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="34.95,27.95;43.635,30.85"/>
+        <dia:rectangle val="34.95,30.95;43.635,33.85"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="35,28"/>
+        <dia:point val="35,31"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="8.5849999999999991"/>
@@ -366,19 +366,19 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Generalization" version="1" id="O3">
       <dia:attribute name="obj_pos">
-        <dia:point val="51.7525,20"/>
+        <dia:point val="51.7525,21"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="50.9025,19.95;53.46,28.05"/>
+        <dia:rectangle val="50.9025,20.95;53.46,31.05"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="51.7525,20"/>
-        <dia:point val="51.7525,24"/>
-        <dia:point val="53.41,24"/>
-        <dia:point val="53.41,28"/>
+        <dia:point val="51.7525,21"/>
+        <dia:point val="51.7525,27"/>
+        <dia:point val="53.41,27"/>
+        <dia:point val="53.41,31"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -407,13 +407,13 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O4">
       <dia:attribute name="obj_pos">
-        <dia:point val="67,17"/>
+        <dia:point val="67,18"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="66.95,16.95;79.87,19.85"/>
+        <dia:rectangle val="66.95,17.95;79.87,20.85"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="67,17"/>
+        <dia:point val="67,18"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="12.82"/>
@@ -577,19 +577,19 @@ shape of this data.
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="67,17"/>
+        <dia:point val="67,18"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="51.7025,12.25;67.75,17.8"/>
+        <dia:rectangle val="51.7025,12.25;67.75,18.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="67,17"/>
+        <dia:point val="67,18"/>
         <dia:point val="67,13"/>
         <dia:point val="51.7525,13"/>
-        <dia:point val="51.7525,17"/>
+        <dia:point val="51.7525,18"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -612,13 +612,13 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O6">
       <dia:attribute name="obj_pos">
-        <dia:point val="64,28"/>
+        <dia:point val="64,31"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="63.95,27.95;69.94,30.85"/>
+        <dia:rectangle val="63.95,30.95;69.94,33.85"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="64,28"/>
+        <dia:point val="64,31"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="5.8899999999999997"/>
@@ -746,19 +746,19 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Generalization" version="1" id="O7">
       <dia:attribute name="obj_pos">
-        <dia:point val="51.7525,20"/>
+        <dia:point val="51.7525,21"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="50.9025,19.95;66.995,28.05"/>
+        <dia:rectangle val="50.9025,20.95;66.995,31.05"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="51.7525,20"/>
-        <dia:point val="51.7525,24"/>
-        <dia:point val="66.945,24"/>
-        <dia:point val="66.945,28"/>
+        <dia:point val="51.7525,21"/>
+        <dia:point val="51.7525,27"/>
+        <dia:point val="66.945,27"/>
+        <dia:point val="66.945,31"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -787,13 +787,13 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O8">
       <dia:attribute name="obj_pos">
-        <dia:point val="47,28"/>
+        <dia:point val="47,31"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="46.95,27.95;59.87,30.85"/>
+        <dia:rectangle val="46.95,30.95;59.87,33.85"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="47,28"/>
+        <dia:point val="47,31"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="12.82"/>
@@ -921,19 +921,19 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Generalization" version="1" id="O9">
       <dia:attribute name="obj_pos">
-        <dia:point val="51.7525,20"/>
+        <dia:point val="51.7525,21"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="39.2425,19.95;52.6025,28.05"/>
+        <dia:rectangle val="39.2425,20.95;52.6025,31.05"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="51.7525,20"/>
-        <dia:point val="51.7525,24"/>
-        <dia:point val="39.2925,24"/>
-        <dia:point val="39.2925,28"/>
+        <dia:point val="51.7525,21"/>
+        <dia:point val="51.7525,27"/>
+        <dia:point val="39.2925,27"/>
+        <dia:point val="39.2925,31"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -962,13 +962,13 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O10">
       <dia:attribute name="obj_pos">
-        <dia:point val="62,1"/>
+        <dia:point val="62,2"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="61.95,0.95;71.405,4.65"/>
+        <dia:rectangle val="61.95,1.95;71.405,5.65"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="62,1"/>
+        <dia:point val="62,2"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="9.3550000000000004"/>
@@ -1119,13 +1119,13 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O11">
       <dia:attribute name="obj_pos">
-        <dia:point val="37,1"/>
+        <dia:point val="37,2"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="36.95,0.95;43.71,7.05"/>
+        <dia:rectangle val="36.95,1.95;43.71,8.05"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="37,1"/>
+        <dia:point val="37,2"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="6.6600000000000001"/>
@@ -1587,16 +1587,16 @@ shape of this data.
         <dia:point val="64.285,-7"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="63.535,-7.75;66.8775,1.8"/>
+        <dia:rectangle val="63.535,-7.75;66.8775,2.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
         <dia:point val="64.285,-7"/>
-        <dia:point val="64.285,-4"/>
-        <dia:point val="66.6775,-4"/>
-        <dia:point val="66.6775,1"/>
+        <dia:point val="64.285,-3"/>
+        <dia:point val="66.6775,-3"/>
+        <dia:point val="66.6775,2"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -1655,18 +1655,18 @@ shape of this data.
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="40.33,1"/>
+        <dia:point val="40.33,2"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="39.58,-7.05;48.2,1.8"/>
+        <dia:rectangle val="39.58,-7.05;48.2,2.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="40.33,1"/>
-        <dia:point val="40.33,-4"/>
-        <dia:point val="48,-4"/>
+        <dia:point val="40.33,2"/>
+        <dia:point val="40.33,-3"/>
+        <dia:point val="48,-3"/>
         <dia:point val="48,-7"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
@@ -1690,13 +1690,13 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O15">
       <dia:attribute name="obj_pos">
-        <dia:point val="79,28"/>
+        <dia:point val="76,31"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="78.95,27.95;100.725,30.85"/>
+        <dia:rectangle val="75.95,30.95;97.725,33.85"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="79,28"/>
+        <dia:point val="76,31"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="21.675000000000001"/>
@@ -1860,19 +1860,19 @@ shape of this data.
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="73.41,19.8"/>
+        <dia:point val="73.41,20.8"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="73.36,19.75;79.75,28.8"/>
+        <dia:rectangle val="73.36,20.75;76.75,31.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="73.41,19.8"/>
-        <dia:point val="73.41,24"/>
-        <dia:point val="79,24"/>
-        <dia:point val="79,28"/>
+        <dia:point val="73.41,20.8"/>
+        <dia:point val="73.41,27"/>
+        <dia:point val="76,27"/>
+        <dia:point val="76,31"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -1895,13 +1895,13 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O17">
       <dia:attribute name="obj_pos">
-        <dia:point val="51,1"/>
+        <dia:point val="51,2"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="50.95,0.95;57.325,9.45"/>
+        <dia:rectangle val="50.95,1.95;57.325,10.45"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="51,1"/>
+        <dia:point val="51,2"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="6.2750000000000004"/>
@@ -2206,16 +2206,16 @@ shape of this data.
         <dia:point val="56.1425,-7"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="54.0875,-7.75;56.8925,1.8"/>
+        <dia:rectangle val="54.0875,-7.75;56.8925,2.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
         <dia:point val="56.1425,-7"/>
-        <dia:point val="56.1425,-4"/>
-        <dia:point val="54.1375,-4"/>
-        <dia:point val="54.1375,1"/>
+        <dia:point val="56.1425,-3"/>
+        <dia:point val="54.1375,-3"/>
+        <dia:point val="54.1375,2"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -2238,22 +2238,22 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O19">
       <dia:attribute name="obj_pos">
-        <dia:point val="96,17"/>
+        <dia:point val="86,3"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="95.95,16.95;122.73,21.45"/>
+        <dia:rectangle val="85.95,2.95;111.575,7.45"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="96,17"/>
+        <dia:point val="86,3"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="26.68"/>
+        <dia:real val="25.524999999999999"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
         <dia:real val="4.4000000000000004"/>
       </dia:attribute>
       <dia:attribute name="name">
-        <dia:string>#workflow#</dia:string>
+        <dia:string>#object_factory#</dia:string>
       </dia:attribute>
       <dia:attribute name="stereotype">
         <dia:string>#service#</dia:string>
@@ -2343,7 +2343,7 @@ shape of this data.
       <dia:attribute name="operations">
         <dia:composite type="umloperation">
           <dia:attribute name="name">
-            <dia:string>#execute#</dia:string>
+            <dia:string>#make#</dia:string>
           </dia:attribute>
           <dia:attribute name="stereotype">
             <dia:string>##</dia:string>
@@ -2450,17 +2450,17 @@ shape of this data.
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="82.2975,-13.0501"/>
+        <dia:point val="72,-13"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="64.235,-17.75;83.0475,-12.2"/>
+        <dia:rectangle val="64.235,-17.75;72.75,-12.2"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="82.2975,-13.0501"/>
-        <dia:point val="82.2975,-17"/>
+        <dia:point val="72,-13"/>
+        <dia:point val="72,-17"/>
         <dia:point val="64.285,-17"/>
         <dia:point val="64.285,-13"/>
       </dia:attribute>
@@ -2479,7 +2479,7 @@ shape of this data.
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O23" connection="10"/>
+        <dia:connection handle="0" to="O23" connection="0"/>
         <dia:connection handle="1" to="O12" connection="2"/>
       </dia:connections>
     </dia:object>
@@ -2521,19 +2521,19 @@ shape of this data.
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="96,17"/>
+        <dia:point val="86,3"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="91.545,-8.65;96.75,17.8"/>
+        <dia:rectangle val="85.25,-8.65;90.795,3.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="96,17"/>
-        <dia:point val="96,-4"/>
-        <dia:point val="91.595,-4"/>
-        <dia:point val="91.595,-8.6"/>
+        <dia:point val="86,3"/>
+        <dia:point val="86,-3"/>
+        <dia:point val="90.595,-3"/>
+        <dia:point val="90.595,-8.6"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -2556,7 +2556,7 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Association" version="2" id="O22">
       <dia:attribute name="name">
-        <dia:string>##</dia:string>
+        <dia:string>#produces &gt;#</dia:string>
       </dia:attribute>
       <dia:attribute name="direction">
         <dia:enum val="1"/>
@@ -2592,19 +2592,19 @@ shape of this data.
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="73,-8.6"/>
+        <dia:point val="72,-8.6"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="72.25,-9.35;80.02,17.8"/>
+        <dia:rectangle val="71.25,-9.35;80.02,18.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="73,-8.6"/>
-        <dia:point val="73,-4"/>
-        <dia:point val="79.82,-4"/>
-        <dia:point val="79.82,17"/>
+        <dia:point val="72,-8.6"/>
+        <dia:point val="72,-3"/>
+        <dia:point val="79.82,-3"/>
+        <dia:point val="79.82,18"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -2627,13 +2627,13 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O23">
       <dia:attribute name="obj_pos">
-        <dia:point val="73,-13"/>
+        <dia:point val="72,-13"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="72.95,-13.05;91.645,-8.55"/>
+        <dia:rectangle val="71.95,-13.05;90.645,-8.55"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="73,-13"/>
+        <dia:point val="72,-13"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="18.594999999999999"/>
@@ -2839,19 +2839,19 @@ shape of this data.
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="109.34,21.4"/>
+        <dia:point val="86,7.4"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="100.625,20.65;110.09,28.8"/>
+        <dia:rectangle val="85.25,6.65;97.875,31.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="109.34,21.4"/>
-        <dia:point val="109.34,24"/>
-        <dia:point val="100.675,24"/>
-        <dia:point val="100.675,28"/>
+        <dia:point val="86,7.4"/>
+        <dia:point val="86,27"/>
+        <dia:point val="97.675,27"/>
+        <dia:point val="97.675,31"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -2868,19 +2868,19 @@ shape of this data.
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O19" connection="6"/>
+        <dia:connection handle="0" to="O19" connection="5"/>
         <dia:connection handle="1" to="O15" connection="2"/>
       </dia:connections>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O25">
       <dia:attribute name="obj_pos">
-        <dia:point val="129,1"/>
+        <dia:point val="129,2"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="128.95,0.95;158.425,7.65"/>
+        <dia:rectangle val="128.95,1.95;158.425,8.65"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="129,1"/>
+        <dia:point val="129,2"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="29.375"/>
@@ -3165,7 +3165,7 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Association" version="2" id="O26">
       <dia:attribute name="name">
-        <dia:string>##</dia:string>
+        <dia:string>#&lt; keeps track of available fields for#</dia:string>
       </dia:attribute>
       <dia:attribute name="direction">
         <dia:enum val="1"/>
@@ -3201,19 +3201,19 @@ shape of this data.
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="122.68,17"/>
+        <dia:point val="111.525,3"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="121.93,7.55;143.888,17.8"/>
+        <dia:rectangle val="110.775,-3.75;143.887,3.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="122.68,17"/>
-        <dia:point val="122.68,12"/>
-        <dia:point val="143.688,12"/>
-        <dia:point val="143.688,7.6"/>
+        <dia:point val="111.525,3"/>
+        <dia:point val="111.525,-3"/>
+        <dia:point val="143.688,-3"/>
+        <dia:point val="143.688,2"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -3231,18 +3231,18 @@ shape of this data.
       </dia:attribute>
       <dia:connections>
         <dia:connection handle="0" to="O19" connection="2"/>
-        <dia:connection handle="1" to="O25" connection="6"/>
+        <dia:connection handle="1" to="O25" connection="1"/>
       </dia:connections>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O27">
       <dia:attribute name="obj_pos">
-        <dia:point val="110,-12"/>
+        <dia:point val="152,18"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="109.95,-12.05;117.2,-8.95"/>
+        <dia:rectangle val="151.95,17.95;159.2,21.05"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="110,-12"/>
+        <dia:point val="152,18"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="7.1500000000000004"/>
@@ -3346,7 +3346,7 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Association" version="2" id="O28">
       <dia:attribute name="name">
-        <dia:string>#&lt; throws#</dia:string>
+        <dia:string>#on error throws &gt;#</dia:string>
       </dia:attribute>
       <dia:attribute name="direction">
         <dia:enum val="2"/>
@@ -3382,19 +3382,19 @@ shape of this data.
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="113.575,-9"/>
+        <dia:point val="155.575,18"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="113.525,-9.05;144.438,1.8"/>
+        <dia:rectangle val="142.938,7.85;155.775,18.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="113.575,-9"/>
-        <dia:point val="113.575,-4"/>
-        <dia:point val="143.688,-4"/>
-        <dia:point val="143.688,1"/>
+        <dia:point val="155.575,18"/>
+        <dia:point val="155.575,13"/>
+        <dia:point val="143.688,13"/>
+        <dia:point val="143.688,8.6"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -3411,19 +3411,19 @@ shape of this data.
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O27" connection="6"/>
-        <dia:connection handle="1" to="O25" connection="1"/>
+        <dia:connection handle="0" to="O27" connection="1"/>
+        <dia:connection handle="1" to="O25" connection="6"/>
       </dia:connections>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O29">
       <dia:attribute name="obj_pos">
-        <dia:point val="100,1"/>
+        <dia:point val="116,18"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="99.95,0.95;123.265,6.25"/>
+        <dia:rectangle val="115.95,17.95;139.265,23.25"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="100,1"/>
+        <dia:point val="116,18"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="23.215"/>
@@ -3576,7 +3576,7 @@ shape of this data.
     </dia:object>
     <dia:object type="UML - Association" version="2" id="O30">
       <dia:attribute name="name">
-        <dia:string>##</dia:string>
+        <dia:string>#&lt; aggregates raw data for#</dia:string>
       </dia:attribute>
       <dia:attribute name="direction">
         <dia:enum val="1"/>
@@ -3612,19 +3612,19 @@ shape of this data.
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="109.34,17"/>
+        <dia:point val="111.525,7.4"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="108.59,6.15;111.808,17.8"/>
+        <dia:rectangle val="110.775,6.65;127.808,18.8"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="109.34,17"/>
-        <dia:point val="109.34,12"/>
-        <dia:point val="111.608,12"/>
-        <dia:point val="111.608,6.2"/>
+        <dia:point val="111.525,7.4"/>
+        <dia:point val="111.525,13"/>
+        <dia:point val="127.608,13"/>
+        <dia:point val="127.608,18"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -3641,19 +3641,19 @@ shape of this data.
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O19" connection="1"/>
-        <dia:connection handle="1" to="O29" connection="6"/>
+        <dia:connection handle="0" to="O19" connection="7"/>
+        <dia:connection handle="1" to="O29" connection="1"/>
       </dia:connections>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O31">
       <dia:attribute name="obj_pos">
-        <dia:point val="84,1"/>
+        <dia:point val="100,-13"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="83.95,0.95;90.91,4.05"/>
+        <dia:rectangle val="99.95,-13.05;106.91,-9.95"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="84,1"/>
+        <dia:point val="100,-13"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
         <dia:real val="6.8600000000000003"/>
@@ -3793,19 +3793,19 @@ shape of this data.
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="82.2975,-8.6"/>
+        <dia:point val="90.595,-13"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="81.5475,-9.35;87.63,1.8"/>
+        <dia:rectangle val="89.845,-17.75;100.2,-9.2"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="82.2975,-8.6"/>
-        <dia:point val="82.2975,-4"/>
-        <dia:point val="87.43,-4"/>
-        <dia:point val="87.43,1"/>
+        <dia:point val="90.595,-13"/>
+        <dia:point val="90.595,-17"/>
+        <dia:point val="100,-17"/>
+        <dia:point val="100,-10"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -3822,207 +3822,28 @@ shape of this data.
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O23" connection="6"/>
-        <dia:connection handle="1" to="O31" connection="1"/>
+        <dia:connection handle="0" to="O23" connection="2"/>
+        <dia:connection handle="1" to="O31" connection="5"/>
       </dia:connections>
     </dia:object>
     <dia:object type="UML - Class" version="0" id="O33">
       <dia:attribute name="obj_pos">
-        <dia:point val="84,9"/>
-      </dia:attribute>
-      <dia:attribute name="obj_bb">
-        <dia:rectangle val="83.95,8.95;91.3275,12.05"/>
-      </dia:attribute>
-      <dia:attribute name="elem_corner">
-        <dia:point val="84,9"/>
-      </dia:attribute>
-      <dia:attribute name="elem_width">
-        <dia:real val="7.2775000000000007"/>
-      </dia:attribute>
-      <dia:attribute name="elem_height">
-        <dia:real val="3"/>
-      </dia:attribute>
-      <dia:attribute name="name">
-        <dia:string>#workflow_error#</dia:string>
-      </dia:attribute>
-      <dia:attribute name="stereotype">
-        <dia:string>#exception#</dia:string>
-      </dia:attribute>
-      <dia:attribute name="comment">
-        <dia:string>#An error occurred while the workflow was executing.#</dia:string>
-      </dia:attribute>
-      <dia:attribute name="abstract">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="suppress_attributes">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="suppress_operations">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="visible_attributes">
-        <dia:boolean val="true"/>
-      </dia:attribute>
-      <dia:attribute name="visible_operations">
-        <dia:boolean val="true"/>
-      </dia:attribute>
-      <dia:attribute name="visible_comments">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="wrap_operations">
-        <dia:boolean val="true"/>
-      </dia:attribute>
-      <dia:attribute name="wrap_after_char">
-        <dia:int val="40"/>
-      </dia:attribute>
-      <dia:attribute name="comment_line_length">
-        <dia:int val="17"/>
-      </dia:attribute>
-      <dia:attribute name="comment_tagging">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="line_width">
-        <dia:real val="0.10000000000000001"/>
-      </dia:attribute>
-      <dia:attribute name="line_color">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:attribute name="fill_color">
-        <dia:color val="#ffffff"/>
-      </dia:attribute>
-      <dia:attribute name="text_color">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:attribute name="normal_font">
-        <dia:font family="monospace" style="0" name="Courier"/>
-      </dia:attribute>
-      <dia:attribute name="abstract_font">
-        <dia:font family="monospace" style="88" name="Courier-BoldOblique"/>
-      </dia:attribute>
-      <dia:attribute name="polymorphic_font">
-        <dia:font family="monospace" style="8" name="Courier-Oblique"/>
-      </dia:attribute>
-      <dia:attribute name="classname_font">
-        <dia:font family="sans" style="80" name="Helvetica-Bold"/>
-      </dia:attribute>
-      <dia:attribute name="abstract_classname_font">
-        <dia:font family="sans" style="88" name="Helvetica-BoldOblique"/>
-      </dia:attribute>
-      <dia:attribute name="comment_font">
-        <dia:font family="sans" style="8" name="Helvetica-Oblique"/>
-      </dia:attribute>
-      <dia:attribute name="normal_font_height">
-        <dia:real val="0.80000000000000004"/>
-      </dia:attribute>
-      <dia:attribute name="polymorphic_font_height">
-        <dia:real val="0.80000000000000004"/>
-      </dia:attribute>
-      <dia:attribute name="abstract_font_height">
-        <dia:real val="0.80000000000000004"/>
-      </dia:attribute>
-      <dia:attribute name="classname_font_height">
-        <dia:real val="1"/>
-      </dia:attribute>
-      <dia:attribute name="abstract_classname_font_height">
-        <dia:real val="1"/>
-      </dia:attribute>
-      <dia:attribute name="comment_font_height">
-        <dia:real val="0.69999999999999996"/>
-      </dia:attribute>
-      <dia:attribute name="attributes"/>
-      <dia:attribute name="operations"/>
-      <dia:attribute name="template">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="templates"/>
-    </dia:object>
-    <dia:object type="UML - Association" version="2" id="O34">
-      <dia:attribute name="name">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="direction">
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="show_direction">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="assoc_type">
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="role_a">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="multipicity_a">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="visibility_a">
-        <dia:enum val="3"/>
-      </dia:attribute>
-      <dia:attribute name="show_arrow_a">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="role_b">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="multipicity_b">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="visibility_b">
-        <dia:enum val="3"/>
-      </dia:attribute>
-      <dia:attribute name="show_arrow_b">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="obj_pos">
-        <dia:point val="96,18.1"/>
-      </dia:attribute>
-      <dia:attribute name="obj_bb">
-        <dia:rectangle val="87.5888,11.95;96.75,18.95"/>
-      </dia:attribute>
-      <dia:attribute name="meta">
-        <dia:composite type="dict"/>
-      </dia:attribute>
-      <dia:attribute name="orth_points">
-        <dia:point val="96,18.1"/>
-        <dia:point val="87.6388,18.1"/>
-        <dia:point val="87.6388,12"/>
-      </dia:attribute>
-      <dia:attribute name="orth_orient">
-        <dia:enum val="0"/>
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="orth_autoroute">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="text_colour">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:attribute name="line_colour">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:connections>
-        <dia:connection handle="0" to="O19" connection="3"/>
-        <dia:connection handle="1" to="O33" connection="6"/>
-      </dia:connections>
-    </dia:object>
-    <dia:object type="UML - Class" version="0" id="O35">
-      <dia:attribute name="obj_pos">
-        <dia:point val="93,41"/>
+        <dia:point val="108,44"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="92.95,40.95;102.32,44.05"/>
+        <dia:rectangle val="107.95,43.95;140.505,57.05"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="93,41"/>
+        <dia:point val="108,44"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="9.2699999999999996"/>
+        <dia:real val="32.454999999999998"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
-        <dia:real val="3"/>
+        <dia:real val="13"/>
       </dia:attribute>
       <dia:attribute name="name">
-        <dia:string>#content_extensions#</dia:string>
+        <dia:string>#field_selector#</dia:string>
       </dia:attribute>
       <dia:attribute name="stereotype">
         <dia:string>#service#</dia:string>
@@ -4108,86 +3929,1846 @@ shape of this data.
       <dia:attribute name="comment_font_height">
         <dia:real val="0.69999999999999996"/>
       </dia:attribute>
-      <dia:attribute name="attributes"/>
-      <dia:attribute name="operations"/>
-      <dia:attribute name="template">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="templates"/>
-    </dia:object>
-    <dia:object type="UML - Note" version="0" id="O36">
-      <dia:attribute name="obj_pos">
-        <dia:point val="68,41"/>
-      </dia:attribute>
-      <dia:attribute name="obj_bb">
-        <dia:rectangle val="67.95,40.95;86.66,43.55"/>
-      </dia:attribute>
-      <dia:attribute name="meta">
-        <dia:composite type="dict"/>
-      </dia:attribute>
-      <dia:attribute name="elem_corner">
-        <dia:point val="68,41"/>
-      </dia:attribute>
-      <dia:attribute name="elem_width">
-        <dia:real val="18.610000000000003"/>
-      </dia:attribute>
-      <dia:attribute name="elem_height">
-        <dia:real val="2.5"/>
-      </dia:attribute>
-      <dia:attribute name="line_width">
-        <dia:real val="0.10000000000000001"/>
-      </dia:attribute>
-      <dia:attribute name="line_colour">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:attribute name="fill_colour">
-        <dia:color val="#ffffff"/>
-      </dia:attribute>
-      <dia:attribute name="text">
-        <dia:composite type="text">
-          <dia:attribute name="string">
-            <dia:string>#"Extension methods"to facilitate access to the
-content of fields.#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="font">
-            <dia:font family="monospace" style="0" name="Courier"/>
+      <dia:attribute name="attributes">
+        <dia:composite type="umlattribute">
+          <dia:attribute name="name">
+            <dia:string>#object_#</dia:string>
           </dia:attribute>
-          <dia:attribute name="height">
-            <dia:real val="0.80000000000000004"/>
+          <dia:attribute name="type">
+            <dia:string>#dynamic::object#</dia:string>
           </dia:attribute>
-          <dia:attribute name="pos">
-            <dia:point val="68.35,42.245"/>
+          <dia:attribute name="value">
+            <dia:string>##</dia:string>
           </dia:attribute>
-          <dia:attribute name="color">
-            <dia:color val="#000000"/>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
           </dia:attribute>
-          <dia:attribute name="alignment">
+          <dia:attribute name="visibility">
             <dia:enum val="0"/>
           </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
         </dia:composite>
       </dia:attribute>
-    </dia:object>
-    <dia:object type="UML - Association" version="2" id="O37">
-      <dia:attribute name="name">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="direction">
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="show_direction">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="assoc_type">
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="role_a">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="multipicity_a">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="visibility_a">
-        <dia:enum val="3"/>
+      <dia:attribute name="operations">
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#has_field#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#bool#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#field_name#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::string&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#has_field#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#bool#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#fd#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const field_definition&amp; fd#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#get_field#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#const field_instance&amp;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#field_name#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::string&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#get_field#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#const field_instance&amp;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#fd#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const field_definition&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#get_text_content#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::string#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="true"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#v#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const dogen::dynamic::value&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#get_text_content#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::string#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#field_name#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::string&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#get_text_content#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::string#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#fd#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const field_definition&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#get_text_collection_content#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::list&lt;std::string&gt;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#field_name#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::string&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#get_text_collection_content#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::list&lt;std::string&gt;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#fd#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const field_definition&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#get_boolean_content#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#bool#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="true"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#v#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const dogen::dynamic::value&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#get_boolean_content#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#bool#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#field_name#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::string&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#get_boolean_content#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#bool#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#fd#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const field_definition&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+      </dia:attribute>
+      <dia:attribute name="template">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="templates"/>
+    </dia:object>
+    <dia:object type="UML - Note" version="0" id="O34">
+      <dia:attribute name="obj_pos">
+        <dia:point val="115,36"/>
+      </dia:attribute>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="114.95,35.95;133.66,38.55"/>
+      </dia:attribute>
+      <dia:attribute name="meta">
+        <dia:composite type="dict"/>
+      </dia:attribute>
+      <dia:attribute name="elem_corner">
+        <dia:point val="115,36"/>
+      </dia:attribute>
+      <dia:attribute name="elem_width">
+        <dia:real val="18.610000000000003"/>
+      </dia:attribute>
+      <dia:attribute name="elem_height">
+        <dia:real val="2.5"/>
+      </dia:attribute>
+      <dia:attribute name="line_width">
+        <dia:real val="0.10000000000000001"/>
+      </dia:attribute>
+      <dia:attribute name="line_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="fill_colour">
+        <dia:color val="#ffffff"/>
+      </dia:attribute>
+      <dia:attribute name="text">
+        <dia:composite type="text">
+          <dia:attribute name="string">
+            <dia:string>#"Extension methods"to facilitate access to the
+content of fields.#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="font">
+            <dia:font family="monospace" style="0" name="Courier"/>
+          </dia:attribute>
+          <dia:attribute name="height">
+            <dia:real val="0.80000000000000004"/>
+          </dia:attribute>
+          <dia:attribute name="pos">
+            <dia:point val="115.35,37.245"/>
+          </dia:attribute>
+          <dia:attribute name="color">
+            <dia:color val="#000000"/>
+          </dia:attribute>
+          <dia:attribute name="alignment">
+            <dia:enum val="0"/>
+          </dia:attribute>
+        </dia:composite>
+      </dia:attribute>
+    </dia:object>
+    <dia:object type="UML - Association" version="2" id="O35">
+      <dia:attribute name="name">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="direction">
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="show_direction">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="assoc_type">
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="role_a">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="multipicity_a">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="visibility_a">
+        <dia:enum val="3"/>
+      </dia:attribute>
+      <dia:attribute name="show_arrow_a">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="role_b">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="multipicity_b">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="visibility_b">
+        <dia:enum val="3"/>
+      </dia:attribute>
+      <dia:attribute name="show_arrow_b">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="obj_pos">
+        <dia:point val="108,44"/>
+      </dia:attribute>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="86.7875,33.75;108.75,44.8"/>
+      </dia:attribute>
+      <dia:attribute name="meta">
+        <dia:composite type="dict"/>
+      </dia:attribute>
+      <dia:attribute name="orth_points">
+        <dia:point val="108,44"/>
+        <dia:point val="108,38"/>
+        <dia:point val="86.8375,38"/>
+        <dia:point val="86.8375,33.8"/>
+      </dia:attribute>
+      <dia:attribute name="orth_orient">
+        <dia:enum val="1"/>
+        <dia:enum val="0"/>
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="orth_autoroute">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="text_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="line_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:connections>
+        <dia:connection handle="0" to="O33" connection="0"/>
+        <dia:connection handle="1" to="O15" connection="6"/>
+      </dia:connections>
+    </dia:object>
+    <dia:object type="UML - Message" version="0" id="O36">
+      <dia:attribute name="obj_pos">
+        <dia:point val="124.305,38.5"/>
+      </dia:attribute>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="123.827,38.4493;124.628,44.0556"/>
+      </dia:attribute>
+      <dia:attribute name="meta">
+        <dia:composite type="dict"/>
+      </dia:attribute>
+      <dia:attribute name="conn_endpoints">
+        <dia:point val="124.305,38.5"/>
+        <dia:point val="124.227,44"/>
+      </dia:attribute>
+      <dia:attribute name="text_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="line_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="text">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="type">
+        <dia:enum val="0"/>
+      </dia:attribute>
+      <dia:attribute name="text_pos">
+        <dia:point val="124.266,41.75"/>
+      </dia:attribute>
+      <dia:connections>
+        <dia:connection handle="0" to="O34" connection="6"/>
+        <dia:connection handle="1" to="O33" connection="1"/>
+      </dia:connections>
+    </dia:object>
+    <dia:object type="UML - Association" version="2" id="O37">
+      <dia:attribute name="name">
+        <dia:string>#on error throws &gt;#</dia:string>
+      </dia:attribute>
+      <dia:attribute name="direction">
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="show_direction">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="assoc_type">
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="role_a">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="multipicity_a">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="visibility_a">
+        <dia:enum val="3"/>
+      </dia:attribute>
+      <dia:attribute name="show_arrow_a">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="role_b">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="multipicity_b">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="visibility_b">
+        <dia:enum val="3"/>
+      </dia:attribute>
+      <dia:attribute name="show_arrow_b">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="obj_pos">
+        <dia:point val="140.455,44"/>
+      </dia:attribute>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="139.705,4.95;173.832,44.8"/>
+      </dia:attribute>
+      <dia:attribute name="meta">
+        <dia:composite type="dict"/>
+      </dia:attribute>
+      <dia:attribute name="orth_points">
+        <dia:point val="140.455,44"/>
+        <dia:point val="140.455,38"/>
+        <dia:point val="173.632,38"/>
+        <dia:point val="173.632,5"/>
+      </dia:attribute>
+      <dia:attribute name="orth_orient">
+        <dia:enum val="1"/>
+        <dia:enum val="0"/>
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="orth_autoroute">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="text_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="line_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:connections>
+        <dia:connection handle="0" to="O33" connection="2"/>
+        <dia:connection handle="1" to="O49" connection="6"/>
+      </dia:connections>
+    </dia:object>
+    <dia:object type="UML - Class" version="0" id="O38">
+      <dia:attribute name="obj_pos">
+        <dia:point val="23,-13"/>
+      </dia:attribute>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="22.95,-13.05;34.33,-7.75"/>
+      </dia:attribute>
+      <dia:attribute name="elem_corner">
+        <dia:point val="23,-13"/>
+      </dia:attribute>
+      <dia:attribute name="elem_width">
+        <dia:real val="11.279999999999999"/>
+      </dia:attribute>
+      <dia:attribute name="elem_height">
+        <dia:real val="5.2000000000000011"/>
+      </dia:attribute>
+      <dia:attribute name="name">
+        <dia:string>#ownership_hierarchy#</dia:string>
+      </dia:attribute>
+      <dia:attribute name="stereotype">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="comment">
+        <dia:string>#Hierarchical properties of this name.
+
+These must be populated in order, e.g. in order to have a facet we must have a
+model and in order to have a formatter we must have a facet. We may not have
+any.#</dia:string>
+      </dia:attribute>
+      <dia:attribute name="abstract">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="suppress_attributes">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="suppress_operations">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="visible_attributes">
+        <dia:boolean val="true"/>
+      </dia:attribute>
+      <dia:attribute name="visible_operations">
+        <dia:boolean val="true"/>
+      </dia:attribute>
+      <dia:attribute name="visible_comments">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="wrap_operations">
+        <dia:boolean val="true"/>
+      </dia:attribute>
+      <dia:attribute name="wrap_after_char">
+        <dia:int val="40"/>
+      </dia:attribute>
+      <dia:attribute name="comment_line_length">
+        <dia:int val="17"/>
+      </dia:attribute>
+      <dia:attribute name="comment_tagging">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="line_width">
+        <dia:real val="0.10000000000000001"/>
+      </dia:attribute>
+      <dia:attribute name="line_color">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="fill_color">
+        <dia:color val="#ffffff"/>
+      </dia:attribute>
+      <dia:attribute name="text_color">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="normal_font">
+        <dia:font family="monospace" style="0" name="Courier"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_font">
+        <dia:font family="monospace" style="88" name="Courier-BoldOblique"/>
+      </dia:attribute>
+      <dia:attribute name="polymorphic_font">
+        <dia:font family="monospace" style="8" name="Courier-Oblique"/>
+      </dia:attribute>
+      <dia:attribute name="classname_font">
+        <dia:font family="sans" style="80" name="Helvetica-Bold"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_classname_font">
+        <dia:font family="sans" style="88" name="Helvetica-BoldOblique"/>
+      </dia:attribute>
+      <dia:attribute name="comment_font">
+        <dia:font family="sans" style="8" name="Helvetica-Oblique"/>
+      </dia:attribute>
+      <dia:attribute name="normal_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="polymorphic_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="classname_font_height">
+        <dia:real val="1"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_classname_font_height">
+        <dia:real val="1"/>
+      </dia:attribute>
+      <dia:attribute name="comment_font_height">
+        <dia:real val="0.69999999999999996"/>
+      </dia:attribute>
+      <dia:attribute name="attributes">
+        <dia:composite type="umlattribute">
+          <dia:attribute name="name">
+            <dia:string>#model_name#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::string#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="value">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>#Name of the model that owns this field, if any.#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umlattribute">
+          <dia:attribute name="name">
+            <dia:string>#facet_name#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::string#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="value">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>#Name of the facet that owns this field, if any.#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umlattribute">
+          <dia:attribute name="name">
+            <dia:string>#formatter_name#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::string#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="value">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>#Name of the formatter that owns this field, if any.#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umlattribute">
+          <dia:attribute name="name">
+            <dia:string>#aspect_name#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::string#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="value">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>#Name of the aspect that owns this field, if any.#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+        </dia:composite>
+      </dia:attribute>
+      <dia:attribute name="operations"/>
+      <dia:attribute name="template">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="templates"/>
+    </dia:object>
+    <dia:object type="UML - Association" version="2" id="O39">
+      <dia:attribute name="name">
+        <dia:string>#organises hierarchically &gt;#</dia:string>
+      </dia:attribute>
+      <dia:attribute name="direction">
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="show_direction">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="assoc_type">
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="role_a">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="multipicity_a">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="visibility_a">
+        <dia:enum val="3"/>
+      </dia:attribute>
+      <dia:attribute name="show_arrow_a">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="role_b">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="multipicity_b">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="visibility_b">
+        <dia:enum val="3"/>
+      </dia:attribute>
+      <dia:attribute name="show_arrow_b">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="obj_pos">
+        <dia:point val="48,-13"/>
+      </dia:attribute>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="34.23,-17.75;48.75,-12.2"/>
+      </dia:attribute>
+      <dia:attribute name="meta">
+        <dia:composite type="dict"/>
+      </dia:attribute>
+      <dia:attribute name="orth_points">
+        <dia:point val="48,-13"/>
+        <dia:point val="48,-17"/>
+        <dia:point val="34.28,-17"/>
+        <dia:point val="34.28,-13"/>
+      </dia:attribute>
+      <dia:attribute name="orth_orient">
+        <dia:enum val="1"/>
+        <dia:enum val="0"/>
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="orth_autoroute">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="text_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="line_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:connections>
+        <dia:connection handle="0" to="O12" connection="0"/>
+        <dia:connection handle="1" to="O38" connection="2"/>
+      </dia:connections>
+    </dia:object>
+    <dia:object type="UML - Class" version="0" id="O40">
+      <dia:attribute name="obj_pos">
+        <dia:point val="30,44"/>
+      </dia:attribute>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="29.95,43.95;61.35,50.05"/>
+      </dia:attribute>
+      <dia:attribute name="elem_corner">
+        <dia:point val="30,44"/>
+      </dia:attribute>
+      <dia:attribute name="elem_width">
+        <dia:real val="31.300000000000001"/>
+      </dia:attribute>
+      <dia:attribute name="elem_height">
+        <dia:real val="6"/>
+      </dia:attribute>
+      <dia:attribute name="name">
+        <dia:string>#value_factory#</dia:string>
+      </dia:attribute>
+      <dia:attribute name="stereotype">
+        <dia:string>#service#</dia:string>
+      </dia:attribute>
+      <dia:attribute name="comment">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="abstract">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="suppress_attributes">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="suppress_operations">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="visible_attributes">
+        <dia:boolean val="true"/>
+      </dia:attribute>
+      <dia:attribute name="visible_operations">
+        <dia:boolean val="true"/>
+      </dia:attribute>
+      <dia:attribute name="visible_comments">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="wrap_operations">
+        <dia:boolean val="true"/>
+      </dia:attribute>
+      <dia:attribute name="wrap_after_char">
+        <dia:int val="40"/>
+      </dia:attribute>
+      <dia:attribute name="comment_line_length">
+        <dia:int val="17"/>
+      </dia:attribute>
+      <dia:attribute name="comment_tagging">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="line_width">
+        <dia:real val="0.10000000000000001"/>
+      </dia:attribute>
+      <dia:attribute name="line_color">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="fill_color">
+        <dia:color val="#ffffff"/>
+      </dia:attribute>
+      <dia:attribute name="text_color">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="normal_font">
+        <dia:font family="monospace" style="0" name="Courier"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_font">
+        <dia:font family="monospace" style="88" name="Courier-BoldOblique"/>
+      </dia:attribute>
+      <dia:attribute name="polymorphic_font">
+        <dia:font family="monospace" style="8" name="Courier-Oblique"/>
+      </dia:attribute>
+      <dia:attribute name="classname_font">
+        <dia:font family="sans" style="80" name="Helvetica-Bold"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_classname_font">
+        <dia:font family="sans" style="88" name="Helvetica-BoldOblique"/>
+      </dia:attribute>
+      <dia:attribute name="comment_font">
+        <dia:font family="sans" style="8" name="Helvetica-Oblique"/>
+      </dia:attribute>
+      <dia:attribute name="normal_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="polymorphic_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="classname_font_height">
+        <dia:real val="1"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_classname_font_height">
+        <dia:real val="1"/>
+      </dia:attribute>
+      <dia:attribute name="comment_font_height">
+        <dia:real val="0.69999999999999996"/>
+      </dia:attribute>
+      <dia:attribute name="attributes"/>
+      <dia:attribute name="operations">
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#make_text#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#boost::shared_ptr&lt;value&gt;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#v#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::string&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#make_text_collection#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#boost::shared_ptr&lt;value&gt;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#v#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::list&lt;std::string&gt;&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#make_boolean#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#boost::shared_ptr&lt;value&gt;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#v#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const bool#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#make_number#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#boost::shared_ptr&lt;value&gt;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#v#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const int#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+      </dia:attribute>
+      <dia:attribute name="template">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="templates"/>
+    </dia:object>
+    <dia:object type="UML - Association" version="2" id="O41">
+      <dia:attribute name="name">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="direction">
+        <dia:enum val="2"/>
+      </dia:attribute>
+      <dia:attribute name="show_direction">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="assoc_type">
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="role_a">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="multipicity_a">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="visibility_a">
+        <dia:enum val="3"/>
+      </dia:attribute>
+      <dia:attribute name="show_arrow_a">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="role_b">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="multipicity_b">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="visibility_b">
+        <dia:enum val="3"/>
+      </dia:attribute>
+      <dia:attribute name="show_arrow_b">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="obj_pos">
+        <dia:point val="39.2925,33.8"/>
+      </dia:attribute>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="29.25,33.75;39.4925,44.8"/>
+      </dia:attribute>
+      <dia:attribute name="meta">
+        <dia:composite type="dict"/>
+      </dia:attribute>
+      <dia:attribute name="orth_points">
+        <dia:point val="39.2925,33.8"/>
+        <dia:point val="39.2925,38"/>
+        <dia:point val="30,38"/>
+        <dia:point val="30,44"/>
+      </dia:attribute>
+      <dia:attribute name="orth_orient">
+        <dia:enum val="1"/>
+        <dia:enum val="0"/>
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="orth_autoroute">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="text_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="line_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:connections>
+        <dia:connection handle="0" to="O2" connection="6"/>
+        <dia:connection handle="1" to="O40" connection="0"/>
+      </dia:connections>
+    </dia:object>
+    <dia:object type="UML - Association" version="2" id="O42">
+      <dia:attribute name="name">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="direction">
+        <dia:enum val="2"/>
+      </dia:attribute>
+      <dia:attribute name="show_direction">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="assoc_type">
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="role_a">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="multipicity_a">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="visibility_a">
+        <dia:enum val="3"/>
+      </dia:attribute>
+      <dia:attribute name="show_arrow_a">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="role_b">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="multipicity_b">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="visibility_b">
+        <dia:enum val="3"/>
+      </dia:attribute>
+      <dia:attribute name="show_arrow_b">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="obj_pos">
+        <dia:point val="53.41,33.8"/>
+      </dia:attribute>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="44.9,33.75;53.61,44.8"/>
+      </dia:attribute>
+      <dia:attribute name="meta">
+        <dia:composite type="dict"/>
+      </dia:attribute>
+      <dia:attribute name="orth_points">
+        <dia:point val="53.41,33.8"/>
+        <dia:point val="53.41,38"/>
+        <dia:point val="45.65,38"/>
+        <dia:point val="45.65,44"/>
+      </dia:attribute>
+      <dia:attribute name="orth_orient">
+        <dia:enum val="1"/>
+        <dia:enum val="0"/>
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="orth_autoroute">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="text_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="line_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:connections>
+        <dia:connection handle="0" to="O8" connection="6"/>
+        <dia:connection handle="1" to="O40" connection="1"/>
+      </dia:connections>
+    </dia:object>
+    <dia:object type="UML - Association" version="2" id="O43">
+      <dia:attribute name="name">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="direction">
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="show_direction">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="assoc_type">
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="role_a">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="multipicity_a">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="visibility_a">
+        <dia:enum val="3"/>
+      </dia:attribute>
+      <dia:attribute name="show_arrow_a">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="role_b">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="multipicity_b">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="visibility_b">
+        <dia:enum val="3"/>
+      </dia:attribute>
+      <dia:attribute name="show_arrow_b">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="obj_pos">
+        <dia:point val="61.3,44"/>
+      </dia:attribute>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="60.55,33.75;67.145,44.8"/>
+      </dia:attribute>
+      <dia:attribute name="meta">
+        <dia:composite type="dict"/>
+      </dia:attribute>
+      <dia:attribute name="orth_points">
+        <dia:point val="61.3,44"/>
+        <dia:point val="61.3,38"/>
+        <dia:point val="66.945,38"/>
+        <dia:point val="66.945,33.8"/>
+      </dia:attribute>
+      <dia:attribute name="orth_orient">
+        <dia:enum val="1"/>
+        <dia:enum val="0"/>
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="orth_autoroute">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="text_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="line_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:connections>
+        <dia:connection handle="0" to="O40" connection="2"/>
+        <dia:connection handle="1" to="O6" connection="6"/>
+      </dia:connections>
+    </dia:object>
+    <dia:object type="UML - Class" version="0" id="O44">
+      <dia:attribute name="obj_pos">
+        <dia:point val="6,-33"/>
+      </dia:attribute>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="5.95,-33.05;60.835,-26.95"/>
+      </dia:attribute>
+      <dia:attribute name="elem_corner">
+        <dia:point val="6,-33"/>
+      </dia:attribute>
+      <dia:attribute name="elem_width">
+        <dia:real val="54.785000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="elem_height">
+        <dia:real val="6"/>
+      </dia:attribute>
+      <dia:attribute name="name">
+        <dia:string>#indexer#</dia:string>
+      </dia:attribute>
+      <dia:attribute name="stereotype">
+        <dia:string>#service#</dia:string>
+      </dia:attribute>
+      <dia:attribute name="comment">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="abstract">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="suppress_attributes">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="suppress_operations">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="visible_attributes">
+        <dia:boolean val="true"/>
+      </dia:attribute>
+      <dia:attribute name="visible_operations">
+        <dia:boolean val="true"/>
+      </dia:attribute>
+      <dia:attribute name="visible_comments">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="wrap_operations">
+        <dia:boolean val="true"/>
+      </dia:attribute>
+      <dia:attribute name="wrap_after_char">
+        <dia:int val="40"/>
+      </dia:attribute>
+      <dia:attribute name="comment_line_length">
+        <dia:int val="17"/>
+      </dia:attribute>
+      <dia:attribute name="comment_tagging">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="line_width">
+        <dia:real val="0.10000000000000001"/>
+      </dia:attribute>
+      <dia:attribute name="line_color">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="fill_color">
+        <dia:color val="#ffffff"/>
+      </dia:attribute>
+      <dia:attribute name="text_color">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="normal_font">
+        <dia:font family="monospace" style="0" name="Courier"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_font">
+        <dia:font family="monospace" style="88" name="Courier-BoldOblique"/>
+      </dia:attribute>
+      <dia:attribute name="polymorphic_font">
+        <dia:font family="monospace" style="8" name="Courier-Oblique"/>
+      </dia:attribute>
+      <dia:attribute name="classname_font">
+        <dia:font family="sans" style="80" name="Helvetica-Bold"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_classname_font">
+        <dia:font family="sans" style="88" name="Helvetica-BoldOblique"/>
+      </dia:attribute>
+      <dia:attribute name="comment_font">
+        <dia:font family="sans" style="8" name="Helvetica-Oblique"/>
+      </dia:attribute>
+      <dia:attribute name="normal_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="polymorphic_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="classname_font_height">
+        <dia:real val="1"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_classname_font_height">
+        <dia:real val="1"/>
+      </dia:attribute>
+      <dia:attribute name="comment_font_height">
+        <dia:real val="0.69999999999999996"/>
+      </dia:attribute>
+      <dia:attribute name="attributes"/>
+      <dia:attribute name="operations">
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#index_by_ownership_hierarchy#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::unordered_map&lt;dynamic::ownership_hierarchy,std::forward_list&lt;field_definition&gt;&gt;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#field_definitions#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::forward_list&lt;field_definition&gt;&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#index_by_complete_name#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::unordered_map&lt;std::string, field_definition&gt;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters"/>
+        </dia:composite>
+      </dia:attribute>
+      <dia:attribute name="template">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="templates"/>
+    </dia:object>
+    <dia:object type="UML - Association" version="2" id="O45">
+      <dia:attribute name="name">
+        <dia:string>#&lt; indexes#</dia:string>
+      </dia:attribute>
+      <dia:attribute name="direction">
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="show_direction">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="assoc_type">
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="role_a">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="multipicity_a">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="visibility_a">
+        <dia:enum val="3"/>
       </dia:attribute>
       <dia:attribute name="show_arrow_a">
         <dia:boolean val="false"/>
@@ -4205,19 +5786,19 @@ content of fields.#</dia:string>
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="93,41"/>
+        <dia:point val="60.785,-27"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="89.7875,30.75;93.75,41.8"/>
+        <dia:rectangle val="56.0925,-27.75;61.535,-12.2"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="93,41"/>
-        <dia:point val="93,37"/>
-        <dia:point val="89.8375,37"/>
-        <dia:point val="89.8375,30.8"/>
+        <dia:point val="60.785,-27"/>
+        <dia:point val="60.785,-17"/>
+        <dia:point val="56.1425,-17"/>
+        <dia:point val="56.1425,-13"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -4234,68 +5815,215 @@ content of fields.#</dia:string>
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O35" connection="0"/>
-        <dia:connection handle="1" to="O15" connection="6"/>
+        <dia:connection handle="0" to="O44" connection="7"/>
+        <dia:connection handle="1" to="O12" connection="1"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Message" version="0" id="O38">
+    <dia:object type="UML - Class" version="0" id="O46">
       <dia:attribute name="obj_pos">
-        <dia:point val="86.61,42.25"/>
+        <dia:point val="25,-47"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="86.5588,41.6989;93.0594,42.875"/>
+        <dia:rectangle val="24.95,-47.05;32.12,-43.95"/>
       </dia:attribute>
-      <dia:attribute name="meta">
-        <dia:composite type="dict"/>
+      <dia:attribute name="elem_corner">
+        <dia:point val="25,-47"/>
       </dia:attribute>
-      <dia:attribute name="conn_endpoints">
-        <dia:point val="86.61,42.25"/>
-        <dia:point val="93,42.1"/>
+      <dia:attribute name="elem_width">
+        <dia:real val="7.0700000000000003"/>
       </dia:attribute>
-      <dia:attribute name="text_colour">
+      <dia:attribute name="elem_height">
+        <dia:real val="3"/>
+      </dia:attribute>
+      <dia:attribute name="name">
+        <dia:string>#indexing_error#</dia:string>
+      </dia:attribute>
+      <dia:attribute name="stereotype">
+        <dia:string>#exception#</dia:string>
+      </dia:attribute>
+      <dia:attribute name="comment">
+        <dia:string>#There was an error while indexing.#</dia:string>
+      </dia:attribute>
+      <dia:attribute name="abstract">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="suppress_attributes">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="suppress_operations">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="visible_attributes">
+        <dia:boolean val="true"/>
+      </dia:attribute>
+      <dia:attribute name="visible_operations">
+        <dia:boolean val="true"/>
+      </dia:attribute>
+      <dia:attribute name="visible_comments">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="wrap_operations">
+        <dia:boolean val="true"/>
+      </dia:attribute>
+      <dia:attribute name="wrap_after_char">
+        <dia:int val="40"/>
+      </dia:attribute>
+      <dia:attribute name="comment_line_length">
+        <dia:int val="17"/>
+      </dia:attribute>
+      <dia:attribute name="comment_tagging">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="line_width">
+        <dia:real val="0.10000000000000001"/>
+      </dia:attribute>
+      <dia:attribute name="line_color">
         <dia:color val="#000000"/>
       </dia:attribute>
-      <dia:attribute name="line_colour">
+      <dia:attribute name="fill_color">
+        <dia:color val="#ffffff"/>
+      </dia:attribute>
+      <dia:attribute name="text_color">
         <dia:color val="#000000"/>
       </dia:attribute>
-      <dia:attribute name="text">
+      <dia:attribute name="normal_font">
+        <dia:font family="monospace" style="0" name="Courier"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_font">
+        <dia:font family="monospace" style="88" name="Courier-BoldOblique"/>
+      </dia:attribute>
+      <dia:attribute name="polymorphic_font">
+        <dia:font family="monospace" style="8" name="Courier-Oblique"/>
+      </dia:attribute>
+      <dia:attribute name="classname_font">
+        <dia:font family="sans" style="80" name="Helvetica-Bold"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_classname_font">
+        <dia:font family="sans" style="88" name="Helvetica-BoldOblique"/>
+      </dia:attribute>
+      <dia:attribute name="comment_font">
+        <dia:font family="sans" style="8" name="Helvetica-Oblique"/>
+      </dia:attribute>
+      <dia:attribute name="normal_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="polymorphic_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="classname_font_height">
+        <dia:real val="1"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_classname_font_height">
+        <dia:real val="1"/>
+      </dia:attribute>
+      <dia:attribute name="comment_font_height">
+        <dia:real val="0.69999999999999996"/>
+      </dia:attribute>
+      <dia:attribute name="attributes"/>
+      <dia:attribute name="operations"/>
+      <dia:attribute name="template">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="templates"/>
+    </dia:object>
+    <dia:object type="UML - Association" version="2" id="O47">
+      <dia:attribute name="name">
+        <dia:string>#on error throws &gt;#</dia:string>
+      </dia:attribute>
+      <dia:attribute name="direction">
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="show_direction">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="assoc_type">
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="role_a">
         <dia:string>##</dia:string>
       </dia:attribute>
-      <dia:attribute name="type">
+      <dia:attribute name="multipicity_a">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="visibility_a">
+        <dia:enum val="3"/>
+      </dia:attribute>
+      <dia:attribute name="show_arrow_a">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="role_b">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="multipicity_b">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="visibility_b">
+        <dia:enum val="3"/>
+      </dia:attribute>
+      <dia:attribute name="show_arrow_b">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="obj_pos">
+        <dia:point val="6,-33"/>
+      </dia:attribute>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="5.25,-44.05;28.735,-32.2"/>
+      </dia:attribute>
+      <dia:attribute name="meta">
+        <dia:composite type="dict"/>
+      </dia:attribute>
+      <dia:attribute name="orth_points">
+        <dia:point val="6,-33"/>
+        <dia:point val="6,-38"/>
+        <dia:point val="28.535,-38"/>
+        <dia:point val="28.535,-44"/>
+      </dia:attribute>
+      <dia:attribute name="orth_orient">
+        <dia:enum val="1"/>
         <dia:enum val="0"/>
+        <dia:enum val="1"/>
       </dia:attribute>
-      <dia:attribute name="text_pos">
-        <dia:point val="89.805,42.675"/>
+      <dia:attribute name="orth_autoroute">
+        <dia:boolean val="false"/>
+      </dia:attribute>
+      <dia:attribute name="text_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="line_colour">
+        <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O36" connection="4"/>
-        <dia:connection handle="1" to="O35" connection="3"/>
+        <dia:connection handle="0" to="O44" connection="0"/>
+        <dia:connection handle="1" to="O46" connection="6"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Class" version="0" id="O39">
+    <dia:object type="UML - Class" version="0" id="O48">
       <dia:attribute name="obj_pos">
-        <dia:point val="111,41"/>
+        <dia:point val="114,-34"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="110.95,40.95;119.593,44.05"/>
+        <dia:rectangle val="113.95,-34.05;155.745,-20.15"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="111,41"/>
+        <dia:point val="114,-34"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="8.5425000000000004"/>
+        <dia:real val="41.695"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
-        <dia:real val="3"/>
+        <dia:real val="13.800000000000001"/>
       </dia:attribute>
       <dia:attribute name="name">
-        <dia:string>#field_access_error#</dia:string>
+        <dia:string>#field_definition_selector#</dia:string>
       </dia:attribute>
       <dia:attribute name="stereotype">
-        <dia:string>#exception#</dia:string>
+        <dia:string>#service#</dia:string>
       </dia:attribute>
       <dia:attribute name="comment">
-        <dia:string>#An error occurred while trying to acces a field.#</dia:string>
+        <dia:string>##</dia:string>
       </dia:attribute>
       <dia:attribute name="abstract">
         <dia:boolean val="false"/>
@@ -4372,115 +6100,411 @@ content of fields.#</dia:string>
       <dia:attribute name="abstract_classname_font_height">
         <dia:real val="1"/>
       </dia:attribute>
-      <dia:attribute name="comment_font_height">
-        <dia:real val="0.69999999999999996"/>
+      <dia:attribute name="comment_font_height">
+        <dia:real val="0.69999999999999996"/>
+      </dia:attribute>
+      <dia:attribute name="attributes">
+        <dia:composite type="umlattribute">
+          <dia:attribute name="name">
+            <dia:string>#field_definitions_#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::unordered_map&lt;dynamic::ownership_hierarchy,std::forward_list&lt;field_definition&gt;&gt;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="value">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="1"/>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umlattribute">
+          <dia:attribute name="name">
+            <dia:string>#valid_model_names_#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::set&lt;std::string&gt;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="value">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="1"/>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umlattribute">
+          <dia:attribute name="name">
+            <dia:string>#valid_facet_names#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::set&lt;std::string&gt;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="value">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="1"/>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umlattribute">
+          <dia:attribute name="name">
+            <dia:string>#valid_aspect_names#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#std::set&lt;std::string&gt;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="value">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="1"/>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+        </dia:composite>
+      </dia:attribute>
+      <dia:attribute name="operations">
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#selector#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#f#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#std::unordered_map&lt;dynamic::ownership_hierarchy,std::forward_list&lt;field_definition&gt;&gt;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#select_fields_for_facet#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#const std::forward_list&lt;field_definition&gt;&amp;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#model_name#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::string&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#facet_name#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::string&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#select_fields_for_formatter#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#const std::forward_list&lt;field_definition&gt;&amp;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#model_name#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::string&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#facet_name#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::string&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#formatter_name#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::string&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
+        <dia:composite type="umloperation">
+          <dia:attribute name="name">
+            <dia:string>#select_fields_for_aspect#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="stereotype">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="type">
+            <dia:string>#const std::forward_list&lt;field_definition&gt;&amp;#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="visibility">
+            <dia:enum val="0"/>
+          </dia:attribute>
+          <dia:attribute name="comment">
+            <dia:string>##</dia:string>
+          </dia:attribute>
+          <dia:attribute name="abstract">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="inheritance_type">
+            <dia:enum val="2"/>
+          </dia:attribute>
+          <dia:attribute name="query">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="class_scope">
+            <dia:boolean val="false"/>
+          </dia:attribute>
+          <dia:attribute name="parameters">
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#model_name#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::string&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#facet_name#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::string&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+            <dia:composite type="umlparameter">
+              <dia:attribute name="name">
+                <dia:string>#formatter_name#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="type">
+                <dia:string>#const std::string&amp;#</dia:string>
+              </dia:attribute>
+              <dia:attribute name="value">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="comment">
+                <dia:string>##</dia:string>
+              </dia:attribute>
+              <dia:attribute name="kind">
+                <dia:enum val="0"/>
+              </dia:attribute>
+            </dia:composite>
+          </dia:attribute>
+        </dia:composite>
       </dia:attribute>
-      <dia:attribute name="attributes"/>
-      <dia:attribute name="operations"/>
       <dia:attribute name="template">
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="templates"/>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O40">
-      <dia:attribute name="name">
-        <dia:string>#throws &gt;#</dia:string>
-      </dia:attribute>
-      <dia:attribute name="direction">
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="show_direction">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="assoc_type">
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="role_a">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="multipicity_a">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="visibility_a">
-        <dia:enum val="3"/>
-      </dia:attribute>
-      <dia:attribute name="show_arrow_a">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="role_b">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="multipicity_b">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="visibility_b">
-        <dia:enum val="3"/>
-      </dia:attribute>
-      <dia:attribute name="show_arrow_b">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="obj_pos">
-        <dia:point val="102.27,41"/>
-      </dia:attribute>
-      <dia:attribute name="obj_bb">
-        <dia:rectangle val="101.52,36.25;115.471,41.8"/>
-      </dia:attribute>
-      <dia:attribute name="meta">
-        <dia:composite type="dict"/>
-      </dia:attribute>
-      <dia:attribute name="orth_points">
-        <dia:point val="102.27,41"/>
-        <dia:point val="102.27,37"/>
-        <dia:point val="115.271,37"/>
-        <dia:point val="115.271,41"/>
-      </dia:attribute>
-      <dia:attribute name="orth_orient">
-        <dia:enum val="1"/>
-        <dia:enum val="0"/>
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="orth_autoroute">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="text_colour">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:attribute name="line_colour">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:connections>
-        <dia:connection handle="0" to="O35" connection="2"/>
-        <dia:connection handle="1" to="O39" connection="1"/>
-      </dia:connections>
-    </dia:object>
-    <dia:object type="UML - Class" version="0" id="O41">
+    <dia:object type="UML - Class" version="0" id="O49">
       <dia:attribute name="obj_pos">
-        <dia:point val="32,-13"/>
+        <dia:point val="170,2"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="31.95,-13.05;43.33,-8.55"/>
+        <dia:rectangle val="169.95,1.95;177.315,5.05"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="32,-13"/>
+        <dia:point val="170,2"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="11.279999999999999"/>
+        <dia:real val="7.2650000000000006"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
-        <dia:real val="4.4000000000000004"/>
+        <dia:real val="3"/>
       </dia:attribute>
       <dia:attribute name="name">
-        <dia:string>#ownership_hierarchy#</dia:string>
+        <dia:string>#selection_error#</dia:string>
       </dia:attribute>
       <dia:attribute name="stereotype">
-        <dia:string>##</dia:string>
+        <dia:string>#exception#</dia:string>
       </dia:attribute>
       <dia:attribute name="comment">
-        <dia:string>#Hierarchical properties of this name.
-
-These must be populated in order, e.g. in order to have a facet we must have a
-model and in order to have a formatter we must have a facet. We may not have
-any.#</dia:string>
+        <dia:string>#An error occurred when attempting to select.#</dia:string>
       </dia:attribute>
       <dia:attribute name="abstract">
         <dia:boolean val="false"/>
@@ -4527,119 +6551,49 @@ any.#</dia:string>
       <dia:attribute name="normal_font">
         <dia:font family="monospace" style="0" name="Courier"/>
       </dia:attribute>
-      <dia:attribute name="abstract_font">
-        <dia:font family="monospace" style="88" name="Courier-BoldOblique"/>
-      </dia:attribute>
-      <dia:attribute name="polymorphic_font">
-        <dia:font family="monospace" style="8" name="Courier-Oblique"/>
-      </dia:attribute>
-      <dia:attribute name="classname_font">
-        <dia:font family="sans" style="80" name="Helvetica-Bold"/>
-      </dia:attribute>
-      <dia:attribute name="abstract_classname_font">
-        <dia:font family="sans" style="88" name="Helvetica-BoldOblique"/>
-      </dia:attribute>
-      <dia:attribute name="comment_font">
-        <dia:font family="sans" style="8" name="Helvetica-Oblique"/>
-      </dia:attribute>
-      <dia:attribute name="normal_font_height">
-        <dia:real val="0.80000000000000004"/>
-      </dia:attribute>
-      <dia:attribute name="polymorphic_font_height">
-        <dia:real val="0.80000000000000004"/>
-      </dia:attribute>
-      <dia:attribute name="abstract_font_height">
-        <dia:real val="0.80000000000000004"/>
-      </dia:attribute>
-      <dia:attribute name="classname_font_height">
-        <dia:real val="1"/>
-      </dia:attribute>
-      <dia:attribute name="abstract_classname_font_height">
-        <dia:real val="1"/>
-      </dia:attribute>
-      <dia:attribute name="comment_font_height">
-        <dia:real val="0.69999999999999996"/>
-      </dia:attribute>
-      <dia:attribute name="attributes">
-        <dia:composite type="umlattribute">
-          <dia:attribute name="name">
-            <dia:string>#model_name#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="type">
-            <dia:string>#std::string#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="value">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="comment">
-            <dia:string>#Name of the model that owns this field, if any.#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="visibility">
-            <dia:enum val="0"/>
-          </dia:attribute>
-          <dia:attribute name="abstract">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="class_scope">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-        </dia:composite>
-        <dia:composite type="umlattribute">
-          <dia:attribute name="name">
-            <dia:string>#facet_name#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="type">
-            <dia:string>#std::string#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="value">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="comment">
-            <dia:string>#Name of the facet that owns this field, if any.#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="visibility">
-            <dia:enum val="0"/>
-          </dia:attribute>
-          <dia:attribute name="abstract">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="class_scope">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-        </dia:composite>
-        <dia:composite type="umlattribute">
-          <dia:attribute name="name">
-            <dia:string>#formatter_name#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="type">
-            <dia:string>#std::string#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="value">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="comment">
-            <dia:string>#Name of the formatter that owns this field, if any.#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="visibility">
-            <dia:enum val="0"/>
-          </dia:attribute>
-          <dia:attribute name="abstract">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="class_scope">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-        </dia:composite>
-      </dia:attribute>
+      <dia:attribute name="abstract_font">
+        <dia:font family="monospace" style="88" name="Courier-BoldOblique"/>
+      </dia:attribute>
+      <dia:attribute name="polymorphic_font">
+        <dia:font family="monospace" style="8" name="Courier-Oblique"/>
+      </dia:attribute>
+      <dia:attribute name="classname_font">
+        <dia:font family="sans" style="80" name="Helvetica-Bold"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_classname_font">
+        <dia:font family="sans" style="88" name="Helvetica-BoldOblique"/>
+      </dia:attribute>
+      <dia:attribute name="comment_font">
+        <dia:font family="sans" style="8" name="Helvetica-Oblique"/>
+      </dia:attribute>
+      <dia:attribute name="normal_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="polymorphic_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_font_height">
+        <dia:real val="0.80000000000000004"/>
+      </dia:attribute>
+      <dia:attribute name="classname_font_height">
+        <dia:real val="1"/>
+      </dia:attribute>
+      <dia:attribute name="abstract_classname_font_height">
+        <dia:real val="1"/>
+      </dia:attribute>
+      <dia:attribute name="comment_font_height">
+        <dia:real val="0.69999999999999996"/>
+      </dia:attribute>
+      <dia:attribute name="attributes"/>
       <dia:attribute name="operations"/>
       <dia:attribute name="template">
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="templates"/>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O42">
+    <dia:object type="UML - Association" version="2" id="O50">
       <dia:attribute name="name">
-        <dia:string>##</dia:string>
+        <dia:string>#&lt; on error throws#</dia:string>
       </dia:attribute>
       <dia:attribute name="direction">
         <dia:enum val="1"/>
@@ -4675,19 +6629,19 @@ any.#</dia:string>
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="48,-12.3"/>
+        <dia:point val="173.632,2"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="37.59,-17.75;48.75,-11.5"/>
+        <dia:rectangle val="134.797,-20.25;174.382,3.6"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="48,-12.3"/>
-        <dia:point val="48,-17"/>
-        <dia:point val="37.64,-17"/>
-        <dia:point val="37.64,-13"/>
+        <dia:point val="173.632,2"/>
+        <dia:point val="173.632,-14"/>
+        <dia:point val="134.847,-14"/>
+        <dia:point val="134.847,-20.2"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -4704,28 +6658,28 @@ any.#</dia:string>
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O12" connection="3"/>
-        <dia:connection handle="1" to="O41" connection="1"/>
+        <dia:connection handle="0" to="O49" connection="1"/>
+        <dia:connection handle="1" to="O48" connection="6"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Class" version="0" id="O43">
+    <dia:object type="UML - Class" version="0" id="O51">
       <dia:attribute name="obj_pos">
-        <dia:point val="30,41"/>
+        <dia:point val="74,-47"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="29.95,40.95;61.35,47.05"/>
+        <dia:rectangle val="73.95,-47.05;104.195,-43.35"/>
       </dia:attribute>
       <dia:attribute name="elem_corner">
-        <dia:point val="30,41"/>
+        <dia:point val="74,-47"/>
       </dia:attribute>
       <dia:attribute name="elem_width">
-        <dia:real val="31.300000000000001"/>
+        <dia:real val="30.145"/>
       </dia:attribute>
       <dia:attribute name="elem_height">
-        <dia:real val="6"/>
+        <dia:real val="3.6000000000000001"/>
       </dia:attribute>
       <dia:attribute name="name">
-        <dia:string>#value_factory#</dia:string>
+        <dia:string>#field_definition_selector_factory#</dia:string>
       </dia:attribute>
       <dia:attribute name="stereotype">
         <dia:string>#service#</dia:string>
@@ -4815,157 +6769,13 @@ any.#</dia:string>
       <dia:attribute name="operations">
         <dia:composite type="umloperation">
           <dia:attribute name="name">
-            <dia:string>#make_text#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="stereotype">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="type">
-            <dia:string>#boost::shared_ptr&lt;value&gt;#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="visibility">
-            <dia:enum val="0"/>
-          </dia:attribute>
-          <dia:attribute name="comment">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="abstract">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="inheritance_type">
-            <dia:enum val="2"/>
-          </dia:attribute>
-          <dia:attribute name="query">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="class_scope">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="parameters">
-            <dia:composite type="umlparameter">
-              <dia:attribute name="name">
-                <dia:string>#v#</dia:string>
-              </dia:attribute>
-              <dia:attribute name="type">
-                <dia:string>#const std::string&amp;#</dia:string>
-              </dia:attribute>
-              <dia:attribute name="value">
-                <dia:string>##</dia:string>
-              </dia:attribute>
-              <dia:attribute name="comment">
-                <dia:string>##</dia:string>
-              </dia:attribute>
-              <dia:attribute name="kind">
-                <dia:enum val="0"/>
-              </dia:attribute>
-            </dia:composite>
-          </dia:attribute>
-        </dia:composite>
-        <dia:composite type="umloperation">
-          <dia:attribute name="name">
-            <dia:string>#make_text_collection#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="stereotype">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="type">
-            <dia:string>#boost::shared_ptr&lt;value&gt;#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="visibility">
-            <dia:enum val="0"/>
-          </dia:attribute>
-          <dia:attribute name="comment">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="abstract">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="inheritance_type">
-            <dia:enum val="2"/>
-          </dia:attribute>
-          <dia:attribute name="query">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="class_scope">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="parameters">
-            <dia:composite type="umlparameter">
-              <dia:attribute name="name">
-                <dia:string>#v#</dia:string>
-              </dia:attribute>
-              <dia:attribute name="type">
-                <dia:string>#const std::list&lt;std::string&gt;&amp;#</dia:string>
-              </dia:attribute>
-              <dia:attribute name="value">
-                <dia:string>##</dia:string>
-              </dia:attribute>
-              <dia:attribute name="comment">
-                <dia:string>##</dia:string>
-              </dia:attribute>
-              <dia:attribute name="kind">
-                <dia:enum val="0"/>
-              </dia:attribute>
-            </dia:composite>
-          </dia:attribute>
-        </dia:composite>
-        <dia:composite type="umloperation">
-          <dia:attribute name="name">
-            <dia:string>#make_boolean#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="stereotype">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="type">
-            <dia:string>#boost::shared_ptr&lt;value&gt;#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="visibility">
-            <dia:enum val="0"/>
-          </dia:attribute>
-          <dia:attribute name="comment">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="abstract">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="inheritance_type">
-            <dia:enum val="2"/>
-          </dia:attribute>
-          <dia:attribute name="query">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="class_scope">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="parameters">
-            <dia:composite type="umlparameter">
-              <dia:attribute name="name">
-                <dia:string>#v#</dia:string>
-              </dia:attribute>
-              <dia:attribute name="type">
-                <dia:string>#const bool#</dia:string>
-              </dia:attribute>
-              <dia:attribute name="value">
-                <dia:string>##</dia:string>
-              </dia:attribute>
-              <dia:attribute name="comment">
-                <dia:string>##</dia:string>
-              </dia:attribute>
-              <dia:attribute name="kind">
-                <dia:enum val="0"/>
-              </dia:attribute>
-            </dia:composite>
-          </dia:attribute>
-        </dia:composite>
-        <dia:composite type="umloperation">
-          <dia:attribute name="name">
-            <dia:string>#make_number#</dia:string>
+            <dia:string>#make#</dia:string>
           </dia:attribute>
           <dia:attribute name="stereotype">
             <dia:string>##</dia:string>
           </dia:attribute>
           <dia:attribute name="type">
-            <dia:string>#boost::shared_ptr&lt;value&gt;#</dia:string>
+            <dia:string>#selector#</dia:string>
           </dia:attribute>
           <dia:attribute name="visibility">
             <dia:enum val="0"/>
@@ -4988,10 +6798,10 @@ any.#</dia:string>
           <dia:attribute name="parameters">
             <dia:composite type="umlparameter">
               <dia:attribute name="name">
-                <dia:string>#v#</dia:string>
+                <dia:string>#field_definitions#</dia:string>
               </dia:attribute>
               <dia:attribute name="type">
-                <dia:string>#const int#</dia:string>
+                <dia:string>#const std::forward_list&lt;field_definition&gt;&amp;#</dia:string>
               </dia:attribute>
               <dia:attribute name="value">
                 <dia:string>##</dia:string>
@@ -5011,80 +6821,9 @@ any.#</dia:string>
       </dia:attribute>
       <dia:attribute name="templates"/>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O44">
-      <dia:attribute name="name">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="direction">
-        <dia:enum val="2"/>
-      </dia:attribute>
-      <dia:attribute name="show_direction">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="assoc_type">
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="role_a">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="multipicity_a">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="visibility_a">
-        <dia:enum val="3"/>
-      </dia:attribute>
-      <dia:attribute name="show_arrow_a">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="role_b">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="multipicity_b">
-        <dia:string>##</dia:string>
-      </dia:attribute>
-      <dia:attribute name="visibility_b">
-        <dia:enum val="3"/>
-      </dia:attribute>
-      <dia:attribute name="show_arrow_b">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="obj_pos">
-        <dia:point val="39.2925,30.8"/>
-      </dia:attribute>
-      <dia:attribute name="obj_bb">
-        <dia:rectangle val="29.25,30.75;39.4925,41.8"/>
-      </dia:attribute>
-      <dia:attribute name="meta">
-        <dia:composite type="dict"/>
-      </dia:attribute>
-      <dia:attribute name="orth_points">
-        <dia:point val="39.2925,30.8"/>
-        <dia:point val="39.2925,37"/>
-        <dia:point val="30,37"/>
-        <dia:point val="30,41"/>
-      </dia:attribute>
-      <dia:attribute name="orth_orient">
-        <dia:enum val="1"/>
-        <dia:enum val="0"/>
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="orth_autoroute">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="text_colour">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:attribute name="line_colour">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:connections>
-        <dia:connection handle="0" to="O2" connection="6"/>
-        <dia:connection handle="1" to="O43" connection="0"/>
-      </dia:connections>
-    </dia:object>
-    <dia:object type="UML - Association" version="2" id="O45">
+    <dia:object type="UML - Association" version="2" id="O52">
       <dia:attribute name="name">
-        <dia:string>##</dia:string>
+        <dia:string>#indexes fields using &gt;#</dia:string>
       </dia:attribute>
       <dia:attribute name="direction">
         <dia:enum val="2"/>
@@ -5120,19 +6859,19 @@ any.#</dia:string>
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="53.41,30.8"/>
+        <dia:point val="60.785,-33"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="44.9,30.75;53.61,41.8"/>
+        <dia:rectangle val="60.735,-44.15;74.75,-31.4"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="53.41,30.8"/>
-        <dia:point val="53.41,37"/>
-        <dia:point val="45.65,37"/>
-        <dia:point val="45.65,41"/>
+        <dia:point val="60.785,-33"/>
+        <dia:point val="60.785,-38"/>
+        <dia:point val="74,-38"/>
+        <dia:point val="74,-43.4"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -5149,13 +6888,13 @@ any.#</dia:string>
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O8" connection="6"/>
-        <dia:connection handle="1" to="O43" connection="1"/>
+        <dia:connection handle="0" to="O44" connection="2"/>
+        <dia:connection handle="1" to="O51" connection="5"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O46">
+    <dia:object type="UML - Association" version="2" id="O53">
       <dia:attribute name="name">
-        <dia:string>##</dia:string>
+        <dia:string>#creates &gt;#</dia:string>
       </dia:attribute>
       <dia:attribute name="direction">
         <dia:enum val="1"/>
@@ -5191,19 +6930,19 @@ any.#</dia:string>
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="61.3,41"/>
+        <dia:point val="104.145,-43.4"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="60.55,30.75;67.145,41.8"/>
+        <dia:rectangle val="103.395,-44.15;114.2,-32.4"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="61.3,41"/>
-        <dia:point val="61.3,37"/>
-        <dia:point val="66.945,37"/>
-        <dia:point val="66.945,30.8"/>
+        <dia:point val="104.145,-43.4"/>
+        <dia:point val="104.145,-38"/>
+        <dia:point val="114,-38"/>
+        <dia:point val="114,-34"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -5220,277 +6959,82 @@ any.#</dia:string>
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O43" connection="2"/>
-        <dia:connection handle="1" to="O6" connection="6"/>
+        <dia:connection handle="0" to="O51" connection="7"/>
+        <dia:connection handle="1" to="O48" connection="0"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Class" version="0" id="O47">
-      <dia:attribute name="obj_pos">
-        <dia:point val="39,-31"/>
-      </dia:attribute>
-      <dia:attribute name="obj_bb">
-        <dia:rectangle val="38.95,-31.05;80.36,-22.75"/>
-      </dia:attribute>
-      <dia:attribute name="elem_corner">
-        <dia:point val="39,-31"/>
-      </dia:attribute>
-      <dia:attribute name="elem_width">
-        <dia:real val="41.310000000000002"/>
-      </dia:attribute>
-      <dia:attribute name="elem_height">
-        <dia:real val="8.1999999999999993"/>
-      </dia:attribute>
+    <dia:object type="UML - Association" version="2" id="O54">
       <dia:attribute name="name">
-        <dia:string>#indexer#</dia:string>
-      </dia:attribute>
-      <dia:attribute name="stereotype">
-        <dia:string>#service#</dia:string>
-      </dia:attribute>
-      <dia:attribute name="comment">
         <dia:string>##</dia:string>
       </dia:attribute>
-      <dia:attribute name="abstract">
-        <dia:boolean val="false"/>
-      </dia:attribute>
-      <dia:attribute name="suppress_attributes">
-        <dia:boolean val="false"/>
+      <dia:attribute name="direction">
+        <dia:enum val="1"/>
       </dia:attribute>
-      <dia:attribute name="suppress_operations">
+      <dia:attribute name="show_direction">
         <dia:boolean val="false"/>
       </dia:attribute>
-      <dia:attribute name="visible_attributes">
-        <dia:boolean val="true"/>
-      </dia:attribute>
-      <dia:attribute name="visible_operations">
-        <dia:boolean val="true"/>
-      </dia:attribute>
-      <dia:attribute name="visible_comments">
-        <dia:boolean val="false"/>
+      <dia:attribute name="assoc_type">
+        <dia:enum val="1"/>
       </dia:attribute>
-      <dia:attribute name="wrap_operations">
-        <dia:boolean val="true"/>
+      <dia:attribute name="role_a">
+        <dia:string>##</dia:string>
       </dia:attribute>
-      <dia:attribute name="wrap_after_char">
-        <dia:int val="40"/>
+      <dia:attribute name="multipicity_a">
+        <dia:string>##</dia:string>
       </dia:attribute>
-      <dia:attribute name="comment_line_length">
-        <dia:int val="17"/>
+      <dia:attribute name="visibility_a">
+        <dia:enum val="3"/>
       </dia:attribute>
-      <dia:attribute name="comment_tagging">
+      <dia:attribute name="show_arrow_a">
         <dia:boolean val="false"/>
       </dia:attribute>
-      <dia:attribute name="line_width">
-        <dia:real val="0.10000000000000001"/>
-      </dia:attribute>
-      <dia:attribute name="line_color">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:attribute name="fill_color">
-        <dia:color val="#ffffff"/>
-      </dia:attribute>
-      <dia:attribute name="text_color">
-        <dia:color val="#000000"/>
-      </dia:attribute>
-      <dia:attribute name="normal_font">
-        <dia:font family="monospace" style="0" name="Courier"/>
-      </dia:attribute>
-      <dia:attribute name="abstract_font">
-        <dia:font family="monospace" style="88" name="Courier-BoldOblique"/>
-      </dia:attribute>
-      <dia:attribute name="polymorphic_font">
-        <dia:font family="monospace" style="8" name="Courier-Oblique"/>
-      </dia:attribute>
-      <dia:attribute name="classname_font">
-        <dia:font family="sans" style="80" name="Helvetica-Bold"/>
-      </dia:attribute>
-      <dia:attribute name="abstract_classname_font">
-        <dia:font family="sans" style="88" name="Helvetica-BoldOblique"/>
-      </dia:attribute>
-      <dia:attribute name="comment_font">
-        <dia:font family="sans" style="8" name="Helvetica-Oblique"/>
-      </dia:attribute>
-      <dia:attribute name="normal_font_height">
-        <dia:real val="0.80000000000000004"/>
+      <dia:attribute name="role_b">
+        <dia:string>##</dia:string>
       </dia:attribute>
-      <dia:attribute name="polymorphic_font_height">
-        <dia:real val="0.80000000000000004"/>
+      <dia:attribute name="multipicity_b">
+        <dia:string>##</dia:string>
       </dia:attribute>
-      <dia:attribute name="abstract_font_height">
-        <dia:real val="0.80000000000000004"/>
+      <dia:attribute name="visibility_b">
+        <dia:enum val="3"/>
       </dia:attribute>
-      <dia:attribute name="classname_font_height">
-        <dia:real val="1"/>
+      <dia:attribute name="show_arrow_b">
+        <dia:boolean val="false"/>
       </dia:attribute>
-      <dia:attribute name="abstract_classname_font_height">
-        <dia:real val="1"/>
+      <dia:attribute name="obj_pos">
+        <dia:point val="89.0725,-43.4"/>
       </dia:attribute>
-      <dia:attribute name="comment_font_height">
-        <dia:real val="0.69999999999999996"/>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="88.3225,-44.15;107.06,-11.4"/>
       </dia:attribute>
-      <dia:attribute name="attributes">
-        <dia:composite type="umlattribute">
-          <dia:attribute name="name">
-            <dia:string>#field_definitions_by_facet_name_#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="type">
-            <dia:string>#std::unordered_map&lt;std::string,std::forward_list&lt;field_definition&gt;&gt;#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="value">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="comment">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="visibility">
-            <dia:enum val="1"/>
-          </dia:attribute>
-          <dia:attribute name="abstract">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="class_scope">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-        </dia:composite>
-        <dia:composite type="umlattribute">
-          <dia:attribute name="name">
-            <dia:string>#field_definitions_by_formatter_name_#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="type">
-            <dia:string>#std::unordered_map&lt;std::string,std::forward_list&lt;field_definition&gt;&gt;#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="value">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="comment">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="visibility">
-            <dia:enum val="1"/>
-          </dia:attribute>
-          <dia:attribute name="abstract">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="class_scope">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-        </dia:composite>
+      <dia:attribute name="meta">
+        <dia:composite type="dict"/>
       </dia:attribute>
-      <dia:attribute name="operations">
-        <dia:composite type="umloperation">
-          <dia:attribute name="name">
-            <dia:string>#field_definitions_by_facet_name#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="stereotype">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="type">
-            <dia:string>#const std::unordered_map&lt;std::string,std::forward_list&lt;field_definition&gt;&gt;&amp;#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="visibility">
-            <dia:enum val="0"/>
-          </dia:attribute>
-          <dia:attribute name="comment">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="abstract">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="inheritance_type">
-            <dia:enum val="2"/>
-          </dia:attribute>
-          <dia:attribute name="query">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="class_scope">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="parameters"/>
-        </dia:composite>
-        <dia:composite type="umloperation">
-          <dia:attribute name="name">
-            <dia:string>#field_definitions_by_formatter_name#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="stereotype">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="type">
-            <dia:string>#const std::unordered_map&lt;std::string,std::forward_list&lt;field_definition&gt;&gt;&amp;#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="visibility">
-            <dia:enum val="0"/>
-          </dia:attribute>
-          <dia:attribute name="comment">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="abstract">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="inheritance_type">
-            <dia:enum val="2"/>
-          </dia:attribute>
-          <dia:attribute name="query">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="class_scope">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="parameters"/>
-        </dia:composite>
-        <dia:composite type="umloperation">
-          <dia:attribute name="name">
-            <dia:string>#index#</dia:string>
-          </dia:attribute>
-          <dia:attribute name="stereotype">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="type">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="visibility">
-            <dia:enum val="0"/>
-          </dia:attribute>
-          <dia:attribute name="comment">
-            <dia:string>##</dia:string>
-          </dia:attribute>
-          <dia:attribute name="abstract">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="inheritance_type">
-            <dia:enum val="2"/>
-          </dia:attribute>
-          <dia:attribute name="query">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="class_scope">
-            <dia:boolean val="false"/>
-          </dia:attribute>
-          <dia:attribute name="parameters">
-            <dia:composite type="umlparameter">
-              <dia:attribute name="name">
-                <dia:string>#field_definitions#</dia:string>
-              </dia:attribute>
-              <dia:attribute name="type">
-                <dia:string>#const std::forward_list&lt;field_definition&gt;&amp;#</dia:string>
-              </dia:attribute>
-              <dia:attribute name="value">
-                <dia:string>##</dia:string>
-              </dia:attribute>
-              <dia:attribute name="comment">
-                <dia:string>##</dia:string>
-              </dia:attribute>
-              <dia:attribute name="kind">
-                <dia:enum val="0"/>
-              </dia:attribute>
-            </dia:composite>
-          </dia:attribute>
-        </dia:composite>
+      <dia:attribute name="orth_points">
+        <dia:point val="89.0725,-43.4"/>
+        <dia:point val="89.0725,-29"/>
+        <dia:point val="106.86,-29"/>
+        <dia:point val="106.86,-13"/>
       </dia:attribute>
-      <dia:attribute name="template">
+      <dia:attribute name="orth_orient">
+        <dia:enum val="1"/>
+        <dia:enum val="0"/>
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="orth_autoroute">
         <dia:boolean val="false"/>
       </dia:attribute>
-      <dia:attribute name="templates"/>
+      <dia:attribute name="text_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="line_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:connections>
+        <dia:connection handle="0" to="O51" connection="6"/>
+        <dia:connection handle="1" to="O31" connection="2"/>
+      </dia:connections>
     </dia:object>
-    <dia:object type="UML - Association" version="2" id="O48">
+    <dia:object type="UML - Association" version="2" id="O55">
       <dia:attribute name="name">
         <dia:string>##</dia:string>
       </dia:attribute>
@@ -5528,19 +7072,19 @@ any.#</dia:string>
         <dia:boolean val="false"/>
       </dia:attribute>
       <dia:attribute name="obj_pos">
-        <dia:point val="59.655,-22.8"/>
+        <dia:point val="98.7625,3"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="56.0925,-23.55;60.405,-12.2"/>
+        <dia:rectangle val="98.0125,-10.05;103.63,4.6"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
       <dia:attribute name="orth_points">
-        <dia:point val="59.655,-22.8"/>
-        <dia:point val="59.655,-17"/>
-        <dia:point val="56.1425,-17"/>
-        <dia:point val="56.1425,-13"/>
+        <dia:point val="98.7625,3"/>
+        <dia:point val="98.7625,-3"/>
+        <dia:point val="103.43,-3"/>
+        <dia:point val="103.43,-10"/>
       </dia:attribute>
       <dia:attribute name="orth_orient">
         <dia:enum val="1"/>
@@ -5557,179 +7101,230 @@ any.#</dia:string>
         <dia:color val="#000000"/>
       </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O47" connection="6"/>
-        <dia:connection handle="1" to="O12" connection="1"/>
+        <dia:connection handle="0" to="O19" connection="1"/>
+        <dia:connection handle="1" to="O31" connection="6"/>
       </dia:connections>
     </dia:object>
-    <dia:object type="UML - Class" version="0" id="O49">
-      <dia:attribute name="obj_pos">
-        <dia:point val="50,-42"/>
-      </dia:attribute>
-      <dia:attribute name="obj_bb">
-        <dia:rectangle val="49.95,-42.05;57.12,-38.95"/>
-      </dia:attribute>
-      <dia:attribute name="elem_corner">
-        <dia:point val="50,-42"/>
+    <dia:object type="UML - Association" version="2" id="O56">
+      <dia:attribute name="name">
+        <dia:string>#indexes using &gt;#</dia:string>
       </dia:attribute>
-      <dia:attribute name="elem_width">
-        <dia:real val="7.0700000000000003"/>
+      <dia:attribute name="direction">
+        <dia:enum val="1"/>
       </dia:attribute>
-      <dia:attribute name="elem_height">
-        <dia:real val="3"/>
+      <dia:attribute name="show_direction">
+        <dia:boolean val="false"/>
       </dia:attribute>
-      <dia:attribute name="name">
-        <dia:string>#indexing_error#</dia:string>
+      <dia:attribute name="assoc_type">
+        <dia:enum val="1"/>
       </dia:attribute>
-      <dia:attribute name="stereotype">
-        <dia:string>#exception#</dia:string>
+      <dia:attribute name="role_a">
+        <dia:string>##</dia:string>
       </dia:attribute>
-      <dia:attribute name="comment">
-        <dia:string>#There was an error while indexing.#</dia:string>
+      <dia:attribute name="multipicity_a">
+        <dia:string>##</dia:string>
       </dia:attribute>
-      <dia:attribute name="abstract">
-        <dia:boolean val="false"/>
+      <dia:attribute name="visibility_a">
+        <dia:enum val="3"/>
       </dia:attribute>
-      <dia:attribute name="suppress_attributes">
+      <dia:attribute name="show_arrow_a">
         <dia:boolean val="false"/>
       </dia:attribute>
-      <dia:attribute name="suppress_operations">
-        <dia:boolean val="false"/>
+      <dia:attribute name="role_b">
+        <dia:string>##</dia:string>
       </dia:attribute>
-      <dia:attribute name="visible_attributes">
-        <dia:boolean val="true"/>
+      <dia:attribute name="multipicity_b">
+        <dia:string>##</dia:string>
       </dia:attribute>
-      <dia:attribute name="visible_operations">
-        <dia:boolean val="true"/>
+      <dia:attribute name="visibility_b">
+        <dia:enum val="3"/>
       </dia:attribute>
-      <dia:attribute name="visible_comments">
+      <dia:attribute name="show_arrow_b">
         <dia:boolean val="false"/>
       </dia:attribute>
-      <dia:attribute name="wrap_operations">
-        <dia:boolean val="true"/>
+      <dia:attribute name="obj_pos">
+        <dia:point val="6,-27"/>
       </dia:attribute>
-      <dia:attribute name="wrap_after_char">
-        <dia:int val="40"/>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="5.25,-27.75;23.2,-11.4"/>
       </dia:attribute>
-      <dia:attribute name="comment_line_length">
-        <dia:int val="17"/>
+      <dia:attribute name="meta">
+        <dia:composite type="dict"/>
       </dia:attribute>
-      <dia:attribute name="comment_tagging">
+      <dia:attribute name="orth_points">
+        <dia:point val="6,-27"/>
+        <dia:point val="6,-17"/>
+        <dia:point val="23,-17"/>
+        <dia:point val="23,-13"/>
+      </dia:attribute>
+      <dia:attribute name="orth_orient">
+        <dia:enum val="1"/>
+        <dia:enum val="0"/>
+        <dia:enum val="1"/>
+      </dia:attribute>
+      <dia:attribute name="orth_autoroute">
         <dia:boolean val="false"/>
       </dia:attribute>
-      <dia:attribute name="line_width">
-        <dia:real val="0.10000000000000001"/>
+      <dia:attribute name="text_colour">
+        <dia:color val="#000000"/>
       </dia:attribute>
-      <dia:attribute name="line_color">
+      <dia:attribute name="line_colour">
         <dia:color val="#000000"/>
       </dia:attribute>
-      <dia:attribute name="fill_color">
-        <dia:color val="#ffffff"/>
+      <dia:connections>
+        <dia:connection handle="0" to="O44" connection="5"/>
+        <dia:connection handle="1" to="O38" connection="0"/>
+      </dia:connections>
+    </dia:object>
+    <dia:object type="UML - Note" version="0" id="O57">
+      <dia:attribute name="obj_pos">
+        <dia:point val="92,11"/>
       </dia:attribute>
-      <dia:attribute name="text_color">
-        <dia:color val="#000000"/>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="91.95,10.95;105.27,12.75"/>
       </dia:attribute>
-      <dia:attribute name="normal_font">
-        <dia:font family="monospace" style="0" name="Courier"/>
+      <dia:attribute name="meta">
+        <dia:composite type="dict"/>
       </dia:attribute>
-      <dia:attribute name="abstract_font">
-        <dia:font family="monospace" style="88" name="Courier-BoldOblique"/>
+      <dia:attribute name="elem_corner">
+        <dia:point val="92,11"/>
       </dia:attribute>
-      <dia:attribute name="polymorphic_font">
-        <dia:font family="monospace" style="8" name="Courier-Oblique"/>
+      <dia:attribute name="elem_width">
+        <dia:real val="13.220000000000001"/>
       </dia:attribute>
-      <dia:attribute name="classname_font">
-        <dia:font family="sans" style="80" name="Helvetica-Bold"/>
+      <dia:attribute name="elem_height">
+        <dia:real val="1.7000000000000002"/>
       </dia:attribute>
-      <dia:attribute name="abstract_classname_font">
-        <dia:font family="sans" style="88" name="Helvetica-BoldOblique"/>
+      <dia:attribute name="line_width">
+        <dia:real val="0.10000000000000001"/>
       </dia:attribute>
-      <dia:attribute name="comment_font">
-        <dia:font family="sans" style="8" name="Helvetica-Oblique"/>
+      <dia:attribute name="line_colour">
+        <dia:color val="#000000"/>
       </dia:attribute>
-      <dia:attribute name="normal_font_height">
-        <dia:real val="0.80000000000000004"/>
+      <dia:attribute name="fill_colour">
+        <dia:color val="#ffffff"/>
       </dia:attribute>
-      <dia:attribute name="polymorphic_font_height">
-        <dia:real val="0.80000000000000004"/>
+      <dia:attribute name="text">
+        <dia:composite type="text">
+          <dia:attribute name="string">
+            <dia:string>#Workflow that generates objects.#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="font">
+            <dia:font family="monospace" style="0" name="Courier"/>
+          </dia:attribute>
+          <dia:attribute name="height">
+            <dia:real val="0.80000000000000004"/>
+          </dia:attribute>
+          <dia:attribute name="pos">
+            <dia:point val="92.35,12.245"/>
+          </dia:attribute>
+          <dia:attribute name="color">
+            <dia:color val="#000000"/>
+          </dia:attribute>
+          <dia:attribute name="alignment">
+            <dia:enum val="0"/>
+          </dia:attribute>
+        </dia:composite>
       </dia:attribute>
-      <dia:attribute name="abstract_font_height">
-        <dia:real val="0.80000000000000004"/>
+    </dia:object>
+    <dia:object type="UML - Message" version="0" id="O58">
+      <dia:attribute name="obj_pos">
+        <dia:point val="98.61,11"/>
       </dia:attribute>
-      <dia:attribute name="classname_font_height">
-        <dia:real val="1"/>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="98.3607,7.33312;99.1643,11.0521"/>
       </dia:attribute>
-      <dia:attribute name="abstract_classname_font_height">
-        <dia:real val="1"/>
+      <dia:attribute name="meta">
+        <dia:composite type="dict"/>
       </dia:attribute>
-      <dia:attribute name="comment_font_height">
-        <dia:real val="0.69999999999999996"/>
+      <dia:attribute name="conn_endpoints">
+        <dia:point val="98.61,11"/>
+        <dia:point val="98.7625,7.4"/>
       </dia:attribute>
-      <dia:attribute name="attributes"/>
-      <dia:attribute name="operations"/>
-      <dia:attribute name="template">
-        <dia:boolean val="false"/>
+      <dia:attribute name="text_colour">
+        <dia:color val="#000000"/>
       </dia:attribute>
-      <dia:attribute name="templates"/>
-    </dia:object>
-    <dia:object type="UML - Association" version="2" id="O50">
-      <dia:attribute name="name">
+      <dia:attribute name="line_colour">
+        <dia:color val="#000000"/>
+      </dia:attribute>
+      <dia:attribute name="text">
         <dia:string>##</dia:string>
       </dia:attribute>
-      <dia:attribute name="direction">
-        <dia:enum val="1"/>
+      <dia:attribute name="type">
+        <dia:enum val="0"/>
       </dia:attribute>
-      <dia:attribute name="show_direction">
-        <dia:boolean val="false"/>
+      <dia:attribute name="text_pos">
+        <dia:point val="98.6863,9.7"/>
       </dia:attribute>
-      <dia:attribute name="assoc_type">
-        <dia:enum val="1"/>
+      <dia:connections>
+        <dia:connection handle="0" to="O57" connection="1"/>
+        <dia:connection handle="1" to="O19" connection="6"/>
+      </dia:connections>
+    </dia:object>
+    <dia:object type="UML - Note" version="0" id="O59">
+      <dia:attribute name="obj_pos">
+        <dia:point val="113,-47"/>
       </dia:attribute>
-      <dia:attribute name="role_a">
-        <dia:string>##</dia:string>
+      <dia:attribute name="obj_bb">
+        <dia:rectangle val="112.95,-47.05;133.585,-45.25"/>
       </dia:attribute>
-      <dia:attribute name="multipicity_a">
-        <dia:string>##</dia:string>
+      <dia:attribute name="meta">
+        <dia:composite type="dict"/>
       </dia:attribute>
-      <dia:attribute name="visibility_a">
-        <dia:enum val="3"/>
+      <dia:attribute name="elem_corner">
+        <dia:point val="113,-47"/>
       </dia:attribute>
-      <dia:attribute name="show_arrow_a">
-        <dia:boolean val="false"/>
+      <dia:attribute name="elem_width">
+        <dia:real val="20.535"/>
       </dia:attribute>
-      <dia:attribute name="role_b">
-        <dia:string>##</dia:string>
+      <dia:attribute name="elem_height">
+        <dia:real val="1.7000000000000002"/>
       </dia:attribute>
-      <dia:attribute name="multipicity_b">
-        <dia:string>##</dia:string>
+      <dia:attribute name="line_width">
+        <dia:real val="0.10000000000000001"/>
       </dia:attribute>
-      <dia:attribute name="visibility_b">
-        <dia:enum val="3"/>
+      <dia:attribute name="line_colour">
+        <dia:color val="#000000"/>
       </dia:attribute>
-      <dia:attribute name="show_arrow_b">
-        <dia:boolean val="false"/>
+      <dia:attribute name="fill_colour">
+        <dia:color val="#ffffff"/>
+      </dia:attribute>
+      <dia:attribute name="text">
+        <dia:composite type="text">
+          <dia:attribute name="string">
+            <dia:string>#Workflow that generates field definition selectors.#</dia:string>
+          </dia:attribute>
+          <dia:attribute name="font">
+            <dia:font family="monospace" style="0" name="Courier"/>
+          </dia:attribute>
+          <dia:attribute name="height">
+            <dia:real val="0.80000000000000004"/>
+          </dia:attribute>
+          <dia:attribute name="pos">
+            <dia:point val="113.35,-45.755"/>
+          </dia:attribute>
+          <dia:attribute name="color">
+            <dia:color val="#000000"/>
+          </dia:attribute>
+          <dia:attribute name="alignment">
+            <dia:enum val="0"/>
+          </dia:attribute>
+        </dia:composite>
       </dia:attribute>
+    </dia:object>
+    <dia:object type="UML - Message" version="0" id="O60">
       <dia:attribute name="obj_pos">
-        <dia:point val="59.655,-31"/>
+        <dia:point val="113,-46.15"/>
       </dia:attribute>
       <dia:attribute name="obj_bb">
-        <dia:rectangle val="53.485,-39.05;60.405,-30.2"/>
+        <dia:rectangle val="104.129,-46.2021;113.052,-45.2752"/>
       </dia:attribute>
       <dia:attribute name="meta">
         <dia:composite type="dict"/>
       </dia:attribute>
-      <dia:attribute name="orth_points">
-        <dia:point val="59.655,-31"/>
-        <dia:point val="59.655,-35"/>
-        <dia:point val="53.535,-35"/>
-        <dia:point val="53.535,-39"/>
-      </dia:attribute>
-      <dia:attribute name="orth_orient">
-        <dia:enum val="1"/>
-        <dia:enum val="0"/>
-        <dia:enum val="1"/>
-      </dia:attribute>
-      <dia:attribute name="orth_autoroute">
-        <dia:boolean val="false"/>
+      <dia:attribute name="conn_endpoints">
+        <dia:point val="113,-46.15"/>
+        <dia:point val="104.194,-45.8004"/>
       </dia:attribute>
       <dia:attribute name="text_colour">
         <dia:color val="#000000"/>
@@ -5737,9 +7332,18 @@ any.#</dia:string>
       <dia:attribute name="line_colour">
         <dia:color val="#000000"/>
       </dia:attribute>
+      <dia:attribute name="text">
+        <dia:string>##</dia:string>
+      </dia:attribute>
+      <dia:attribute name="type">
+        <dia:enum val="0"/>
+      </dia:attribute>
+      <dia:attribute name="text_pos">
+        <dia:point val="108.597,-45.4752"/>
+      </dia:attribute>
       <dia:connections>
-        <dia:connection handle="0" to="O47" connection="1"/>
-        <dia:connection handle="1" to="O49" connection="6"/>
+        <dia:connection handle="0" to="O59" connection="3"/>
+        <dia:connection handle="1" to="O51" connection="10"/>
       </dia:connections>
     </dia:object>
   </dia:layer>
diff --git a/projects/dynamic/include/dogen/dynamic/types/all.hpp b/projects/dynamic/include/dogen/dynamic/types/all.hpp
index 8f3671f..bef19d5 100644
--- a/projects/dynamic/include/dogen/dynamic/types/all.hpp
+++ b/projects/dynamic/include/dogen/dynamic/types/all.hpp
@@ -21,25 +21,26 @@
 #include "dogen/dynamic/types/aggregator.hpp"
 #include "dogen/dynamic/types/boolean.hpp"
 #include "dogen/dynamic/types/building_error.hpp"
-#include "dogen/dynamic/types/content_extensions.hpp"
 #include "dogen/dynamic/types/dynamic.hpp"
-#include "dogen/dynamic/types/field_access_error.hpp"
 #include "dogen/dynamic/types/field_definition.hpp"
+#include "dogen/dynamic/types/field_definition_selector.hpp"
+#include "dogen/dynamic/types/field_definition_selector_factory.hpp"
 #include "dogen/dynamic/types/field_instance.hpp"
 #include "dogen/dynamic/types/field_instance_factory.hpp"
+#include "dogen/dynamic/types/field_selector.hpp"
 #include "dogen/dynamic/types/indexer.hpp"
 #include "dogen/dynamic/types/indexing_error.hpp"
 #include "dogen/dynamic/types/name.hpp"
 #include "dogen/dynamic/types/object.hpp"
+#include "dogen/dynamic/types/object_factory.hpp"
 #include "dogen/dynamic/types/ownership_hierarchy.hpp"
 #include "dogen/dynamic/types/registrar.hpp"
 #include "dogen/dynamic/types/registrar_error.hpp"
 #include "dogen/dynamic/types/scope_types.hpp"
+#include "dogen/dynamic/types/selection_error.hpp"
 #include "dogen/dynamic/types/text.hpp"
 #include "dogen/dynamic/types/text_collection.hpp"
 #include "dogen/dynamic/types/value.hpp"
 #include "dogen/dynamic/types/value_factory.hpp"
 #include "dogen/dynamic/types/value_types.hpp"
 #include "dogen/dynamic/types/value_visitor.hpp"
-#include "dogen/dynamic/types/workflow.hpp"
-#include "dogen/dynamic/types/workflow_error.hpp"
diff --git a/projects/dynamic/include/dogen/dynamic/types/content_extensions.hpp b/projects/dynamic/include/dogen/dynamic/types/content_extensions.hpp
deleted file mode 100644
index ef71258..0000000
--- a/projects/dynamic/include/dogen/dynamic/types/content_extensions.hpp
+++ /dev/null
@@ -1,109 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#ifndef DOGEN_DYNAMIC_TYPES_CONTENT_EXTENSIONS_HPP
-#define DOGEN_DYNAMIC_TYPES_CONTENT_EXTENSIONS_HPP
-
-#if defined(_MSC_VER) && (_MSC_VER >= 1200)
-#pragma once
-#endif
-
-#include <list>
-#include <string>
-#include "dogen/dynamic/types/field_definition.hpp"
-#include "dogen/dynamic/types/field_instance.hpp"
-#include "dogen/dynamic/types/object.hpp"
-
-namespace dogen {
-namespace dynamic {
-
-/**
- * @brief Returns true if a field exists in an object.
- */
-/**@{*/
-bool has_field(const object& o, const std::string& k);
-bool has_field(const object& o, const field_definition& fd);
-/**@}*/
-
-/**
- * @brief Returns a field from an object.
- *
- * @pre has_field must be true.
- */
-/**@{*/
-const field_instance& get_field(const object& o, const std::string& k);
-const field_instance& get_field(const object& o, const field_definition& fd);
-/**@}*/
-
-/**
- * @brief Returns the content for the field, assuming it is a text field.
- *
- * @pre Field value type must be text.
- */
-std::string get_text_content(const dogen::dynamic::value& v);
-
-/**
- * @brief Returns the content for the field, assuming it is a text field.
- *
- * @pre has_field must be true.
- * @pre Field value type must be text.
- */
-/**@{*/
-std::string get_text_content(const object& o, const std::string& k);
-std::string get_text_content(const object& o, const field_definition& fd);
-/**@}*/
-
-/**
- * @brief Returns the content for the field, assuming it is a text
- * collection field.
- *
- * @pre has_field must be true.
- * @pre Field value type must be text collection.
- */
-/**@{*/
-std::list<std::string>
-get_text_collection_content(const object& o, const std::string& k);
-std::list<std::string>
-get_text_collection_content(const object& o, const field_definition& fd);
-/**@}*/
-
-/**
- * @brief Returns the content for the field, assuming it is a boolean
- * field.
- *
- * @pre Field value type must be boolean.
- */
-bool get_boolean_content(const dogen::dynamic::value& v);
-
-/**
- * @brief Returns the content for the field, assuming it is a boolean
- * field.
- *
- * @pre has_field must be true.
- * @pre Field value type must be boolean.
- */
-/**@{*/
-bool get_boolean_content(const object& o, const std::string& k);
-bool get_boolean_content(const object& o, const field_definition& fd);
-/**@}*/
-
-} }
-
-#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/content_extensions_fwd.hpp b/projects/dynamic/include/dogen/dynamic/types/content_extensions_fwd.hpp
deleted file mode 100644
index 966aa46..0000000
--- a/projects/dynamic/include/dogen/dynamic/types/content_extensions_fwd.hpp
+++ /dev/null
@@ -1,35 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#ifndef DOGEN_DYNAMIC_TYPES_CONTENT_EXTENSIONS_FWD_HPP
-#define DOGEN_DYNAMIC_TYPES_CONTENT_EXTENSIONS_FWD_HPP
-
-#if defined(_MSC_VER) && (_MSC_VER >= 1200)
-#pragma once
-#endif
-
-namespace dogen {
-namespace dynamic {
-
-class content_extensions;
-
-} }
-
-#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/field_access_error.hpp b/projects/dynamic/include/dogen/dynamic/types/field_access_error.hpp
deleted file mode 100644
index b54aea8..0000000
--- a/projects/dynamic/include/dogen/dynamic/types/field_access_error.hpp
+++ /dev/null
@@ -1,54 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#ifndef DOGEN_DYNAMIC_TYPES_FIELD_ACCESS_ERROR_HPP
-#define DOGEN_DYNAMIC_TYPES_FIELD_ACCESS_ERROR_HPP
-
-#if defined(_MSC_VER) && (_MSC_VER >= 1200)
-#pragma once
-#endif
-
-#include <boost/exception/info.hpp>
-#include <string>
-
-namespace dogen {
-namespace dynamic {
-
-/**
- * @brief An error occurred while trying to acces a field.
- */
-class field_access_error : public virtual std::exception, public virtual boost::exception {
-public:
-    field_access_error() = default;
-    ~field_access_error() noexcept = default;
-
-public:
-    field_access_error(const std::string& message) : message_(message) { }
-
-public:
-    const char* what() const noexcept { return(message_.c_str()); }
-
-private:
-    const std::string message_;
-};
-
-} }
-
-#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/field_access_error_fwd.hpp b/projects/dynamic/include/dogen/dynamic/types/field_access_error_fwd.hpp
deleted file mode 100644
index 781cbfd..0000000
--- a/projects/dynamic/include/dogen/dynamic/types/field_access_error_fwd.hpp
+++ /dev/null
@@ -1,38 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#ifndef DOGEN_DYNAMIC_TYPES_FIELD_ACCESS_ERROR_FWD_HPP
-#define DOGEN_DYNAMIC_TYPES_FIELD_ACCESS_ERROR_FWD_HPP
-
-#if defined(_MSC_VER) && (_MSC_VER >= 1200)
-#pragma once
-#endif
-
-#include <boost/exception/info.hpp>
-#include <string>
-
-namespace dogen {
-namespace dynamic {
-
-class field_access_error;
-
-} }
-
-#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/field_definition_selector.hpp b/projects/dynamic/include/dogen/dynamic/types/field_definition_selector.hpp
new file mode 100644
index 0000000..a1b8e69
--- /dev/null
+++ b/projects/dynamic/include/dogen/dynamic/types/field_definition_selector.hpp
@@ -0,0 +1,89 @@
+/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
+ *
+ * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
+ * MA 02110-1301, USA.
+ *
+ */
+#ifndef DOGEN_DYNAMIC_TYPES_FIELD_DEFINITION_SELECTOR_HPP
+#define DOGEN_DYNAMIC_TYPES_FIELD_DEFINITION_SELECTOR_HPP
+
+#if defined(_MSC_VER) && (_MSC_VER >= 1200)
+#pragma once
+#endif
+
+#include <string>
+#include <forward_list>
+#include <unordered_map>
+#include "dogen/dynamic/types/ownership_hierarchy.hpp"
+#include "dogen/dynamic/hash/ownership_hierarchy_hash.hpp"
+#include "dogen/dynamic/types/field_definition.hpp"
+
+namespace dogen {
+namespace dynamic {
+
+class name_validator;
+
+/**
+ * @brief Performs a number of simple queries over a hierarchically
+ * organised set of field definitions.
+ */
+class field_definition_selector {
+public:
+    /**
+     * @brief Initialise the selector.
+     */
+    explicit field_definition_selector(
+        const std::unordered_map<ownership_hierarchy,
+                           std::forward_list<field_definition> >&
+        field_definitions_by_ownership_hierarchy);
+
+public:
+    /**
+     * @brief Returns all the fields for the supplied model and facet.
+     */
+    std::forward_list<field_definition>
+    select_fields_for_facet(const std::string& model_name,
+        const std::string& facet_name) const;
+
+    /**
+     * @brief Returns all the fields for the supplied model, facet and
+     * formatter.
+     */
+    std::forward_list<field_definition>
+    select_fields_for_facet(const std::string& model_name,
+        const std::string& facet_name, const std::string& formatter_name) const;
+
+    /**
+     * @brief Returns all the fields for the supplied model, facet,
+     * formatter and aspect.
+     */
+    std::forward_list<field_definition>
+    select_fields_for_facet(const std::string& model_name,
+        const std::string& facet_name, const std::string& formatter_name,
+        const std::string& aspect_name) const;
+
+private:
+    const std::unordered_map<dynamic::ownership_hierarchy,
+                             std::forward_list<field_definition>
+                             >
+    field_definitions_by_ownership_hierarchy_;
+    const std::shared_ptr<const name_validator> name_validator_;
+};
+
+} }
+
+#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/field_definition_selector_factory.hpp b/projects/dynamic/include/dogen/dynamic/types/field_definition_selector_factory.hpp
new file mode 100644
index 0000000..89cbaae
--- /dev/null
+++ b/projects/dynamic/include/dogen/dynamic/types/field_definition_selector_factory.hpp
@@ -0,0 +1,50 @@
+/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
+ *
+ * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
+ * MA 02110-1301, USA.
+ *
+ */
+#ifndef DOGEN_DYNAMIC_TYPES_FIELD_DEFINITION_SELECTOR_FACTORY_HPP
+#define DOGEN_DYNAMIC_TYPES_FIELD_DEFINITION_SELECTOR_FACTORY_HPP
+
+#if defined(_MSC_VER) && (_MSC_VER >= 1200)
+#pragma once
+#endif
+
+#include <forward_list>
+#include "dogen/dynamic/types/field_definition.hpp"
+#include "dogen/dynamic/types/field_definition_selector.hpp"
+
+namespace dogen {
+namespace dynamic {
+
+/**
+ * @brief Produces field definition selectors.
+ */
+class field_definition_selector_factory {
+public:
+    /**
+     * @brief Create a field definition selector based on the supplied
+     * field definitions.
+     */
+    field_definition_selector
+    make(const std::forward_list<field_definition>& fds) const;
+};
+
+} }
+
+#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/field_definition_selector_factory_fwd.hpp b/projects/dynamic/include/dogen/dynamic/types/field_definition_selector_factory_fwd.hpp
new file mode 100644
index 0000000..b58e34a
--- /dev/null
+++ b/projects/dynamic/include/dogen/dynamic/types/field_definition_selector_factory_fwd.hpp
@@ -0,0 +1,35 @@
+/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
+ *
+ * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
+ * MA 02110-1301, USA.
+ *
+ */
+#ifndef DOGEN_DYNAMIC_TYPES_FIELD_DEFINITION_SELECTOR_FACTORY_FWD_HPP
+#define DOGEN_DYNAMIC_TYPES_FIELD_DEFINITION_SELECTOR_FACTORY_FWD_HPP
+
+#if defined(_MSC_VER) && (_MSC_VER >= 1200)
+#pragma once
+#endif
+
+namespace dogen {
+namespace dynamic {
+
+class field_definition_selector_factory;
+
+} }
+
+#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/field_definition_selector_fwd.hpp b/projects/dynamic/include/dogen/dynamic/types/field_definition_selector_fwd.hpp
new file mode 100644
index 0000000..a1b0cd0
--- /dev/null
+++ b/projects/dynamic/include/dogen/dynamic/types/field_definition_selector_fwd.hpp
@@ -0,0 +1,35 @@
+/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
+ *
+ * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
+ * MA 02110-1301, USA.
+ *
+ */
+#ifndef DOGEN_DYNAMIC_TYPES_FIELD_DEFINITION_SELECTOR_FWD_HPP
+#define DOGEN_DYNAMIC_TYPES_FIELD_DEFINITION_SELECTOR_FWD_HPP
+
+#if defined(_MSC_VER) && (_MSC_VER >= 1200)
+#pragma once
+#endif
+
+namespace dogen {
+namespace dynamic {
+
+class field_definition_selector;
+
+} }
+
+#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/field_selector.hpp b/projects/dynamic/include/dogen/dynamic/types/field_selector.hpp
new file mode 100644
index 0000000..f29e49e
--- /dev/null
+++ b/projects/dynamic/include/dogen/dynamic/types/field_selector.hpp
@@ -0,0 +1,123 @@
+/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
+ *
+ * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
+ * MA 02110-1301, USA.
+ *
+ */
+#ifndef DOGEN_DYNAMIC_TYPES_FIELD_SELECTOR_HPP
+#define DOGEN_DYNAMIC_TYPES_FIELD_SELECTOR_HPP
+
+#if defined(_MSC_VER) && (_MSC_VER >= 1200)
+#pragma once
+#endif
+
+#include <list>
+#include <string>
+#include "dogen/dynamic/types/field_definition.hpp"
+#include "dogen/dynamic/types/field_instance.hpp"
+#include "dogen/dynamic/types/object.hpp"
+
+namespace dogen {
+namespace dynamic {
+
+/**
+ * @brief Performs a number of simple queries over a dynamic object.
+ */
+class field_selector {
+public:
+    explicit field_selector(const object& o);
+
+public:
+    /**
+     * @brief Returns true if a field exists in an object.
+     */
+    /**@{*/
+    bool has_field(const std::string& qualified_field_name) const;
+    bool has_field(const field_definition& fd) const;
+    /**@}*/
+
+    /**
+     * @brief Returns a field from an object.
+     *
+     * @pre has_field must be true.
+     */
+    /**@{*/
+    const field_instance&
+    get_field(const std::string& qualified_field_name) const;
+    const field_instance& get_field(const field_definition& fd) const;
+    /**@}*/
+
+public:
+    /**
+     * @brief Returns the content for the field, assuming it is a text field.
+     *
+     * @pre Field value type must be text.
+     */
+    static std::string get_text_content(const dogen::dynamic::value& v);
+
+    /**
+     * @brief Returns the content for the field, assuming it is a text field.
+     *
+     * @pre has_field must be true.
+     * @pre Field value type must be text.
+     */
+    /**@{*/
+    std::string get_text_content(const std::string& qualified_field_name) const;
+    std::string get_text_content(const field_definition& fd) const;
+    /**@}*/
+
+    /**
+     * @brief Returns the content for the field, assuming it is a text
+     * collection field.
+     *
+     * @pre has_field must be true.
+     * @pre Field value type must be text collection.
+     */
+    /**@{*/
+    std::list<std::string>
+    get_text_collection_content(const std::string& qualified_field_name) const;
+    std::list<std::string>
+    get_text_collection_content(const field_definition& fd) const;
+    /**@}*/
+
+    /**
+     * @brief Returns the content for the field, assuming it is a boolean
+     * field.
+     *
+     * @pre Field value type must be boolean.
+     */
+    static bool get_boolean_content(const dogen::dynamic::value& v);
+
+    /**
+     * @brief Returns the content for the field, assuming it is a boolean
+     * field.
+     *
+     * @pre has_field must be true.
+     * @pre Field value type must be boolean.
+     */
+    /**@{*/
+    bool get_boolean_content(const std::string& qualified_field_name) const;
+    bool get_boolean_content(const field_definition& fd) const;
+    /**@}*/
+
+private:
+    const object& object_;
+};
+
+} }
+
+#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/field_selector_fwd.hpp b/projects/dynamic/include/dogen/dynamic/types/field_selector_fwd.hpp
new file mode 100644
index 0000000..9c3e5ec
--- /dev/null
+++ b/projects/dynamic/include/dogen/dynamic/types/field_selector_fwd.hpp
@@ -0,0 +1,35 @@
+/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
+ *
+ * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
+ * MA 02110-1301, USA.
+ *
+ */
+#ifndef DOGEN_DYNAMIC_TYPES_FIELD_SELECTOR_FWD_HPP
+#define DOGEN_DYNAMIC_TYPES_FIELD_SELECTOR_FWD_HPP
+
+#if defined(_MSC_VER) && (_MSC_VER >= 1200)
+#pragma once
+#endif
+
+namespace dogen {
+namespace dynamic {
+
+class field_selector;
+
+} }
+
+#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/indexer.hpp b/projects/dynamic/include/dogen/dynamic/types/indexer.hpp
index d25c694..0355472 100644
--- a/projects/dynamic/include/dogen/dynamic/types/indexer.hpp
+++ b/projects/dynamic/include/dogen/dynamic/types/indexer.hpp
@@ -29,6 +29,7 @@
 #include <forward_list>
 #include <unordered_map>
 #include "dogen/dynamic/types/field_definition.hpp"
+#include "dogen/dynamic/hash/ownership_hierarchy_hash.hpp"
 
 namespace dogen {
 namespace dynamic {
@@ -39,33 +40,18 @@ namespace dynamic {
 class indexer {
 public:
     /**
-     * @brief Returns field definitions indexed by facet name.
-     *
-     * @pre Empty unless index has been run.
+     * @brief Indexes field definitions by their ownership hierarchy.
      */
-    const std::unordered_map<std::string, std::forward_list<field_definition> >&
-    field_definitions_by_facet_name() const;
+    std::unordered_map<ownership_hierarchy, std::forward_list<field_definition>>
+    index_by_ownership_hierarchy(
+        const std::forward_list<field_definition>& fds) const;
 
     /**
-     * @brief Returns field definitions indexed by formatter name.
-     *
-     * @pre Empty unless index has been run.
+     * @brief Indexes field definitions by their complete name.
      */
-    const std::unordered_map<std::string, std::forward_list<field_definition> >&
-    field_definitions_by_formatter_name() const;
-
-public:
-    /**
-     * @brief Setup all indices.
-     */
-    void index(const std::forward_list<field_definition>& fds);
-
-private:
-    std::unordered_map<std::string, std::forward_list<field_definition> >
-    field_definitions_by_facet_name_;
-    std::unordered_map<std::string, std::forward_list<field_definition> >
-    field_definitions_by_formatter_name_;
-
+    std::unordered_map<std::string, field_definition>
+    index_by_complete_name(const std::forward_list<field_definition>& fds)
+    const;
 };
 
 } }
diff --git a/projects/dynamic/include/dogen/dynamic/types/object_factory.hpp b/projects/dynamic/include/dogen/dynamic/types/object_factory.hpp
new file mode 100644
index 0000000..15c3b4c
--- /dev/null
+++ b/projects/dynamic/include/dogen/dynamic/types/object_factory.hpp
@@ -0,0 +1,118 @@
+/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
+ *
+ * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
+ * MA 02110-1301, USA.
+ *
+ */
+#ifndef DOGEN_DYNAMIC_TYPES_OBJECT_FACTORY_HPP
+#define DOGEN_DYNAMIC_TYPES_OBJECT_FACTORY_HPP
+
+#if defined(_MSC_VER) && (_MSC_VER >= 1200)
+#pragma once
+#endif
+
+#include <list>
+#include <string>
+#include <utility>
+#include <unordered_map>
+#include <boost/optional.hpp>
+#include "dogen/dynamic/types/object.hpp"
+#include "dogen/dynamic/types/scope_types.hpp"
+#include "dogen/dynamic/types/registrar_fwd.hpp"
+#include "dogen/dynamic/types/field_definition.hpp"
+
+namespace dogen {
+namespace dynamic {
+
+/**
+ * @brief Produces a dynamic object from raw data.
+ */
+class object_factory {
+public:
+    /**
+     * @brief Returns the registrar. If it has not yet been
+     * initialised, initialises it.
+     */
+    static dynamic::registrar& registrar();
+
+public:
+    /**
+     * @brief Initialises the dynamic object_factory.
+     */
+    object_factory();
+
+    /**
+     * @brief Initialises the dynamic object_factory.
+     *
+     * @param missing_field_definitions_are_errors If true, any dynamic
+     * extensions for which a field definition does not exist will
+     * result in an exception. If false, they will be ignored.
+     */
+    explicit object_factory(
+        const bool missing_field_definitions_are_errors);
+
+private:
+    /**
+     * @brief Organises field definitions by complete field name.
+     */
+    std::unordered_map<std::string, field_definition>
+    create_field_definitions_by_complete_name() const;
+
+    /**
+     * @brief Returns the field definition for the complete
+     * name, if one exists.
+     *
+     * @pre Current scope must be valid according to the field
+     * definition's scope.
+     */
+    boost::optional<field_definition>
+    obtain_field_definition(const std::string& complete_name,
+        const scope_types current_scope) const;
+
+private:
+    /**
+     * @brief Aggregate raw data by key.
+     */
+    std::unordered_map<std::string, std::list<std::string> >
+    aggregate_raw_data(const std::list<std::pair<std::string, std::string> >&
+        raw_data) const;
+
+    /**
+     * @brief Converts the raw data into a set of field instances.
+     */
+    std::unordered_map<std::string, field_instance> create_fields(
+        const std::unordered_map<std::string, std::list<std::string> >&
+        aggregated_data, const scope_types current_scope) const;
+
+public:
+    /**
+     * @brief Produces a dynamic object.
+     */
+    object make(const scope_types scope,
+        const std::list<std::pair<std::string, std::string>>&
+        raw_data) const;
+
+private:
+    const bool missing_field_definitions_are_errors_;
+    static std::shared_ptr<dynamic::registrar> registrar_;
+    const std::unordered_map<std::string, field_definition>
+    field_definitions_by_complete_name_;
+};
+
+} }
+
+#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/object_factory_fwd.hpp b/projects/dynamic/include/dogen/dynamic/types/object_factory_fwd.hpp
new file mode 100644
index 0000000..58bdadd
--- /dev/null
+++ b/projects/dynamic/include/dogen/dynamic/types/object_factory_fwd.hpp
@@ -0,0 +1,35 @@
+/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
+ *
+ * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
+ * MA 02110-1301, USA.
+ *
+ */
+#ifndef DOGEN_DYNAMIC_TYPES_OBJECT_FACTORY_FWD_HPP
+#define DOGEN_DYNAMIC_TYPES_OBJECT_FACTORY_FWD_HPP
+
+#if defined(_MSC_VER) && (_MSC_VER >= 1200)
+#pragma once
+#endif
+
+namespace dogen {
+namespace dynamic {
+
+class object_factory;
+
+} }
+
+#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/ownership_hierarchy.hpp b/projects/dynamic/include/dogen/dynamic/types/ownership_hierarchy.hpp
index 171dc3e..ba926cc 100644
--- a/projects/dynamic/include/dogen/dynamic/types/ownership_hierarchy.hpp
+++ b/projects/dynamic/include/dogen/dynamic/types/ownership_hierarchy.hpp
@@ -50,7 +50,8 @@ public:
     ownership_hierarchy(
         const std::string& model_name,
         const std::string& facet_name,
-        const std::string& formatter_name);
+        const std::string& formatter_name,
+        const std::string& aspect_name);
 
 private:
     template<typename Archive>
@@ -90,6 +91,16 @@ public:
     void formatter_name(const std::string&& v);
     /**@}*/
 
+    /**
+     * @brief Name of the aspect that owns this field, if any.
+     */
+    /**@{*/
+    const std::string& aspect_name() const;
+    std::string& aspect_name();
+    void aspect_name(const std::string& v);
+    void aspect_name(const std::string&& v);
+    /**@}*/
+
 public:
     bool operator==(const ownership_hierarchy& rhs) const;
     bool operator!=(const ownership_hierarchy& rhs) const {
@@ -104,6 +115,7 @@ private:
     std::string model_name_;
     std::string facet_name_;
     std::string formatter_name_;
+    std::string aspect_name_;
 };
 
 } }
diff --git a/projects/dynamic/include/dogen/dynamic/types/selection_error.hpp b/projects/dynamic/include/dogen/dynamic/types/selection_error.hpp
new file mode 100644
index 0000000..44972ac
--- /dev/null
+++ b/projects/dynamic/include/dogen/dynamic/types/selection_error.hpp
@@ -0,0 +1,54 @@
+/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
+ *
+ * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
+ * MA 02110-1301, USA.
+ *
+ */
+#ifndef DOGEN_DYNAMIC_TYPES_SELECTION_ERROR_HPP
+#define DOGEN_DYNAMIC_TYPES_SELECTION_ERROR_HPP
+
+#if defined(_MSC_VER) && (_MSC_VER >= 1200)
+#pragma once
+#endif
+
+#include <boost/exception/info.hpp>
+#include <string>
+
+namespace dogen {
+namespace dynamic {
+
+/**
+ * @brief An error occurred when attempting to select.
+ */
+class selection_error : public virtual std::exception, public virtual boost::exception {
+public:
+    selection_error() = default;
+    ~selection_error() noexcept = default;
+
+public:
+    selection_error(const std::string& message) : message_(message) { }
+
+public:
+    const char* what() const noexcept { return(message_.c_str()); }
+
+private:
+    const std::string message_;
+};
+
+} }
+
+#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/selection_error_fwd.hpp b/projects/dynamic/include/dogen/dynamic/types/selection_error_fwd.hpp
new file mode 100644
index 0000000..e33ff52
--- /dev/null
+++ b/projects/dynamic/include/dogen/dynamic/types/selection_error_fwd.hpp
@@ -0,0 +1,38 @@
+/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
+ *
+ * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
+ * MA 02110-1301, USA.
+ *
+ */
+#ifndef DOGEN_DYNAMIC_TYPES_SELECTION_ERROR_FWD_HPP
+#define DOGEN_DYNAMIC_TYPES_SELECTION_ERROR_FWD_HPP
+
+#if defined(_MSC_VER) && (_MSC_VER >= 1200)
+#pragma once
+#endif
+
+#include <boost/exception/info.hpp>
+#include <string>
+
+namespace dogen {
+namespace dynamic {
+
+class selection_error;
+
+} }
+
+#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/workflow.hpp b/projects/dynamic/include/dogen/dynamic/types/workflow.hpp
deleted file mode 100644
index a32b232..0000000
--- a/projects/dynamic/include/dogen/dynamic/types/workflow.hpp
+++ /dev/null
@@ -1,113 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#ifndef DOGEN_DYNAMIC_TYPES_WORKFLOW_HPP
-#define DOGEN_DYNAMIC_TYPES_WORKFLOW_HPP
-
-#if defined(_MSC_VER) && (_MSC_VER >= 1200)
-#pragma once
-#endif
-
-#include <list>
-#include <string>
-#include <utility>
-#include <unordered_map>
-#include <boost/optional.hpp>
-#include "dogen/dynamic/types/object.hpp"
-#include "dogen/dynamic/types/registrar.hpp"
-#include "dogen/dynamic/types/scope_types.hpp"
-#include "dogen/dynamic/types/field_definition.hpp"
-
-namespace dogen {
-namespace dynamic {
-
-/**
- * @brief Produces a dynamic object from raw data.
- */
-class workflow {
-public:
-    /**
-     * @brief Returns the registrar. If it has not yet been
-     * initialised, initialises it.
-     */
-    static dynamic::registrar& registrar();
-
-public:
-    /**
-     * @brief Initialise the dynamic workflow.
-     *
-     * @param throw_on_missing_field_definition If true, any dynamic
-     * extensions for which a field definition does not exist will
-     * result in an exception. If false, they will be ignored.
-     */
-    explicit workflow(const bool throw_on_missing_field_definition = true);
-
-private:
-    /**
-     * @brief Organises field definitions by complete field name.
-     */
-    std::unordered_map<std::string, field_definition>
-    create_field_definitions_by_complete_name() const;
-
-    /**
-     * @brief Returns the field definition for the complete
-     * name, if one exists.
-     *
-     * @pre Current scope must be valid according to the field
-     * definition's scope.
-     */
-    boost::optional<field_definition>
-    obtain_field_definition(const std::string& complete_name,
-        const scope_types current_scope) const;
-
-private:
-    /**
-     * @brief Aggregate raw data by key.
-     */
-    std::unordered_map<std::string, std::list<std::string> >
-    aggregate_raw_data_activity(
-        const std::list<std::pair<std::string, std::string> >&
-        raw_data) const;
-
-    /**
-     * @brief Converts the raw data into a set of field instances.
-     */
-    std::unordered_map<std::string, field_instance> create_fields_activity(
-        const std::unordered_map<std::string, std::list<std::string> >&
-        aggregated_data, const scope_types current_scope) const;
-
-public:
-    /**
-     * @brief Produce a dynamic object.
-     */
-    object execute(const scope_types scope,
-        const std::list<std::pair<std::string, std::string>>&
-        raw_data) const;
-
-private:
-    const bool throw_on_missing_field_definition_;
-    static std::shared_ptr<dynamic::registrar> registrar_;
-    const std::unordered_map<std::string, field_definition>
-    field_definitions_by_complete_name_;
-};
-
-} }
-
-#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/workflow_error.hpp b/projects/dynamic/include/dogen/dynamic/types/workflow_error.hpp
deleted file mode 100644
index 39345f1..0000000
--- a/projects/dynamic/include/dogen/dynamic/types/workflow_error.hpp
+++ /dev/null
@@ -1,54 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#ifndef DOGEN_DYNAMIC_TYPES_WORKFLOW_ERROR_HPP
-#define DOGEN_DYNAMIC_TYPES_WORKFLOW_ERROR_HPP
-
-#if defined(_MSC_VER) && (_MSC_VER >= 1200)
-#pragma once
-#endif
-
-#include <boost/exception/info.hpp>
-#include <string>
-
-namespace dogen {
-namespace dynamic {
-
-/**
- * @brief An error occurred while the workflow was executing.
- */
-class workflow_error : public virtual std::exception, public virtual boost::exception {
-public:
-    workflow_error() = default;
-    ~workflow_error() noexcept = default;
-
-public:
-    workflow_error(const std::string& message) : message_(message) { }
-
-public:
-    const char* what() const noexcept { return(message_.c_str()); }
-
-private:
-    const std::string message_;
-};
-
-} }
-
-#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/workflow_error_fwd.hpp b/projects/dynamic/include/dogen/dynamic/types/workflow_error_fwd.hpp
deleted file mode 100644
index c88256f..0000000
--- a/projects/dynamic/include/dogen/dynamic/types/workflow_error_fwd.hpp
+++ /dev/null
@@ -1,38 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#ifndef DOGEN_DYNAMIC_TYPES_WORKFLOW_ERROR_FWD_HPP
-#define DOGEN_DYNAMIC_TYPES_WORKFLOW_ERROR_FWD_HPP
-
-#if defined(_MSC_VER) && (_MSC_VER >= 1200)
-#pragma once
-#endif
-
-#include <boost/exception/info.hpp>
-#include <string>
-
-namespace dogen {
-namespace dynamic {
-
-class workflow_error;
-
-} }
-
-#endif
diff --git a/projects/dynamic/include/dogen/dynamic/types/workflow_fwd.hpp b/projects/dynamic/include/dogen/dynamic/types/workflow_fwd.hpp
deleted file mode 100644
index bcd67f0..0000000
--- a/projects/dynamic/include/dogen/dynamic/types/workflow_fwd.hpp
+++ /dev/null
@@ -1,35 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#ifndef DOGEN_DYNAMIC_TYPES_WORKFLOW_FWD_HPP
-#define DOGEN_DYNAMIC_TYPES_WORKFLOW_FWD_HPP
-
-#if defined(_MSC_VER) && (_MSC_VER >= 1200)
-#pragma once
-#endif
-
-namespace dogen {
-namespace dynamic {
-
-class workflow;
-
-} }
-
-#endif
diff --git a/projects/dynamic/src/hash/ownership_hierarchy_hash.cpp b/projects/dynamic/src/hash/ownership_hierarchy_hash.cpp
index eec3083..ec377a4 100644
--- a/projects/dynamic/src/hash/ownership_hierarchy_hash.cpp
+++ b/projects/dynamic/src/hash/ownership_hierarchy_hash.cpp
@@ -40,6 +40,7 @@ std::size_t ownership_hierarchy_hasher::hash(const ownership_hierarchy&v) {
     combine(seed, v.model_name());
     combine(seed, v.facet_name());
     combine(seed, v.formatter_name());
+    combine(seed, v.aspect_name());
 
     return seed;
 }
diff --git a/projects/dynamic/src/io/ownership_hierarchy_io.cpp b/projects/dynamic/src/io/ownership_hierarchy_io.cpp
index 593376a..f838b48 100644
--- a/projects/dynamic/src/io/ownership_hierarchy_io.cpp
+++ b/projects/dynamic/src/io/ownership_hierarchy_io.cpp
@@ -38,7 +38,8 @@ std::ostream& operator<<(std::ostream& s, const ownership_hierarchy& v) {
       << "\"__type__\": " << "\"dogen::dynamic::ownership_hierarchy\"" << ", "
       << "\"model_name\": " << "\"" << tidy_up_string(v.model_name()) << "\"" << ", "
       << "\"facet_name\": " << "\"" << tidy_up_string(v.facet_name()) << "\"" << ", "
-      << "\"formatter_name\": " << "\"" << tidy_up_string(v.formatter_name()) << "\""
+      << "\"formatter_name\": " << "\"" << tidy_up_string(v.formatter_name()) << "\"" << ", "
+      << "\"aspect_name\": " << "\"" << tidy_up_string(v.aspect_name()) << "\""
       << " }";
     return(s);
 }
diff --git a/projects/dynamic/src/serialization/ownership_hierarchy_ser.cpp b/projects/dynamic/src/serialization/ownership_hierarchy_ser.cpp
index 89eaec4..3bd435e 100644
--- a/projects/dynamic/src/serialization/ownership_hierarchy_ser.cpp
+++ b/projects/dynamic/src/serialization/ownership_hierarchy_ser.cpp
@@ -41,6 +41,7 @@ void save(Archive& ar,
     ar << make_nvp("model_name", v.model_name_);
     ar << make_nvp("facet_name", v.facet_name_);
     ar << make_nvp("formatter_name", v.formatter_name_);
+    ar << make_nvp("aspect_name", v.aspect_name_);
 }
 
 template<typename Archive>
@@ -50,6 +51,7 @@ void load(Archive& ar,
     ar >> make_nvp("model_name", v.model_name_);
     ar >> make_nvp("facet_name", v.facet_name_);
     ar >> make_nvp("formatter_name", v.formatter_name_);
+    ar >> make_nvp("aspect_name", v.aspect_name_);
 }
 
 } }
diff --git a/projects/dynamic/src/test_data/ownership_hierarchy_td.cpp b/projects/dynamic/src/test_data/ownership_hierarchy_td.cpp
index 10e5fc7..8a6b3a8 100644
--- a/projects/dynamic/src/test_data/ownership_hierarchy_td.cpp
+++ b/projects/dynamic/src/test_data/ownership_hierarchy_td.cpp
@@ -41,6 +41,7 @@ populate(const unsigned int position, result_type& v) {
     v.model_name(create_std_string(position + 0));
     v.facet_name(create_std_string(position + 1));
     v.formatter_name(create_std_string(position + 2));
+    v.aspect_name(create_std_string(position + 3));
 }
 
 ownership_hierarchy_generator::result_type
diff --git a/projects/dynamic/src/types/content_extensions.cpp b/projects/dynamic/src/types/content_extensions.cpp
deleted file mode 100644
index b9e8faa..0000000
--- a/projects/dynamic/src/types/content_extensions.cpp
+++ /dev/null
@@ -1,147 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#include <string>
-#include <boost/throw_exception.hpp>
-#include "dogen/utility/log/logger.hpp"
-#include "dogen/dynamic/types/text.hpp"
-#include "dogen/dynamic/types/boolean.hpp"
-#include "dogen/dynamic/types/text_collection.hpp"
-#include "dogen/dynamic/types/field_access_error.hpp"
-#include "dogen/dynamic/types/content_extensions.hpp"
-
-namespace {
-
-using namespace dogen::utility::log;
-auto lg(logger_factory("dynamic.content_extensions.cpp"));
-
-const std::string field_not_found("Field not found: ");
-const std::string unexpected_value_type("Unexpected value type.");
-const std::string field("Field: ");
-const std::string not_boolean_field("Field does not have boolean content: ");
-const std::string not_text_field("Field does not have text content: ");
-const std::string unexpected_field_type("Field has an unexpected type: ");
-typedef boost::error_info<struct tag_errmsg, std::string> extension_error_info;
-
-}
-
-namespace dogen {
-namespace dynamic {
-
-bool has_field(const object& o, const std::string& k) {
-    const auto i(o.fields().find(k));
-    return (i != o.fields().end());
-}
-
-bool has_field(const object& o, const field_definition& fd) {
-    return has_field(o, fd.name().qualified());
-}
-
-const field_instance& get_field(const object& o, const std::string& k) {
-    const auto i(o.fields().find(k));
-
-    if (i == o.fields().end()) {
-        BOOST_LOG_SEV(lg, error) << field_not_found << k;
-        BOOST_THROW_EXCEPTION(field_access_error(field_not_found + k));
-    }
-
-    return i->second;
-}
-
-const field_instance& get_field(const object& o, const field_definition& fd) {
-    return get_field(o, fd.name().qualified());
-}
-
-std::string get_text_content(const dogen::dynamic::value& v) {
-    try {
-        const auto& b(dynamic_cast<const text&>(v));
-        return b.content();
-    } catch(const std::bad_cast& e) {
-        BOOST_LOG_SEV(lg, error) << unexpected_value_type;
-        BOOST_THROW_EXCEPTION(field_access_error(unexpected_value_type));
-    }
-}
-
-std::string
-get_text_content(const object& o, const std::string& k) {
-    const auto& f(get_field(o, k));
-    const auto& v(*f.value());
-
-    try {
-        return get_text_content(v);
-    } catch(boost::exception& e) {
-        BOOST_LOG_SEV(lg, error) << not_text_field << k;
-        e << extension_error_info(field + k);
-        throw;
-    }
-}
-
-std::string
-get_text_content(const object& o, const field_definition& fd) {
-    return get_text_content(o, fd.name().qualified());
-}
-
-std::list<std::string>
-get_text_collection_content(const object& o, const std::string& k) {
-    const auto& f(get_field(o, k));
-    const auto& v(*f.value());
-
-    try {
-        const auto& tc(dynamic_cast<const text_collection&>(v));
-        return tc.content();
-    } catch(const std::bad_cast& e) {
-        BOOST_LOG_SEV(lg, error) << unexpected_field_type << k;
-        BOOST_THROW_EXCEPTION(field_access_error(unexpected_field_type + k));
-    }
-}
-
-std::list<std::string>
-get_text_collection_content(const object& o, const field_definition& fd) {
-    return get_text_collection_content(o, fd.name().qualified());
-}
-
-bool get_boolean_content(const dogen::dynamic::value& v) {
-    try {
-        const auto& b(dynamic_cast<const boolean&>(v));
-        return b.content();
-    } catch(const std::bad_cast& e) {
-        BOOST_LOG_SEV(lg, error) << unexpected_value_type;
-        BOOST_THROW_EXCEPTION(field_access_error(unexpected_value_type));
-    }
-}
-
-bool get_boolean_content(const object& o, const std::string& k) {
-    const auto& f(get_field(o, k));
-    const auto& v(*f.value());
-    try {
-        return get_boolean_content(v);
-    } catch(boost::exception& e) {
-        BOOST_LOG_SEV(lg, error) << not_boolean_field << k;
-        e << extension_error_info(field + k);
-        throw;
-    }
-}
-
-
-bool get_boolean_content(const object& o, const field_definition& fd) {
-    return get_boolean_content(o, fd.name().qualified());
-}
-
-} }
diff --git a/projects/dynamic/src/types/field_definition_selector.cpp b/projects/dynamic/src/types/field_definition_selector.cpp
new file mode 100644
index 0000000..1ce8a1a
--- /dev/null
+++ b/projects/dynamic/src/types/field_definition_selector.cpp
@@ -0,0 +1,110 @@
+/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
+ *
+ * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
+ * MA 02110-1301, USA.
+ *
+ */
+#include <unordered_set>
+#include "dogen/dynamic/types/selection_error.hpp"
+#include "dogen/dynamic/types/field_definition_selector.hpp"
+
+namespace dogen {
+namespace dynamic {
+
+/**
+ * @brief Ensures the supplied names are valid according to the field
+ * definitions.
+ */
+class name_validator {
+public:
+    /**
+     * @brief Initialises the validator.
+     */
+    explicit name_validator(
+        const std::unordered_map<ownership_hierarchy,
+                                 std::forward_list<field_definition> >&
+        field_definitions_by_ownership_hierarchy);
+
+public:
+    /**
+     * @brief If the supplied model name is not valid, throws.
+     */
+    void validate(const std::string& model_name) const;
+
+    /**
+     * @brief If the supplied model name is not valid, throws.
+     */
+    void validate(const std::string& model_name) const;
+
+
+private:
+    std::unordered_set<std::string> model_names_;
+    std::unordered_set<std::string> facet_names_;
+    std::unordered_set<std::string> formatter_names_;
+    std::unordered_set<std::string> aspect_names_;
+};
+
+/**
+ * @brief Performs a number of simple queries over a hierarchically
+ * organised set of field definitions.
+ */
+class field_definition_selector {
+public:
+    /**
+     * @brief Initialise the selector.
+     */
+    explicit field_definition_selector(
+        const std::unordered_map<ownership_hierarchy,
+                           std::forward_list<field_definition> >&
+        field_definitions_by_ownership_hierarchy);
+
+public:
+    /**
+     * @brief Returns all the fields for the supplied model and facet.
+     */
+    std::forward_list<field_definition>
+    select_fields_for_facet(const std::string& model_name,
+        const std::string& facet_name) const;
+
+    /**
+     * @brief Returns all the fields for the supplied model, facet and
+     * formatter.
+     */
+    std::forward_list<field_definition>
+    select_fields_for_facet(const std::string& model_name,
+        const std::string& facet_name, const std::string& formatter_name) const;
+
+    /**
+     * @brief Returns all the fields for the supplied model, facet,
+     * formatter and aspect.
+     */
+    std::forward_list<field_definition>
+    select_fields_for_facet(const std::string& model_name,
+        const std::string& facet_name, const std::string& formatter_name,
+        const std::string& aspect_name) const;
+
+private:
+    const std::unordered_map<dynamic::ownership_hierarchy,
+                             std::forward_list<field_definition>
+                             >
+    field_definitions_by_ownership_hierarchy_;
+    const std::shared_ptr<const name_validator> name_validator_;
+};
+
+} }
+
+#endif
diff --git a/projects/dynamic/src/types/field_definition_selector_factory.cpp b/projects/dynamic/src/types/field_definition_selector_factory.cpp
new file mode 100644
index 0000000..f448692
--- /dev/null
+++ b/projects/dynamic/src/types/field_definition_selector_factory.cpp
@@ -0,0 +1,33 @@
+/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
+ *
+ * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
+ * MA 02110-1301, USA.
+ *
+ */
+#include "dogen/dynamic/types/indexer.hpp"
+#include "dogen/dynamic/types/field_definition_selector_factory.hpp"
+
+namespace dogen {
+namespace dynamic {
+
+field_definition_selector field_definition_selector_factory::
+make(const std::forward_list<field_definition>& fds) const {
+    indexer idx;
+    return field_definition_selector(idx.index_by_ownership_hierarchy(fds));
+}
+
+} }
diff --git a/projects/dynamic/src/types/field_selector.cpp b/projects/dynamic/src/types/field_selector.cpp
new file mode 100644
index 0000000..f17952a
--- /dev/null
+++ b/projects/dynamic/src/types/field_selector.cpp
@@ -0,0 +1,151 @@
+/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
+ *
+ * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
+ * MA 02110-1301, USA.
+ *
+ */
+#include <string>
+#include <boost/throw_exception.hpp>
+#include "dogen/utility/log/logger.hpp"
+#include "dogen/dynamic/types/text.hpp"
+#include "dogen/dynamic/types/boolean.hpp"
+#include "dogen/dynamic/types/text_collection.hpp"
+#include "dogen/dynamic/types/selection_error.hpp"
+#include "dogen/dynamic/types/field_selector.hpp"
+
+namespace {
+
+using namespace dogen::utility::log;
+auto lg(logger_factory("dynamic.content_extensions"));
+
+const std::string field_not_found("Field not found: ");
+const std::string unexpected_value_type("Unexpected value type.");
+const std::string field("Field: ");
+const std::string not_boolean_field("Field does not have boolean content: ");
+const std::string not_text_field("Field does not have text content: ");
+const std::string unexpected_field_type("Field has an unexpected type: ");
+typedef boost::error_info<struct tag_errmsg, std::string> extension_error_info;
+
+}
+
+namespace dogen {
+namespace dynamic {
+
+bool field_selector::has_field(const std::string& qualified_field_name) const {
+    const auto i(object_.fields().find(qualified_field_name));
+    return (i != object_.fields().end());
+}
+
+bool field_selector::has_field(const field_definition& fd) const {
+    return has_field(fd.name().qualified());
+}
+
+const field_instance& field_selector::
+get_field(const std::string& qualified_field_name) const {
+    const auto i(object_.fields().find(qualified_field_name));
+
+    if (i == object_.fields().end()) {
+        BOOST_LOG_SEV(lg, error) << field_not_found << qualified_field_name;
+        BOOST_THROW_EXCEPTION(selection_error(field_not_found
+                + qualified_field_name));
+    }
+
+    return i->second;
+}
+
+const field_instance& field_selector::
+get_field(const field_definition& fd) const {
+    return get_field(fd.name().qualified());
+}
+
+std::string field_selector::get_text_content(const dogen::dynamic::value& v) {
+    try {
+        const auto& b(dynamic_cast<const text&>(v));
+        return b.content();
+    } catch(const std::bad_cast& e) {
+        BOOST_LOG_SEV(lg, error) << unexpected_value_type;
+        BOOST_THROW_EXCEPTION(selection_error(unexpected_value_type));
+    }
+}
+
+std::string field_selector::
+get_text_content(const std::string& qualified_field_name) const {
+    const auto& f(get_field(qualified_field_name));
+    const auto& v(*f.value());
+
+    try {
+        return get_text_content(v);
+    } catch(boost::exception& e) {
+        BOOST_LOG_SEV(lg, error) << not_text_field << qualified_field_name;
+        e << extension_error_info(field + qualified_field_name);
+        throw;
+    }
+}
+
+std::string field_selector::get_text_content(const field_definition& fd) const {
+    return get_text_content(fd.name().qualified());
+}
+
+std::list<std::string> field_selector::
+get_text_collection_content(const std::string& qualified_field_name) const {
+    const auto& f(get_field(qualified_field_name));
+    const auto& v(*f.value());
+
+    try {
+        const auto& tc(dynamic_cast<const text_collection&>(v));
+        return tc.content();
+    } catch(const std::bad_cast& e) {
+        BOOST_LOG_SEV(lg, error) << unexpected_field_type
+                                 << qualified_field_name;
+        BOOST_THROW_EXCEPTION(selection_error(unexpected_field_type +
+                qualified_field_name));
+    }
+}
+
+std::list<std::string> field_selector::
+get_text_collection_content(const field_definition& fd) const {
+    return get_text_collection_content(fd.name().qualified());
+}
+
+bool field_selector::get_boolean_content(const dogen::dynamic::value& v) {
+    try {
+        const auto& b(dynamic_cast<const boolean&>(v));
+        return b.content();
+    } catch(const std::bad_cast& e) {
+        BOOST_LOG_SEV(lg, error) << unexpected_value_type;
+        BOOST_THROW_EXCEPTION(selection_error(unexpected_value_type));
+    }
+}
+
+bool field_selector::
+get_boolean_content(const std::string& qualified_field_name) const {
+    const auto& f(get_field(qualified_field_name));
+    const auto& v(*f.value());
+    try {
+        return get_boolean_content(v);
+    } catch(boost::exception& e) {
+        BOOST_LOG_SEV(lg, error) << not_boolean_field << qualified_field_name;
+        e << extension_error_info(field + qualified_field_name);
+        throw;
+    }
+}
+
+bool field_selector::get_boolean_content(const field_definition& fd) const {
+    return get_boolean_content(fd.name().qualified());
+}
+
+} }
diff --git a/projects/dynamic/src/types/indexer.cpp b/projects/dynamic/src/types/indexer.cpp
index 1230000..a7ddb1d 100644
--- a/projects/dynamic/src/types/indexer.cpp
+++ b/projects/dynamic/src/types/indexer.cpp
@@ -22,6 +22,8 @@
 #include "dogen/utility/io/forward_list_io.hpp"
 #include "dogen/utility/io/unordered_map_io.hpp"
 #include "dogen/dynamic/io/field_definition_io.hpp"
+#include "dogen/dynamic/io/ownership_hierarchy_io.hpp"
+#include "dogen/dynamic/types/indexing_error.hpp"
 #include "dogen/dynamic/types/indexer.hpp"
 
 namespace {
@@ -29,50 +31,52 @@ namespace {
 using namespace dogen::utility::log;
 static logger lg(logger_factory("dynamic.indexer"));
 
+const std::string duplicate_field_definition(
+    "Field definition already inserted: ");
+
+
 }
 
 namespace dogen {
 namespace dynamic {
 
-const std::unordered_map<std::string, std::forward_list<field_definition> >&
-indexer::field_definitions_by_facet_name() const {
-    return field_definitions_by_facet_name_;
-}
+std::unordered_map<ownership_hierarchy, std::forward_list<field_definition> >
+indexer::index_by_ownership_hierarchy(
+    const std::forward_list<field_definition>& fds) const {
+    BOOST_LOG_SEV(lg, debug) << "Indexing field definitions.";
+
+    std::unordered_map<ownership_hierarchy,
+                       std::forward_list<field_definition> > r;
+
+    for (const auto& fd : fds)
+        r[fd.ownership_hierarchy()].push_front(fd);
 
-const std::unordered_map<std::string, std::forward_list<field_definition> >&
-indexer::field_definitions_by_formatter_name() const {
-    return field_definitions_by_formatter_name_;
+    BOOST_LOG_SEV(lg, debug) << "Field definitions by ownership hierarchy: "
+                             << r;
+    BOOST_LOG_SEV(lg, debug) << "Indexed field definitions.";
+    return r;
 }
 
-void indexer::index(const std::forward_list<field_definition>& fds) {
+std::unordered_map<std::string, field_definition> indexer::
+index_by_complete_name(const std::forward_list<field_definition>& fds) const {
     BOOST_LOG_SEV(lg, debug) << "Indexing field definitions.";
-    for (const auto& fd : fds) {
-        const auto oh(fd.ownership_hierarchy());
-
-        const auto fmt(oh.formatter_name());
-        if (!fmt.empty()) {
-            field_definitions_by_formatter_name_[fmt].push_front(fd);
-            // fields that have a formatter cannot be in the facet
-            // container too.
-            continue;
-        }
 
-        BOOST_LOG_SEV(lg, debug) << "Field has no formatter: "
-                                 << fd.name().qualified();
+    std::unordered_map<std::string, field_definition> r;
 
-        const auto fct(oh.facet_name());
-        if (!fct.empty())
-            field_definitions_by_facet_name_[fct].push_front(fd);
-        else {
-            BOOST_LOG_SEV(lg, debug) << "Field has no facet: "
-                                     << fd.name().qualified();
+    for (const auto& fd : fds) {
+        const auto qn(fd.name().qualified());
+        const auto result(r.insert(std::make_pair(qn, fd)));
+        if (!result.second) {
+            BOOST_LOG_SEV(lg, error) << duplicate_field_definition << qn;
+            BOOST_THROW_EXCEPTION(indexing_error(
+                    duplicate_field_definition + qn));
         }
     }
+
+    BOOST_LOG_SEV(lg, debug) << "Field definitions by complete name: "
+                             << r;
     BOOST_LOG_SEV(lg, debug) << "Indexed field definitions.";
-    BOOST_LOG_SEV(lg, debug) << "Field definitions by facet name: "
-                             << field_definitions_by_facet_name_;
-    BOOST_LOG_SEV(lg, debug) << "Field definitions by formatter name: "
-                             << field_definitions_by_formatter_name_;
+    return r;
 }
 
 } }
diff --git a/projects/dynamic/src/types/object_factory.cpp b/projects/dynamic/src/types/object_factory.cpp
new file mode 100644
index 0000000..d342d2e
--- /dev/null
+++ b/projects/dynamic/src/types/object_factory.cpp
@@ -0,0 +1,147 @@
+/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
+ *
+ * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
+ * MA 02110-1301, USA.
+ *
+ */
+#include <sstream>
+#include <boost/lexical_cast.hpp>
+#include <boost/throw_exception.hpp>
+#include "dogen/utility/log/logger.hpp"
+#include "dogen/dynamic/types/registrar.hpp"
+#include "dogen/dynamic/io/scope_types_io.hpp"
+#include "dogen/dynamic/types/field_instance_factory.hpp"
+#include "dogen/dynamic/types/building_error.hpp"
+#include "dogen/dynamic/types/indexer.hpp"
+#include "dogen/dynamic/types/object_factory.hpp"
+
+namespace {
+
+using namespace dogen::utility::log;
+static logger lg(logger_factory("dynamic.object_factory"));
+
+const std::string expected_scope(" Expected scope: ");
+const std::string actual_scope(" Actual scope: ");
+const std::string field_definition_not_found(
+    "Field definition not found: ");
+const std::string field_used_in_invalid_scope(
+    "Field used in invalid scope: ");
+
+}
+
+namespace dogen {
+namespace dynamic {
+
+std::shared_ptr<registrar> object_factory::registrar_;
+
+dynamic::registrar& object_factory::registrar() {
+    if (!registrar_)
+        registrar_ = std::make_shared<dynamic::registrar>();
+
+    return *registrar_;
+}
+
+object_factory::object_factory()
+    : missing_field_definitions_are_errors_(true) { }
+
+object_factory::object_factory(const bool missing_field_definitions_are_errors)
+    : missing_field_definitions_are_errors_(
+        missing_field_definitions_are_errors),
+      field_definitions_by_complete_name_(
+          create_field_definitions_by_complete_name()) { }
+
+std::unordered_map<std::string, field_definition> object_factory::
+create_field_definitions_by_complete_name() const {
+    registrar().validate();
+    indexer idx;
+    return idx.index_by_complete_name(registrar().field_definitions());
+}
+
+boost::optional<field_definition> object_factory::
+obtain_field_definition(const std::string& complete_name,
+    const scope_types current_scope) const {
+
+    const auto i(field_definitions_by_complete_name_.find(complete_name));
+    if (i == field_definitions_by_complete_name_.end()) {
+        if (missing_field_definitions_are_errors_) {
+            BOOST_LOG_SEV(lg, error) << field_definition_not_found
+                                     << complete_name;
+
+            BOOST_THROW_EXCEPTION(building_error(
+                    field_definition_not_found + complete_name));
+            return boost::optional<field_definition>();
+        }
+
+        BOOST_LOG_SEV(lg, warn) << field_definition_not_found << complete_name;
+        return boost::optional<field_definition>();
+    }
+
+    const auto& fd(i->second);
+    if (fd.scope() != scope_types::any &&
+        fd.scope() != scope_types::not_applicable &&
+        fd.scope() != current_scope) {
+
+        std::stringstream s;
+        s << field_used_in_invalid_scope << complete_name
+          << expected_scope << fd.scope()
+          << actual_scope << current_scope;
+        BOOST_LOG_SEV(lg, error) << s.str();
+        BOOST_THROW_EXCEPTION(building_error(s.str()));
+    }
+
+    return boost::optional<field_definition>(fd);
+}
+
+std::unordered_map<std::string, std::list<std::string> >
+object_factory::aggregate_raw_data(
+    const std::list<std::pair<std::string, std::string> >&
+    raw_data) const {
+    std::unordered_map<std::string, std::list<std::string> > r;
+
+    for (const auto& rd : raw_data)
+        r[rd.first].push_front(rd.second);
+
+    return r;
+}
+
+std::unordered_map<std::string, field_instance>
+object_factory::create_fields(
+    const std::unordered_map<std::string, std::list<std::string> >&
+    aggregated_data, const scope_types current_scope) const {
+    std::unordered_map<std::string, field_instance> r;
+    field_instance_factory f;
+    for (auto pair : aggregated_data) {
+        const auto& complete_name(pair.first);
+        const auto fd(obtain_field_definition(complete_name, current_scope));
+        if (!fd)
+            continue;
+
+        const auto& values(pair.second);
+        r[complete_name] = f.make(*fd, values);
+    }
+    return r;
+}
+
+object object_factory::make(const scope_types current_scope,
+    const std::list<std::pair<std::string, std::string>>&
+    raw_data) const {
+    auto aggregated_raw_data(aggregate_raw_data(raw_data));
+    auto fields(create_fields(aggregated_raw_data, current_scope));
+    return object(fields);
+}
+
+} }
diff --git a/projects/dynamic/src/types/ownership_hierarchy.cpp b/projects/dynamic/src/types/ownership_hierarchy.cpp
index ad78cc9..ddace61 100644
--- a/projects/dynamic/src/types/ownership_hierarchy.cpp
+++ b/projects/dynamic/src/types/ownership_hierarchy.cpp
@@ -26,22 +26,26 @@ namespace dynamic {
 ownership_hierarchy::ownership_hierarchy(
     const std::string& model_name,
     const std::string& facet_name,
-    const std::string& formatter_name)
+    const std::string& formatter_name,
+    const std::string& aspect_name)
     : model_name_(model_name),
       facet_name_(facet_name),
-      formatter_name_(formatter_name) { }
+      formatter_name_(formatter_name),
+      aspect_name_(aspect_name) { }
 
 void ownership_hierarchy::swap(ownership_hierarchy& other) noexcept {
     using std::swap;
     swap(model_name_, other.model_name_);
     swap(facet_name_, other.facet_name_);
     swap(formatter_name_, other.formatter_name_);
+    swap(aspect_name_, other.aspect_name_);
 }
 
 bool ownership_hierarchy::operator==(const ownership_hierarchy& rhs) const {
     return model_name_ == rhs.model_name_ &&
         facet_name_ == rhs.facet_name_ &&
-        formatter_name_ == rhs.formatter_name_;
+        formatter_name_ == rhs.formatter_name_ &&
+        aspect_name_ == rhs.aspect_name_;
 }
 
 ownership_hierarchy& ownership_hierarchy::operator=(ownership_hierarchy other) {
@@ -98,4 +102,20 @@ void ownership_hierarchy::formatter_name(const std::string&& v) {
     formatter_name_ = std::move(v);
 }
 
+const std::string& ownership_hierarchy::aspect_name() const {
+    return aspect_name_;
+}
+
+std::string& ownership_hierarchy::aspect_name() {
+    return aspect_name_;
+}
+
+void ownership_hierarchy::aspect_name(const std::string& v) {
+    aspect_name_ = v;
+}
+
+void ownership_hierarchy::aspect_name(const std::string&& v) {
+    aspect_name_ = std::move(v);
+}
+
 } }
\ No newline at end of file
diff --git a/projects/dynamic/src/types/registrar.cpp b/projects/dynamic/src/types/registrar.cpp
index 1c8c7cc..431dcee 100644
--- a/projects/dynamic/src/types/registrar.cpp
+++ b/projects/dynamic/src/types/registrar.cpp
@@ -21,6 +21,8 @@
 #include <iterator>
 #include <boost/throw_exception.hpp>
 #include "dogen/utility/log/logger.hpp"
+#include "dogen/utility/io/forward_list_io.hpp"
+#include "dogen/dynamic/io/field_definition_io.hpp"
 #include "dogen/dynamic/types/registrar_error.hpp"
 #include "dogen/dynamic/types/registrar.hpp"
 
@@ -44,6 +46,7 @@ void registrar::validate() const {
     BOOST_LOG_SEV(lg, debug) << "Total field definitions found: "
                              << std::distance(field_definitions_.begin(),
                                  field_definitions_.end());
+    BOOST_LOG_SEV(lg, debug) << "Field definitions: " << field_definitions_;
     BOOST_LOG_SEV(lg, debug) << "Registrar is in a valid state.";
 }
 
@@ -57,7 +60,6 @@ void registrar::register_field_definitions(
         field_definitions_.push_front(fd);
 }
 
-
 const std::forward_list<field_definition>&
 registrar::field_definitions() const {
     return field_definitions_;
diff --git a/projects/dynamic/src/types/workflow.cpp b/projects/dynamic/src/types/workflow.cpp
deleted file mode 100644
index 81941f8..0000000
--- a/projects/dynamic/src/types/workflow.cpp
+++ /dev/null
@@ -1,158 +0,0 @@
-/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
- *
- * Copyright (C) 2012 Kitanda <info@kitanda.co.uk>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 3 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
- * MA 02110-1301, USA.
- *
- */
-#include <sstream>
-#include <boost/lexical_cast.hpp>
-#include <boost/throw_exception.hpp>
-#include "dogen/utility/log/logger.hpp"
-#include "dogen/utility/io/forward_list_io.hpp"
-#include "dogen/dynamic/io/field_definition_io.hpp"
-#include "dogen/dynamic/io/scope_types_io.hpp"
-#include "dogen/dynamic/types/field_instance_factory.hpp"
-#include "dogen/dynamic/types/workflow_error.hpp"
-#include "dogen/dynamic/types/workflow.hpp"
-
-namespace {
-
-using namespace dogen::utility::log;
-static logger lg(logger_factory("dynamic.workflow"));
-
-const std::string expected_scope(" Expected scope: ");
-const std::string actual_scope(" Actual scope: ");
-const std::string duplicate_field_definition(
-    "Field definition already inserted: ");
-const std::string field_definition_not_found(
-    "Field definition not found: ");
-const std::string field_used_in_invalid_scope(
-    "Field used in invalid scope: ");
-
-}
-
-namespace dogen {
-namespace dynamic {
-
-std::shared_ptr<registrar> workflow::registrar_;
-
-dynamic::registrar& workflow::registrar() {
-    if (!registrar_)
-        registrar_ = std::make_shared<dynamic::registrar>();
-
-    return *registrar_;
-}
-
-workflow::workflow(const bool throw_on_missing_field_definition)
-    : throw_on_missing_field_definition_(throw_on_missing_field_definition),
-      field_definitions_by_complete_name_(
-          create_field_definitions_by_complete_name()) { }
-
-std::unordered_map<std::string, field_definition> workflow::
-create_field_definitions_by_complete_name() const {
-    std::unordered_map<std::string, field_definition> r;
-
-    registrar().validate();
-    BOOST_LOG_SEV(lg, debug) << "Field definitions: "
-                             << registrar().field_definitions();
-
-    for (const auto& fd : registrar().field_definitions()) {
-        const auto qn(fd.name().qualified());
-        const auto result(r.insert(std::make_pair(qn, fd)));
-        if (!result.second) {
-            BOOST_LOG_SEV(lg, error) << duplicate_field_definition << qn;
-            BOOST_THROW_EXCEPTION(workflow_error(
-                    duplicate_field_definition + qn));
-        }
-    }
-    return r;
-}
-
-boost::optional<field_definition> workflow::
-obtain_field_definition(const std::string& complete_name,
-    const scope_types current_scope) const {
-
-    const auto i(field_definitions_by_complete_name_.find(complete_name));
-    if (i == field_definitions_by_complete_name_.end()) {
-        if (throw_on_missing_field_definition_) {
-            BOOST_LOG_SEV(lg, error) << field_definition_not_found
-                                     << complete_name;
-
-            BOOST_THROW_EXCEPTION(workflow_error(
-                    field_definition_not_found + complete_name));
-            return boost::optional<field_definition>();
-        }
-
-        BOOST_LOG_SEV(lg, warn) << field_definition_not_found << complete_name;
-        return boost::optional<field_definition>();
-    }
-
-    const auto& fd(i->second);
-    if (fd.scope() != scope_types::any &&
-        fd.scope() != scope_types::not_applicable &&
-        fd.scope() != current_scope) {
-
-        std::stringstream s;
-        s << field_used_in_invalid_scope << complete_name
-          << expected_scope << fd.scope()
-          << actual_scope << current_scope;
-        BOOST_LOG_SEV(lg, error) << s.str();
-        BOOST_THROW_EXCEPTION(workflow_error(s.str()));
-    }
-
-    return boost::optional<field_definition>(fd);
-}
-
-std::unordered_map<std::string, std::list<std::string> >
-workflow::aggregate_raw_data_activity(
-    const std::list<std::pair<std::string, std::string> >&
-    raw_data) const {
-    std::unordered_map<std::string, std::list<std::string> > r;
-
-    for (const auto& rd : raw_data)
-        r[rd.first].push_front(rd.second);
-
-    return r;
-}
-
-std::unordered_map<std::string, field_instance>
-workflow::create_fields_activity(
-    const std::unordered_map<std::string, std::list<std::string> >&
-    aggregated_data, const scope_types current_scope) const {
-    std::unordered_map<std::string, field_instance> r;
-    field_instance_factory f;
-    for (auto pair : aggregated_data) {
-        const auto& complete_name(pair.first);
-        const auto fd(obtain_field_definition(complete_name, current_scope));
-        if (!fd)
-            continue;
-
-        const auto& values(pair.second);
-        r[complete_name] = f.make(*fd, values);
-    }
-    return r;
-}
-
-object workflow::execute(const scope_types current_scope,
-    const std::list<std::pair<std::string, std::string>>&
-    raw_data) const {
-    auto aggregated_raw_data(aggregate_raw_data_activity(raw_data));
-    auto fields(create_fields_activity(aggregated_raw_data, current_scope));
-    return object(fields);
-}
-
-} }
