#+title: dogen.identification
#+options: <:nil c:nil todo:nil ^:nil d:nil date:nil author:nil
:PROPERTIES:
:masd.codec.dia.comment: true
:masd.codec.model_modules: dogen.identification
:masd.codec.input_technical_space: cpp
:masd.codec.reference: cpp.builtins
:masd.codec.reference: cpp.std
:masd.codec.reference: cpp.boost
:masd.codec.reference: masd
:masd.codec.reference: dogen.profiles
:masd.variability.profile: dogen.profiles.base.default_profile
:END:

Collection of types related to naming, labelling and general
identification within Dogen.

* entities
:PROPERTIES:
:masd.codec.dia.comment: true
:END:

Stores all of the entities related to identification
of Dogen elements.

** entities::name
:PROPERTIES:
:masd.codec.stereotypes: Nameable
:END:

General name for modeling elements which do not need any specialisation.

*** qualified
:PROPERTIES:
:masd.codec.type: std::string
:END:

Qualified name for an element.

** entities::codec_provenance
Source of a model element in the codec dimension.

*** model_id
:PROPERTIES:
:masd.codec.type: model_id
:END:

ID for a model.

*** model_type
:PROPERTIES:
:masd.codec.type: model_type
:END:

Type of the model where this element originates from.

*** model_sha1_hash
:PROPERTIES:
:masd.codec.type: sha1_hash
:END:

SHA1 key of the original codec model.

*** codec_id
:PROPERTIES:
:masd.codec.type: codec_id
:END:

Identifier for the modeling element in the codec dimension.

*** location
:PROPERTIES:
:masd.codec.type: codec_location
:END:

Where the element was located in the original source.

** entities::model_type
:PROPERTIES:
:masd.codec.stereotypes: masd::enumeration
:END:

Types of models with regards to the current generation taking place.

*** target
The element is part of the target model.

*** pdm_reference
The element was part of a reference model which is a PDM.

*** non_pdm_reference
The element was part of a reference model which is regular dogen model.

*** not_yet_determined
The origin of the element is not yet known.

** entities::sha1_hash
:PROPERTIES:
:masd.primitive.underlying_element: std::string
:masd.codec.stereotypes: masd::primitive
:END:

Stores a SHA1 hash.

** entities::codec_id
:PROPERTIES:
:masd.primitive.underlying_element: std::string
:masd.codec.stereotypes: masd::primitive
:END:

ID of the elment as sourced from the codec model, if any.

** entities::logical_id
:PROPERTIES:
:masd.primitive.underlying_element: std::string
:masd.codec.stereotypes: masd::primitive, dogen::hashable
:END:

ID of the elment in the logical dimension.

** entities::physical_meta_id
:PROPERTIES:
:masd.primitive.underlying_element: std::string
:masd.codec.stereotypes: masd::primitive, dogen::hashable
:END:

ID of the meta-element in the physical dimension.

** entities::codec_location
Location of a modeling element in the codec dimension.

*** line
:PROPERTIES:
:masd.codec.type: long
:END:

Line number where the element was defined.

*** column
:PROPERTIES:
:masd.codec.type: long
:END:

Column number where the element was defined.

** entities::logical_provenance
Source of a model element in the logical dimension.

*** codec
:PROPERTIES:
:masd.codec.type: codec_provenance
:END:

Provenance of the current element in the codec dimension.

*** logical_name
:PROPERTIES:
:masd.codec.type: logical_name
:END:

Provenance of the current element in the logical dimension.

*** logical_meta_name
:PROPERTIES:
:masd.codec.type: logical_meta_name
:END:

Provenance of the current element in the logical dimension as a meta-element.

** entities::logical_meta_id
:PROPERTIES:
:masd.primitive.underlying_element: std::string
:masd.codec.stereotypes: masd::primitive, dogen::hashable
:END:

ID for a logical meta-element.

** entities::label
A label is a key-value pair that can be used by the processing engine in a flexible way.

*** key
:PROPERTIES:
:masd.codec.type: std::string
:END:

Key of the label.

*** value
:PROPERTIES:
:masd.codec.type: std::string
:END:

Value associated with this label.

** entities::tagged_value
Represents a tagged value in a similar spirit to UMLs.

*** tag
:PROPERTIES:
:masd.codec.type: std::string
:END:

Tag name.

*** value
:PROPERTIES:
:masd.codec.type: std::string
:END:

Value associated with this tag.

** entities::logical_name
:PROPERTIES:
:masd.codec.stereotypes: Nameable, QualifiedRepresentations, dogen::hashable
:END:

Name of an element in logical space.

A name represents a point or a region in logical space, and this point or region can
only be used by one element. Names can be uniquely identified by their qualified ID.

Name has the following properties: a) two different points or regions in logical
space cannot have the same name and b) the same point in logical space can only
have one and only one name.

Names are required in addition to just using the qualfied ID representation
because we use them to infer all sorts of properties for an element (namespaces,
naming files, etc).

*** id
:PROPERTIES:
:masd.codec.type: logical_id
:END:

Identifier for this logical element.

*** location
:PROPERTIES:
:masd.codec.type: logical_location
:END:

Where the name is located in element space.

*** is_container
:PROPERTIES:
:masd.codec.type: bool
:END:

If true, the name indicates an element that can contain other elements.

** entities::logical_location
:PROPERTIES:
:masd.codec.stereotypes: dogen::hashable
:END:

Identifies a hierarchy of containment within the logical space.

*** external_modules
:PROPERTIES:
:masd.codec.type: std::list<std::string>
:END:

All modules external to the model itself.

It is sometimes useful to create a model within a set of existing
modules. In this case, the model does not own the existing modules and
they are considered "external" to the model. This is useful, for
example, when declaring a model within a larger project such as @e
dogen::logical. In this case, @e dogen is the external module.

*** model_modules
:PROPERTIES:
:masd.codec.type: std::list<std::string>
:END:

Modules related to just the model itself.

It is only different from the model name if the model name is composite;
that is, if the model name has multiple fields separated by dots, e.g. @ a.b.

*** internal_modules
:PROPERTIES:
:masd.codec.type: std::list<std::string>
:END:

Sub-modules within a model.

*** element
:PROPERTIES:
:masd.codec.type: std::string
:END:

Name of the owning element, if any.

For coding elements which are located within other logical elements
that are not modules, such as attributes, inner classes, etc.

** entities::qualified_representations
:PROPERTIES:
:masd.codec.stereotypes: dogen::hashable
:END:

All available qualified representations of a name.

*** dot
:PROPERTIES:
:masd.codec.type: std::string
:END:

Qualified identifier using "." as the separator.

*** colon
:PROPERTIES:
:masd.codec.type: std::string
:END:

Qualified identifier using "::" as the separator.

*** identifiable
:PROPERTIES:
:masd.codec.type: std::string
:END:

Representation of the identifier that can usable as an identifier on all of the
supported technical spaces, using the entire name structure.

** entities::physical_meta_location
Location of an entity or set of entities in the physical meta-model.

These must be populated in order, e.g. in order to have a backend we must have a
meta-model; in order to have a facet we must have a backend and in order to have a
formatter we must have a facet. We may not have any.

*** meta_model
:PROPERTIES:
:masd.codec.type: std::string
:END:

Top-most container for the physical space.

The meta-model is always expected to be  @e masd.

*** backend
:PROPERTIES:
:masd.codec.type: std::string
:END:

Name of the backend that owns this field, if any.

*** facet
:PROPERTIES:
:masd.codec.type: std::string
:END:

Name of the facet that owns this field, if any.

*** archetype
:PROPERTIES:
:masd.codec.type: std::string
:END:

Name of the archetype that owns this field, if any.

** entities::physical_meta_name
:PROPERTIES:
:masd.codec.stereotypes: Nameable
:END:

Name of an element in physical space.

A name represents a point or a region in physical space. It can only be used by one
physical element. Names can be uniquely identified by their qualified ID.

Name has the following properties: a) two different points or regionsin physical
space cannot have the same name and b) the same point or region in physical space
can only have one and only one name.

*** id
:PROPERTIES:
:masd.codec.type: physical_meta_id
:END:

Identifier for this physical meta-element.

*** location
:PROPERTIES:
:masd.codec.type: physical_meta_location
:END:

Location for a meta-name in physical space.

** entities::logical_meta_name
:PROPERTIES:
:masd.codec.stereotypes: Nameable
:END:
*** id
:PROPERTIES:
:masd.codec.type: logical_meta_id
:END:

Identifier for this logical meta-element.

** entities::technical_space
:PROPERTIES:
:masd.cpp.hash.enabled: true
:masd.codec.stereotypes: masd::enumeration, dogen::convertible
:END:

Models need to declare upfront the technical space they will target.

*** agnostic
Abstract technical space which is mapped to concrete technical spaces.

*** cpp
The C++ programming language.

*** csharp
The C# programming language.

*** cmake
CMake meta build system.

*** xml
Extensible Markup Language.

*** odb
ODB options.

*** sln
Visual studio solution.

** entities::physical_name
Name of a physical model element.

*** simple
:PROPERTIES:
:masd.codec.type: std::string
:END:

File or directory simple name.

*** id
:PROPERTIES:
:masd.codec.type: physical_id
:END:

ID for a physical element.

** entities::Nameable
:PROPERTIES:
:masd.codec.stereotypes: masd::object_template
:END:

Ability to have a name.

*** simple
:PROPERTIES:
:masd.codec.type: std::string
:END:

Simple name for a modeling element.

** entities::logical_meta_physical_id
:PROPERTIES:
:masd.codec.stereotypes: dogen::hashable
:END:

ID in the logical-physical space.

*** logical_id
:PROPERTIES:
:masd.codec.type: logical_id
:END:

ID of the element in the logical dimension.

*** physical_meta_id
:PROPERTIES:
:masd.codec.type: physical_meta_id
:END:

ID of the element in the physical dimension.

** entities::physical_id
:PROPERTIES:
:masd.primitive.underlying_element: std::string
:masd.codec.stereotypes: masd::primitive
:END:

ID for a physical element.

** entities::model_id
:PROPERTIES:
:masd.primitive.underlying_element: std::string
:masd.codec.stereotypes: masd::primitive
:END:

ID for a model.

** entities::stereotype
:PROPERTIES:
:masd.primitive.underlying_element: std::string
:masd.codec.stereotypes: masd::primitive
:END:

Stereotype.

** entities::logical_name_tree
:PROPERTIES:
:masd.codec.stereotypes: QualifiedRepresentations
:END:

Adds support for name composition as a tree-like structure.

A logical name tree has the responsibility of representing an instantiation of a
generic type with all of its type parameters, which themselves can also be generic
types and so on. It may also represent the simpler case of a non-generic type, in
which case only the parent name is populated and there are no children.

*** current
:PROPERTIES:
:masd.codec.type: logical_name
:END:

Name for the current level of the tree.

*** children
:PROPERTIES:
:masd.codec.type: std::list<logical_name_tree>
:END:

Names of the child elements.

*** are_children_opaque
:PROPERTIES:
:masd.codec.type: bool
:END:

If true, the association with its children can be opaque.

Children are considered opaque when the parent does not require knowledge
about the childs' internal structure. This is the case, for example, with C and
C++ pointers, references and so on.

*** is_circular_dependency
:PROPERTIES:
:masd.codec.type: bool
:END:

If true, the presence of the current name causes a circular dependency.

*** is_current_simple_type
:PROPERTIES:
:masd.codec.type: bool
:END:

Returns true if @e current is a simple type such as a built-in or an enumeration.

*** is_floating_point
:PROPERTIES:
:masd.codec.type: bool
:END:

If true, "current" stores a floating point type.

** entities::QualifiedRepresentations
:PROPERTIES:
:masd.codec.stereotypes: masd::object_template
:END:

Name with multiple qualified representations.

*** qualified
:PROPERTIES:
:masd.codec.type: qualified_representations
:END:

Contains the name according to different representations.

** entities::archetype_name_set
*** logical_meta_id
:PROPERTIES:
:masd.codec.type: logical_meta_id
:END:

Identifier of the meta-element in the logical dimension.

*** meta_names
:PROPERTIES:
:masd.codec.type: std::list<physical_meta_name>
:END:

All meta-names that belong to this group.

*** canonical_locations
:PROPERTIES:
:masd.codec.type: std::unordered_map<physical_meta_id, physical_meta_id>
:END:

Maps a concrete archetype location to its canonical form, if the canonical
form is supported. Otherwise no such mapping will exist.

*** archetype_for_label
:PROPERTIES:
:masd.codec.type: std::unordered_map<physical_meta_id, physical_meta_id>
:END:

Maps a label to archetype ID within the present logical manifold.

** entities::physical_meta_name_indices
Containing physical meta-names, indexed as required by use cases.

*** all
:PROPERTIES:
:masd.codec.type: std::list<physical_meta_name>
:END:

All meta-names.

*** facet_names_by_backend_name
:PROPERTIES:
:masd.codec.type: std::unordered_map<physical_meta_id, std::unordered_set<physical_meta_id>>
:END:

Qualified names of facets by qualified names of backends.

*** archetype_names_by_logical_meta_name
:PROPERTIES:
:masd.codec.type: std::unordered_map<logical_meta_id, archetype_name_set>
:END:

Physical meta-names by logical meta-names.

*** archetype_names_by_backend_by_facet
:PROPERTIES:
:masd.codec.type: std::unordered_map<physical_meta_id, std::unordered_map<physical_meta_id, std::list<physical_meta_id>>>
:END:

Archetype names by qualified backend and facet names

* helpers
:PROPERTIES:
:masd.codec.dia.comment: true
:END:

Assorted helpers used to construct domain entities.

** helpers::identifiable_factory
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
** helpers::building_error
:PROPERTIES:
:masd.codec.stereotypes: masd::exception
:END:

An error occurred whilst building.

** helpers::qualified_representations_builder
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
*** dot_printer_
:PROPERTIES:
:masd.codec.type: pretty_printer
:END:
*** colon_printer_
:PROPERTIES:
:masd.codec.type: pretty_printer
:END:
** helpers::logical_name_factory
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
** helpers::logical_name_builder
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
*** name_
:PROPERTIES:
:masd.codec.type: entities::logical_name
:END:
** helpers::logical_name_flattener
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
** helpers::logical_location_builder
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
*** location_
:PROPERTIES:
:masd.codec.type: entities::logical_location
:END:
** helpers::flattening_error
:PROPERTIES:
:masd.codec.stereotypes: masd::exception
:END:

An error occurred whilst flattening a name.

** helpers::printing_error
:PROPERTIES:
:masd.codec.stereotypes: masd::exception
:END:

An error occurred whilst pretty printing.

** helpers::pretty_printer
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
** helpers::separators
:PROPERTIES:
:masd.codec.stereotypes: masd::enumeration
:END:

Available separators to be used by the pretty printer.

*** angle_brackets
Enclose name elements in '<' and '>'.

*** double_colons
Separate name elements with a '::'.

*** dots
Separate name elements with a '.'.

** helpers::physical_meta_name_factory
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
** helpers::physical_meta_name_builder
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
** helpers::physical_meta_id_builder
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
** helpers::logical_name_tree_builder
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
*** names_
:PROPERTIES:
:masd.codec.type: std::list<std::string>
:END:
*** root_
:PROPERTIES:
:masd.codec.type: boost::shared_ptr<node>
:END:
*** current_
:PROPERTIES:
:masd.codec.type: boost::shared_ptr<node>
:END:
** helpers::legacy_logical_name_tree_parser
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
** helpers::node
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:

Node in a tree of logical names.

Temporary data structure used to build trees of logical names.

*** parent
:PROPERTIES:
:masd.codec.type: boost::weak_ptr<node>
:END:

Parent in a tree.

*** data
:PROPERTIES:
:masd.codec.type: entities::logical_name
:END:

Current node.

*** children
:PROPERTIES:
:masd.codec.type: std::list<boost::shared_ptr<node>>
:END:

Child nodes in a tree.

** helpers::new_logical_name_tree_parser
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
** helpers::parsing_error
:PROPERTIES:
:masd.codec.stereotypes: masd::exception
:END:

A fatal error has occurred while parsing.

** helpers::physical_meta_name_validator
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
** helpers::validation_error
:PROPERTIES:
:masd.codec.stereotypes: masd::exception
:END:

An error occurred during validation.

** helpers::physical_id_factory
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
** helpers::meta_name_index_builder
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
** helpers::logical_meta_name_factory
:PROPERTIES:
:masd.codec.stereotypes: dogen::handcrafted::typeable
:END:
* CMakeLists
:PROPERTIES:
:masd.codec.stereotypes: masd::build::cmakelists, dogen::handcrafted::cmake
:END:
* main
:PROPERTIES:
:masd.codec.stereotypes: masd::entry_point, dogen::untypable
:END:
