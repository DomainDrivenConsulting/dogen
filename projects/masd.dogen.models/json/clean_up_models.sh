#!/bin/bash

#
# Quick hack to rename files generated by converter. The problem at
# the moment is that filenames with multiple extensions don't work too
# well with CMake. So, to make things easier, we end up generating
# incorrect file names from conversion, and then massage them using
# this script.
#
# To convert models:
# - delete all JSON models: rm *json
# - execute ca target
# - run this script.
# - run iaj target

# Note: order matters in these renames.
mv masd.dogen.dia.json masd.dogen.json
mv masd.dogen.dia.dia.json masd.dogen.dia.json

mv masd.dogen.injection.dia.json masd.dogen.injection.json
mv masd.dogen.injection.dia.dia.json masd.dogen.injection.dia.json
mv masd.dogen.injection.json.dia.json masd.dogen.injection.json.json

mv data_driven_experiments.dia.json data_driven_experiments.json
mv hello_world.dia.json hello_world.json
mv masd.dogen.annotations.dia.json masd.dogen.annotations.json
mv masd.dogen.cli.dia.json masd.dogen.cli.json
mv masd.dogen.coding.dia.json masd.dogen.coding.json
mv masd.dogen.extraction.dia.json masd.dogen.extraction.json
mv masd.dogen.generation.cpp.dia.json masd.dogen.generation.cpp.json
mv masd.dogen.generation.csharp.dia.json masd.dogen.generation.csharp.json
mv masd.dogen.generation.dia.json masd.dogen.generation.json
mv masd.dogen.old.dia.json masd.dogen.old.json
mv masd.dogen.orchestration.dia.json masd.dogen.orchestration.json
mv masd.dogen.templating.dia.json masd.dogen.templating.json
mv masd.dogen.tracing.dia.json masd.dogen.tracing.json
mv masd.dogen.utility.dia.json masd.dogen.utility.json
